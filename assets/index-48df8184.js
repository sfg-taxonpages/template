(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Ua(t,n){const i=Object.create(null),o=t.split(",");for(let l=0;l<o.length;l++)i[o[l]]=!0;return n?l=>!!i[l.toLowerCase()]:l=>!!i[l]}const Ee={},di=[],En=()=>{},pf=()=>!1,mf=/^on[^a-z]/,go=t=>mf.test(t),Ga=t=>t.startsWith("onUpdate:"),ze=Object.assign,Za=(t,n)=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)},gf=Object.prototype.hasOwnProperty,me=(t,n)=>gf.call(t,n),Gt=Array.isArray,fi=t=>fs(t)==="[object Map]",Mu=t=>fs(t)==="[object Set]",re=t=>typeof t=="function",De=t=>typeof t=="string",qa=t=>typeof t=="symbol",Oe=t=>t!==null&&typeof t=="object",Cu=t=>Oe(t)&&re(t.then)&&re(t.catch),Pu=Object.prototype.toString,fs=t=>Pu.call(t),_f=t=>fs(t).slice(8,-1),Su=t=>fs(t)==="[object Object]",Ka=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qi=Ua(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ps=t=>{const n=Object.create(null);return i=>n[i]||(n[i]=t(i))},yf=/-(\w)/g,Hn=ps(t=>t.replace(yf,(n,i)=>i?i.toUpperCase():"")),vf=/\B([A-Z])/g,xi=ps(t=>t.replace(vf,"-$1").toLowerCase()),ms=ps(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qs=ps(t=>t?`on${ms(t)}`:""),so=(t,n)=>!Object.is(t,n),Wo=(t,n)=>{for(let i=0;i<t.length;i++)t[i](n)},ns=(t,n,i)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:i})},ya=t=>{const n=parseFloat(t);return isNaN(n)?t:n},bf=t=>{const n=De(t)?Number(t):NaN;return isNaN(n)?t:n};let ec;const va=()=>ec||(ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $r(t){if(Gt(t)){const n={};for(let i=0;i<t.length;i++){const o=t[i],l=De(o)?Lf(o):$r(o);if(l)for(const c in l)n[c]=l[c]}return n}else{if(De(t))return t;if(Oe(t))return t}}const wf=/;(?![^(]*\))/g,xf=/:([^]+)/,kf=/\/\*[^]*?\*\//g;function Lf(t){const n={};return t.replace(kf,"").split(wf).forEach(i=>{if(i){const o=i.split(xf);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function Fn(t){let n="";if(De(t))n=t;else if(Gt(t))for(let i=0;i<t.length;i++){const o=Fn(t[i]);o&&(n+=o+" ")}else if(Oe(t))for(const i in t)t[i]&&(n+=i+" ");return n.trim()}const Mf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cf=Ua(Mf);function Eu(t){return!!t||t===""}const he=t=>De(t)?t:t==null?"":Gt(t)||Oe(t)&&(t.toString===Pu||!re(t.toString))?JSON.stringify(t,Tu,2):String(t),Tu=(t,n)=>n&&n.__v_isRef?Tu(t,n.value):fi(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[o,l])=>(i[`${o} =>`]=l,i),{})}:Mu(n)?{[`Set(${n.size})`]:[...n.values()]}:Oe(n)&&!Gt(n)&&!Su(n)?String(n):n;let cn;class Ou{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cn,!n&&cn&&(this.index=(cn.scopes||(cn.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const i=cn;try{return cn=this,n()}finally{cn=i}}}on(){cn=this}off(){cn=this.parent}stop(n){if(this._active){let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.scopes)for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function Ru(t){return new Ou(t)}function Pf(t,n=cn){n&&n.active&&n.effects.push(t)}function Au(){return cn}function Sf(t){cn&&cn.cleanups.push(t)}const Wa=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Bu=t=>(t.w&xr)>0,Iu=t=>(t.n&xr)>0,Ef=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=xr},Tf=t=>{const{deps:n}=t;if(n.length){let i=0;for(let o=0;o<n.length;o++){const l=n[o];Bu(l)&&!Iu(l)?l.delete(t):n[i++]=l,l.w&=~xr,l.n&=~xr}n.length=i}},rs=new WeakMap;let Yi=0,xr=1;const ba=30;let Pn;const Ur=Symbol(""),wa=Symbol("");class Ja{constructor(n,i=null,o){this.fn=n,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,Pf(this,o)}run(){if(!this.active)return this.fn();let n=Pn,i=vr;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Pn,Pn=this,vr=!0,xr=1<<++Yi,Yi<=ba?Ef(this):nc(this),this.fn()}finally{Yi<=ba&&Tf(this),xr=1<<--Yi,Pn=this.parent,vr=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pn===this?this.deferStop=!0:this.active&&(nc(this),this.onStop&&this.onStop(),this.active=!1)}}function nc(t){const{deps:n}=t;if(n.length){for(let i=0;i<n.length;i++)n[i].delete(t);n.length=0}}let vr=!0;const Du=[];function ki(){Du.push(vr),vr=!1}function Li(){const t=Du.pop();vr=t===void 0?!0:t}function sn(t,n,i){if(vr&&Pn){let o=rs.get(t);o||rs.set(t,o=new Map);let l=o.get(i);l||o.set(i,l=Wa()),ju(l)}}function ju(t,n){let i=!1;Yi<=ba?Iu(t)||(t.n|=xr,i=!Bu(t)):i=!t.has(Pn),i&&(t.add(Pn),Pn.deps.push(t))}function er(t,n,i,o,l,c){const h=rs.get(t);if(!h)return;let f=[];if(n==="clear")f=[...h.values()];else if(i==="length"&&Gt(t)){const m=Number(o);h.forEach((g,y)=>{(y==="length"||y>=m)&&f.push(g)})}else switch(i!==void 0&&f.push(h.get(i)),n){case"add":Gt(t)?Ka(i)&&f.push(h.get("length")):(f.push(h.get(Ur)),fi(t)&&f.push(h.get(wa)));break;case"delete":Gt(t)||(f.push(h.get(Ur)),fi(t)&&f.push(h.get(wa)));break;case"set":fi(t)&&f.push(h.get(Ur));break}if(f.length===1)f[0]&&xa(f[0]);else{const m=[];for(const g of f)g&&m.push(...g);xa(Wa(m))}}function xa(t,n){const i=Gt(t)?t:[...t];for(const o of i)o.computed&&rc(o);for(const o of i)o.computed||rc(o)}function rc(t,n){(t!==Pn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Of(t,n){var i;return(i=rs.get(t))==null?void 0:i.get(n)}const Rf=Ua("__proto__,__v_isRef,__isVue"),zu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qa)),Af=Ya(),Bf=Ya(!1,!0),If=Ya(!0),ic=Df();function Df(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...i){const o=pe(this);for(let c=0,h=this.length;c<h;c++)sn(o,"get",c+"");const l=o[n](...i);return l===-1||l===!1?o[n](...i.map(pe)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...i){ki();const o=pe(this)[n].apply(this,i);return Li(),o}}),t}function jf(t){const n=pe(this);return sn(n,"has",t),n.hasOwnProperty(t)}function Ya(t=!1,n=!1){return function(o,l,c){if(l==="__v_isReactive")return!t;if(l==="__v_isReadonly")return t;if(l==="__v_isShallow")return n;if(l==="__v_raw"&&c===(t?n?Qf:$u:n?Vu:Fu).get(o))return o;const h=Gt(o);if(!t){if(h&&me(ic,l))return Reflect.get(ic,l,c);if(l==="hasOwnProperty")return jf}const f=Reflect.get(o,l,c);return(qa(l)?zu.has(l):Rf(l))||(t||sn(o,"get",l),n)?f:Ie(f)?h&&Ka(l)?f:f.value:Oe(f)?t?Uu(f):Mi(f):f}}const zf=Nu(),Nf=Nu(!0);function Nu(t=!1){return function(i,o,l,c){let h=i[o];if(gi(h)&&Ie(h)&&!Ie(l))return!1;if(!t&&(!is(l)&&!gi(l)&&(h=pe(h),l=pe(l)),!Gt(i)&&Ie(h)&&!Ie(l)))return h.value=l,!0;const f=Gt(i)&&Ka(o)?Number(o)<i.length:me(i,o),m=Reflect.set(i,o,l,c);return i===pe(c)&&(f?so(l,h)&&er(i,"set",o,l):er(i,"add",o,l)),m}}function Hf(t,n){const i=me(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&er(t,"delete",n,void 0),o}function Ff(t,n){const i=Reflect.has(t,n);return(!qa(n)||!zu.has(n))&&sn(t,"has",n),i}function Vf(t){return sn(t,"iterate",Gt(t)?"length":Ur),Reflect.ownKeys(t)}const Hu={get:Af,set:zf,deleteProperty:Hf,has:Ff,ownKeys:Vf},$f={get:If,set(t,n){return!0},deleteProperty(t,n){return!0}},Uf=ze({},Hu,{get:Bf,set:Nf}),Xa=t=>t,gs=t=>Reflect.getPrototypeOf(t);function No(t,n,i=!1,o=!1){t=t.__v_raw;const l=pe(t),c=pe(n);i||(n!==c&&sn(l,"get",n),sn(l,"get",c));const{has:h}=gs(l),f=o?Xa:i?el:ao;if(h.call(l,n))return f(t.get(n));if(h.call(l,c))return f(t.get(c));t!==l&&t.get(n)}function Ho(t,n=!1){const i=this.__v_raw,o=pe(i),l=pe(t);return n||(t!==l&&sn(o,"has",t),sn(o,"has",l)),t===l?i.has(t):i.has(t)||i.has(l)}function Fo(t,n=!1){return t=t.__v_raw,!n&&sn(pe(t),"iterate",Ur),Reflect.get(t,"size",t)}function oc(t){t=pe(t);const n=pe(this);return gs(n).has.call(n,t)||(n.add(t),er(n,"add",t,t)),this}function sc(t,n){n=pe(n);const i=pe(this),{has:o,get:l}=gs(i);let c=o.call(i,t);c||(t=pe(t),c=o.call(i,t));const h=l.call(i,t);return i.set(t,n),c?so(n,h)&&er(i,"set",t,n):er(i,"add",t,n),this}function ac(t){const n=pe(this),{has:i,get:o}=gs(n);let l=i.call(n,t);l||(t=pe(t),l=i.call(n,t)),o&&o.call(n,t);const c=n.delete(t);return l&&er(n,"delete",t,void 0),c}function lc(){const t=pe(this),n=t.size!==0,i=t.clear();return n&&er(t,"clear",void 0,void 0),i}function Vo(t,n){return function(o,l){const c=this,h=c.__v_raw,f=pe(h),m=n?Xa:t?el:ao;return!t&&sn(f,"iterate",Ur),h.forEach((g,y)=>o.call(l,m(g),m(y),c))}}function $o(t,n,i){return function(...o){const l=this.__v_raw,c=pe(l),h=fi(c),f=t==="entries"||t===Symbol.iterator&&h,m=t==="keys"&&h,g=l[t](...o),y=i?Xa:n?el:ao;return!n&&sn(c,"iterate",m?wa:Ur),{next(){const{value:k,done:S}=g.next();return S?{value:k,done:S}:{value:f?[y(k[0]),y(k[1])]:y(k),done:S}},[Symbol.iterator](){return this}}}}function ur(t){return function(...n){return t==="delete"?!1:this}}function Gf(){const t={get(c){return No(this,c)},get size(){return Fo(this)},has:Ho,add:oc,set:sc,delete:ac,clear:lc,forEach:Vo(!1,!1)},n={get(c){return No(this,c,!1,!0)},get size(){return Fo(this)},has:Ho,add:oc,set:sc,delete:ac,clear:lc,forEach:Vo(!1,!0)},i={get(c){return No(this,c,!0)},get size(){return Fo(this,!0)},has(c){return Ho.call(this,c,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:Vo(!0,!1)},o={get(c){return No(this,c,!0,!0)},get size(){return Fo(this,!0)},has(c){return Ho.call(this,c,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:Vo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{t[c]=$o(c,!1,!1),i[c]=$o(c,!0,!1),n[c]=$o(c,!1,!0),o[c]=$o(c,!0,!0)}),[t,i,n,o]}const[Zf,qf,Kf,Wf]=Gf();function Qa(t,n){const i=n?t?Wf:Kf:t?qf:Zf;return(o,l,c)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?o:Reflect.get(me(i,l)&&l in o?i:o,l,c)}const Jf={get:Qa(!1,!1)},Yf={get:Qa(!1,!0)},Xf={get:Qa(!0,!1)},Fu=new WeakMap,Vu=new WeakMap,$u=new WeakMap,Qf=new WeakMap;function tp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ep(t){return t.__v_skip||!Object.isExtensible(t)?0:tp(_f(t))}function Mi(t){return gi(t)?t:tl(t,!1,Hu,Jf,Fu)}function np(t){return tl(t,!1,Uf,Yf,Vu)}function Uu(t){return tl(t,!0,$f,Xf,$u)}function tl(t,n,i,o,l){if(!Oe(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const c=l.get(t);if(c)return c;const h=ep(t);if(h===0)return t;const f=new Proxy(t,h===2?o:i);return l.set(t,f),f}function br(t){return gi(t)?br(t.__v_raw):!!(t&&t.__v_isReactive)}function gi(t){return!!(t&&t.__v_isReadonly)}function is(t){return!!(t&&t.__v_isShallow)}function Gu(t){return br(t)||gi(t)}function pe(t){const n=t&&t.__v_raw;return n?pe(n):t}function _s(t){return ns(t,"__v_skip",!0),t}const ao=t=>Oe(t)?Mi(t):t,el=t=>Oe(t)?Uu(t):t;function Zu(t){vr&&Pn&&(t=pe(t),ju(t.dep||(t.dep=Wa())))}function qu(t,n){t=pe(t);const i=t.dep;i&&xa(i)}function Ie(t){return!!(t&&t.__v_isRef===!0)}function Qt(t){return Ku(t,!1)}function rp(t){return Ku(t,!0)}function Ku(t,n){return Ie(t)?t:new ip(t,n)}class ip{constructor(n,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?n:pe(n),this._value=i?n:ao(n)}get value(){return Zu(this),this._value}set value(n){const i=this.__v_isShallow||is(n)||gi(n);n=i?n:pe(n),so(n,this._rawValue)&&(this._rawValue=n,this._value=i?n:ao(n),qu(this))}}function Xt(t){return Ie(t)?t.value:t}const op={get:(t,n,i)=>Xt(Reflect.get(t,n,i)),set:(t,n,i,o)=>{const l=t[n];return Ie(l)&&!Ie(i)?(l.value=i,!0):Reflect.set(t,n,i,o)}};function Wu(t){return br(t)?t:new Proxy(t,op)}function sp(t){const n=Gt(t)?new Array(t.length):{};for(const i in t)n[i]=lp(t,i);return n}class ap{constructor(n,i,o){this._object=n,this._key=i,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return Of(pe(this._object),this._key)}}function lp(t,n,i){const o=t[n];return Ie(o)?o:new ap(t,n,i)}class cp{constructor(n,i,o,l){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ja(n,()=>{this._dirty||(this._dirty=!0,qu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const n=pe(this);return Zu(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function up(t,n,i=!1){let o,l;const c=re(t);return c?(o=t,l=En):(o=t.get,l=t.set),new cp(o,l,c||!l,i)}function wr(t,n,i,o){let l;try{l=o?t(...o):t()}catch(c){ys(c,n,i)}return l}function vn(t,n,i,o){if(re(t)){const c=wr(t,n,i,o);return c&&Cu(c)&&c.catch(h=>{ys(h,n,i)}),c}const l=[];for(let c=0;c<t.length;c++)l.push(vn(t[c],n,i,o));return l}function ys(t,n,i,o=!0){const l=n?n.vnode:null;if(n){let c=n.parent;const h=n.proxy,f=i;for(;c;){const g=c.ec;if(g){for(let y=0;y<g.length;y++)if(g[y](t,h,f)===!1)return}c=c.parent}const m=n.appContext.config.errorHandler;if(m){wr(m,null,10,[t,h,f]);return}}hp(t,i,l,o)}function hp(t,n,i,o=!0){console.error(t)}let lo=!1,ka=!1;const Je=[];let zn=0;const pi=[];let Qn=null,Nr=0;const Ju=Promise.resolve();let nl=null;function vs(t){const n=nl||Ju;return t?n.then(this?t.bind(this):t):n}function dp(t){let n=zn+1,i=Je.length;for(;n<i;){const o=n+i>>>1;co(Je[o])<t?n=o+1:i=o}return n}function rl(t){(!Je.length||!Je.includes(t,lo&&t.allowRecurse?zn+1:zn))&&(t.id==null?Je.push(t):Je.splice(dp(t.id),0,t),Yu())}function Yu(){!lo&&!ka&&(ka=!0,nl=Ju.then(Xu))}function fp(t){const n=Je.indexOf(t);n>zn&&Je.splice(n,1)}function pp(t){Gt(t)?pi.push(...t):(!Qn||!Qn.includes(t,t.allowRecurse?Nr+1:Nr))&&pi.push(t),Yu()}function cc(t,n=lo?zn+1:0){for(;n<Je.length;n++){const i=Je[n];i&&i.pre&&(Je.splice(n,1),n--,i())}}function os(t){if(pi.length){const n=[...new Set(pi)];if(pi.length=0,Qn){Qn.push(...n);return}for(Qn=n,Qn.sort((i,o)=>co(i)-co(o)),Nr=0;Nr<Qn.length;Nr++)Qn[Nr]();Qn=null,Nr=0}}const co=t=>t.id==null?1/0:t.id,mp=(t,n)=>{const i=co(t)-co(n);if(i===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return i};function Xu(t){ka=!1,lo=!0,Je.sort(mp);const n=En;try{for(zn=0;zn<Je.length;zn++){const i=Je[zn];i&&i.active!==!1&&wr(i,null,14)}}finally{zn=0,Je.length=0,os(),lo=!1,nl=null,(Je.length||pi.length)&&Xu()}}function gp(t,n,...i){if(t.isUnmounted)return;const o=t.vnode.props||Ee;let l=i;const c=n.startsWith("update:"),h=c&&n.slice(7);if(h&&h in o){const y=`${h==="modelValue"?"model":h}Modifiers`,{number:k,trim:S}=o[y]||Ee;S&&(l=i.map(j=>De(j)?j.trim():j)),k&&(l=i.map(ya))}let f,m=o[f=Qs(n)]||o[f=Qs(Hn(n))];!m&&c&&(m=o[f=Qs(xi(n))]),m&&vn(m,t,6,l);const g=o[f+"Once"];if(g){if(!t.emitted)t.emitted={};else if(t.emitted[f])return;t.emitted[f]=!0,vn(g,t,6,l)}}function Qu(t,n,i=!1){const o=n.emitsCache,l=o.get(t);if(l!==void 0)return l;const c=t.emits;let h={},f=!1;if(!re(t)){const m=g=>{const y=Qu(g,n,!0);y&&(f=!0,ze(h,y))};!i&&n.mixins.length&&n.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}return!c&&!f?(Oe(t)&&o.set(t,null),null):(Gt(c)?c.forEach(m=>h[m]=null):ze(h,c),Oe(t)&&o.set(t,h),h)}function bs(t,n){return!t||!go(n)?!1:(n=n.slice(2).replace(/Once$/,""),me(t,n[0].toLowerCase()+n.slice(1))||me(t,xi(n))||me(t,n))}let Ge=null,ws=null;function ss(t){const n=Ge;return Ge=t,ws=t&&t.type.__scopeId||null,n}function th(t){ws=t}function eh(){ws=null}function _t(t,n=Ge,i){if(!n||t._n)return t;const o=(...l)=>{o._d&&wc(-1);const c=ss(n);let h;try{h=t(...l)}finally{ss(c),o._d&&wc(1)}return h};return o._n=!0,o._c=!0,o._d=!0,o}function ta(t){const{type:n,vnode:i,proxy:o,withProxy:l,props:c,propsOptions:[h],slots:f,attrs:m,emit:g,render:y,renderCache:k,data:S,setupState:j,ctx:T,inheritAttrs:C}=t;let G,E;const R=ss(t);try{if(i.shapeFlag&4){const M=l||o;G=Cn(y.call(M,M,k,c,j,S,T)),E=m}else{const M=n;G=Cn(M.length>1?M(c,{attrs:m,slots:f,emit:g}):M(c,null)),E=n.props?m:_p(m)}}catch(M){no.length=0,ys(M,t,1),G=it(un)}let H=G;if(E&&C!==!1){const M=Object.keys(E),{shapeFlag:I}=H;M.length&&I&7&&(h&&M.some(Ga)&&(E=yp(E,h)),H=kr(H,E))}return i.dirs&&(H=kr(H),H.dirs=H.dirs?H.dirs.concat(i.dirs):i.dirs),i.transition&&(H.transition=i.transition),G=H,ss(R),G}const _p=t=>{let n;for(const i in t)(i==="class"||i==="style"||go(i))&&((n||(n={}))[i]=t[i]);return n},yp=(t,n)=>{const i={};for(const o in t)(!Ga(o)||!(o.slice(9)in n))&&(i[o]=t[o]);return i};function vp(t,n,i){const{props:o,children:l,component:c}=t,{props:h,children:f,patchFlag:m}=n,g=c.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&m>=0){if(m&1024)return!0;if(m&16)return o?uc(o,h,g):!!h;if(m&8){const y=n.dynamicProps;for(let k=0;k<y.length;k++){const S=y[k];if(h[S]!==o[S]&&!bs(g,S))return!0}}}else return(l||f)&&(!f||!f.$stable)?!0:o===h?!1:o?h?uc(o,h,g):!0:!!h;return!1}function uc(t,n,i){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let l=0;l<o.length;l++){const c=o[l];if(n[c]!==t[c]&&!bs(i,c))return!0}return!1}function bp({vnode:t,parent:n},i){for(;n&&n.subTree===t;)(t=n.vnode).el=i,n=n.parent}const wp=t=>t.__isSuspense;function nh(t,n){n&&n.pendingBranch?Gt(t)?n.effects.push(...t):n.effects.push(t):pp(t)}const Uo={};function Fe(t,n,i){return rh(t,n,i)}function rh(t,n,{immediate:i,deep:o,flush:l,onTrack:c,onTrigger:h}=Ee){var f;const m=Au()===((f=He)==null?void 0:f.scope)?He:null;let g,y=!1,k=!1;if(Ie(t)?(g=()=>t.value,y=is(t)):br(t)?(g=()=>t,o=!0):Gt(t)?(k=!0,y=t.some(M=>br(M)||is(M)),g=()=>t.map(M=>{if(Ie(M))return M.value;if(br(M))return Vr(M);if(re(M))return wr(M,m,2)})):re(t)?n?g=()=>wr(t,m,2):g=()=>{if(!(m&&m.isUnmounted))return S&&S(),vn(t,m,3,[j])}:g=En,n&&o){const M=g;g=()=>Vr(M())}let S,j=M=>{S=R.onStop=()=>{wr(M,m,4)}},T;if(fo)if(j=En,n?i&&vn(n,m,3,[g(),k?[]:void 0,j]):g(),l==="sync"){const M=mm();T=M.__watcherHandles||(M.__watcherHandles=[])}else return En;let C=k?new Array(t.length).fill(Uo):Uo;const G=()=>{if(R.active)if(n){const M=R.run();(o||y||(k?M.some((I,K)=>so(I,C[K])):so(M,C)))&&(S&&S(),vn(n,m,3,[M,C===Uo?void 0:k&&C[0]===Uo?[]:C,j]),C=M)}else R.run()};G.allowRecurse=!!n;let E;l==="sync"?E=G:l==="post"?E=()=>rn(G,m&&m.suspense):(G.pre=!0,m&&(G.id=m.uid),E=()=>rl(G));const R=new Ja(g,E);n?i?G():C=R.run():l==="post"?rn(R.run.bind(R),m&&m.suspense):R.run();const H=()=>{R.stop(),m&&m.scope&&Za(m.scope.effects,R)};return T&&T.push(H),H}function xp(t,n,i){const o=this.proxy,l=De(t)?t.includes(".")?ih(o,t):()=>o[t]:t.bind(o,o);let c;re(n)?c=n:(c=n.handler,i=n);const h=He;yi(this);const f=rh(l,c.bind(o),i);return h?yi(h):Gr(),f}function ih(t,n){const i=n.split(".");return()=>{let o=t;for(let l=0;l<i.length&&o;l++)o=o[i[l]];return o}}function Vr(t,n){if(!Oe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),Ie(t))Vr(t.value,n);else if(Gt(t))for(let i=0;i<t.length;i++)Vr(t[i],n);else if(Mu(t)||fi(t))t.forEach(i=>{Vr(i,n)});else if(Su(t))for(const i in t)Vr(t[i],n);return t}function il(t,n){const i=Ge;if(i===null)return t;const o=Cs(i)||i.proxy,l=t.dirs||(t.dirs=[]);for(let c=0;c<n.length;c++){let[h,f,m,g=Ee]=n[c];h&&(re(h)&&(h={mounted:h,updated:h}),h.deep&&Vr(f),l.push({dir:h,instance:o,value:f,oldValue:void 0,arg:m,modifiers:g}))}return t}function jn(t,n,i,o){const l=t.dirs,c=n&&n.dirs;for(let h=0;h<l.length;h++){const f=l[h];c&&(f.oldValue=c[h].value);let m=f.dir[o];m&&(ki(),vn(m,i,8,[t.el,f,t,n]),Li())}}function kp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hn(()=>{t.isMounted=!0}),Ls(()=>{t.isUnmounting=!0}),t}const _n=[Function,Array],oh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_n,onEnter:_n,onAfterEnter:_n,onEnterCancelled:_n,onBeforeLeave:_n,onLeave:_n,onAfterLeave:_n,onLeaveCancelled:_n,onBeforeAppear:_n,onAppear:_n,onAfterAppear:_n,onAppearCancelled:_n},Lp={name:"BaseTransition",props:oh,setup(t,{slots:n}){const i=Lh(),o=kp();let l;return()=>{const c=n.default&&ah(n.default(),!0);if(!c||!c.length)return;let h=c[0];if(c.length>1){for(const C of c)if(C.type!==un){h=C;break}}const f=pe(t),{mode:m}=f;if(o.isLeaving)return ea(h);const g=hc(h);if(!g)return ea(h);const y=La(g,f,o,i);Ma(g,y);const k=i.subTree,S=k&&hc(k);let j=!1;const{getTransitionKey:T}=g.type;if(T){const C=T();l===void 0?l=C:C!==l&&(l=C,j=!0)}if(S&&S.type!==un&&(!Hr(g,S)||j)){const C=La(S,f,o,i);if(Ma(S,C),m==="out-in")return o.isLeaving=!0,C.afterLeave=()=>{o.isLeaving=!1,i.update.active!==!1&&i.update()},ea(h);m==="in-out"&&g.type!==un&&(C.delayLeave=(G,E,R)=>{const H=sh(o,S);H[String(S.key)]=S,G._leaveCb=()=>{E(),G._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=R})}return h}}},Mp=Lp;function sh(t,n){const{leavingVNodes:i}=t;let o=i.get(n.type);return o||(o=Object.create(null),i.set(n.type,o)),o}function La(t,n,i,o){const{appear:l,mode:c,persisted:h=!1,onBeforeEnter:f,onEnter:m,onAfterEnter:g,onEnterCancelled:y,onBeforeLeave:k,onLeave:S,onAfterLeave:j,onLeaveCancelled:T,onBeforeAppear:C,onAppear:G,onAfterAppear:E,onAppearCancelled:R}=n,H=String(t.key),M=sh(i,t),I=(J,et)=>{J&&vn(J,o,9,et)},K=(J,et)=>{const ct=et[1];I(J,et),Gt(J)?J.every(pt=>pt.length<=1)&&ct():J.length<=1&&ct()},nt={mode:c,persisted:h,beforeEnter(J){let et=f;if(!i.isMounted)if(l)et=C||f;else return;J._leaveCb&&J._leaveCb(!0);const ct=M[H];ct&&Hr(t,ct)&&ct.el._leaveCb&&ct.el._leaveCb(),I(et,[J])},enter(J){let et=m,ct=g,pt=y;if(!i.isMounted)if(l)et=G||m,ct=E||g,pt=R||y;else return;let ot=!1;const bt=J._enterCb=Lt=>{ot||(ot=!0,Lt?I(pt,[J]):I(ct,[J]),nt.delayedLeave&&nt.delayedLeave(),J._enterCb=void 0)};et?K(et,[J,bt]):bt()},leave(J,et){const ct=String(t.key);if(J._enterCb&&J._enterCb(!0),i.isUnmounting)return et();I(k,[J]);let pt=!1;const ot=J._leaveCb=bt=>{pt||(pt=!0,et(),bt?I(T,[J]):I(j,[J]),J._leaveCb=void 0,M[ct]===t&&delete M[ct])};M[ct]=t,S?K(S,[J,ot]):ot()},clone(J){return La(J,n,i,o)}};return nt}function ea(t){if(xs(t))return t=kr(t),t.children=null,t}function hc(t){return xs(t)?t.children?t.children[0]:void 0:t}function Ma(t,n){t.shapeFlag&6&&t.component?Ma(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function ah(t,n=!1,i){let o=[],l=0;for(let c=0;c<t.length;c++){let h=t[c];const f=i==null?h.key:String(i)+String(h.key!=null?h.key:c);h.type===Kt?(h.patchFlag&128&&l++,o=o.concat(ah(h.children,n,f))):(n||h.type!==un)&&o.push(f!=null?kr(h,{key:f}):h)}if(l>1)for(let c=0;c<o.length;c++)o[c].patchFlag=-2;return o}function lh(t,n){return re(t)?(()=>ze({name:t.name},n,{setup:t}))():t}const mi=t=>!!t.type.__asyncLoader,xs=t=>t.type.__isKeepAlive;function Cp(t,n){ch(t,"a",n)}function Pp(t,n){ch(t,"da",n)}function ch(t,n,i=He){const o=t.__wdc||(t.__wdc=()=>{let l=i;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(ks(n,o,i),i){let l=i.parent;for(;l&&l.parent;)xs(l.parent.vnode)&&Sp(o,n,i,l),l=l.parent}}function Sp(t,n,i,o){const l=ks(n,t,o,!0);Zr(()=>{Za(o[n],l)},i)}function ks(t,n,i=He,o=!1){if(i){const l=i[t]||(i[t]=[]),c=n.__weh||(n.__weh=(...h)=>{if(i.isUnmounted)return;ki(),yi(i);const f=vn(n,i,t,h);return Gr(),Li(),f});return o?l.unshift(c):l.push(c),c}}const rr=t=>(n,i=He)=>(!fo||t==="sp")&&ks(t,(...o)=>n(...o),i),Ep=rr("bm"),hn=rr("m"),Tp=rr("bu"),Op=rr("u"),Ls=rr("bum"),Zr=rr("um"),ol=rr("sp"),Rp=rr("rtg"),Ap=rr("rtc");function Bp(t,n=He){ks("ec",t,n)}const sl="components";function vt(t,n){return hh(sl,t,!0,n)||t}const uh=Symbol.for("v-ndc");function Ca(t){return De(t)?hh(sl,t,!1)||t:t||uh}function hh(t,n,i=!0,o=!1){const l=Ge||He;if(l){const c=l.type;if(t===sl){const f=dm(c,!1);if(f&&(f===n||f===Hn(n)||f===ms(Hn(n))))return c}const h=dc(l[t]||c[t],n)||dc(l.appContext[t],n);return!h&&o?c:h}}function dc(t,n){return t&&(t[n]||t[Hn(n)]||t[ms(Hn(n))])}function Se(t,n,i,o){let l;const c=i&&i[o];if(Gt(t)||De(t)){l=new Array(t.length);for(let h=0,f=t.length;h<f;h++)l[h]=n(t[h],h,void 0,c&&c[h])}else if(typeof t=="number"){l=new Array(t);for(let h=0;h<t;h++)l[h]=n(h+1,h,void 0,c&&c[h])}else if(Oe(t))if(t[Symbol.iterator])l=Array.from(t,(h,f)=>n(h,f,void 0,c&&c[f]));else{const h=Object.keys(t);l=new Array(h.length);for(let f=0,m=h.length;f<m;f++){const g=h[f];l[f]=n(t[g],g,f,c&&c[f])}}else l=[];return i&&(i[o]=l),l}function Te(t,n,i={},o,l){if(Ge.isCE||Ge.parent&&mi(Ge.parent)&&Ge.parent.isCE)return n!=="default"&&(i.name=n),it("slot",i,o&&o());let c=t[n];c&&c._c&&(c._d=!1),W();const h=c&&dh(c(i)),f=It(Kt,{key:i.key||h&&h.key||`_${n}`},h||(o?o():[]),h&&t._===1?64:-2);return!l&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),c&&c._c&&(c._d=!0),f}function dh(t){return t.some(n=>cs(n)?!(n.type===un||n.type===Kt&&!dh(n.children)):!0)?t:null}const Pa=t=>t?Mh(t)?Cs(t)||t.proxy:Pa(t.parent):null,to=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pa(t.parent),$root:t=>Pa(t.root),$emit:t=>t.emit,$options:t=>al(t),$forceUpdate:t=>t.f||(t.f=()=>rl(t.update)),$nextTick:t=>t.n||(t.n=vs.bind(t.proxy)),$watch:t=>xp.bind(t)}),na=(t,n)=>t!==Ee&&!t.__isScriptSetup&&me(t,n),Ip={get({_:t},n){const{ctx:i,setupState:o,data:l,props:c,accessCache:h,type:f,appContext:m}=t;let g;if(n[0]!=="$"){const j=h[n];if(j!==void 0)switch(j){case 1:return o[n];case 2:return l[n];case 4:return i[n];case 3:return c[n]}else{if(na(o,n))return h[n]=1,o[n];if(l!==Ee&&me(l,n))return h[n]=2,l[n];if((g=t.propsOptions[0])&&me(g,n))return h[n]=3,c[n];if(i!==Ee&&me(i,n))return h[n]=4,i[n];Sa&&(h[n]=0)}}const y=to[n];let k,S;if(y)return n==="$attrs"&&sn(t,"get",n),y(t);if((k=f.__cssModules)&&(k=k[n]))return k;if(i!==Ee&&me(i,n))return h[n]=4,i[n];if(S=m.config.globalProperties,me(S,n))return S[n]},set({_:t},n,i){const{data:o,setupState:l,ctx:c}=t;return na(l,n)?(l[n]=i,!0):o!==Ee&&me(o,n)?(o[n]=i,!0):me(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(c[n]=i,!0)},has({_:{data:t,setupState:n,accessCache:i,ctx:o,appContext:l,propsOptions:c}},h){let f;return!!i[h]||t!==Ee&&me(t,h)||na(n,h)||(f=c[0])&&me(f,h)||me(o,h)||me(to,h)||me(l.config.globalProperties,h)},defineProperty(t,n,i){return i.get!=null?t._.accessCache[n]=0:me(i,"value")&&this.set(t,n,i.value,null),Reflect.defineProperty(t,n,i)}};function Dp(){return jp().slots}function jp(){const t=Lh();return t.setupContext||(t.setupContext=Ph(t))}function fc(t){return Gt(t)?t.reduce((n,i)=>(n[i]=null,n),{}):t}let Sa=!0;function zp(t){const n=al(t),i=t.proxy,o=t.ctx;Sa=!1,n.beforeCreate&&pc(n.beforeCreate,t,"bc");const{data:l,computed:c,methods:h,watch:f,provide:m,inject:g,created:y,beforeMount:k,mounted:S,beforeUpdate:j,updated:T,activated:C,deactivated:G,beforeDestroy:E,beforeUnmount:R,destroyed:H,unmounted:M,render:I,renderTracked:K,renderTriggered:nt,errorCaptured:J,serverPrefetch:et,expose:ct,inheritAttrs:pt,components:ot,directives:bt,filters:Lt}=n;if(g&&Np(g,o,null),h)for(const Ft in h){const wt=h[Ft];re(wt)&&(o[Ft]=wt.bind(i))}if(l){const Ft=l.call(i,i);Oe(Ft)&&(t.data=Mi(Ft))}if(Sa=!0,c)for(const Ft in c){const wt=c[Ft],de=re(wt)?wt.bind(i,i):re(wt.get)?wt.get.bind(i,i):En,Dt=!re(wt)&&re(wt.set)?wt.set.bind(i):En,At=_e({get:de,set:Dt});Object.defineProperty(o,Ft,{enumerable:!0,configurable:!0,get:()=>At.value,set:Vt=>At.value=Vt})}if(f)for(const Ft in f)fh(f[Ft],o,i,Ft);if(m){const Ft=re(m)?m.call(i):m;Reflect.ownKeys(Ft).forEach(wt=>{Jo(wt,Ft[wt])})}y&&pc(y,t,"c");function Ct(Ft,wt){Gt(wt)?wt.forEach(de=>Ft(de.bind(i))):wt&&Ft(wt.bind(i))}if(Ct(Ep,k),Ct(hn,S),Ct(Tp,j),Ct(Op,T),Ct(Cp,C),Ct(Pp,G),Ct(Bp,J),Ct(Ap,K),Ct(Rp,nt),Ct(Ls,R),Ct(Zr,M),Ct(ol,et),Gt(ct))if(ct.length){const Ft=t.exposed||(t.exposed={});ct.forEach(wt=>{Object.defineProperty(Ft,wt,{get:()=>i[wt],set:de=>i[wt]=de})})}else t.exposed||(t.exposed={});I&&t.render===En&&(t.render=I),pt!=null&&(t.inheritAttrs=pt),ot&&(t.components=ot),bt&&(t.directives=bt)}function Np(t,n,i=En){Gt(t)&&(t=Ea(t));for(const o in t){const l=t[o];let c;Oe(l)?"default"in l?c=bn(l.from||o,l.default,!0):c=bn(l.from||o):c=bn(l),Ie(c)?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>c.value,set:h=>c.value=h}):n[o]=c}}function pc(t,n,i){vn(Gt(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,i)}function fh(t,n,i,o){const l=o.includes(".")?ih(i,o):()=>i[o];if(De(t)){const c=n[t];re(c)&&Fe(l,c)}else if(re(t))Fe(l,t.bind(i));else if(Oe(t))if(Gt(t))t.forEach(c=>fh(c,n,i,o));else{const c=re(t.handler)?t.handler.bind(i):n[t.handler];re(c)&&Fe(l,c,t)}}function al(t){const n=t.type,{mixins:i,extends:o}=n,{mixins:l,optionsCache:c,config:{optionMergeStrategies:h}}=t.appContext,f=c.get(n);let m;return f?m=f:!l.length&&!i&&!o?m=n:(m={},l.length&&l.forEach(g=>as(m,g,h,!0)),as(m,n,h)),Oe(n)&&c.set(n,m),m}function as(t,n,i,o=!1){const{mixins:l,extends:c}=n;c&&as(t,c,i,!0),l&&l.forEach(h=>as(t,h,i,!0));for(const h in n)if(!(o&&h==="expose")){const f=Hp[h]||i&&i[h];t[h]=f?f(t[h],n[h]):n[h]}return t}const Hp={data:mc,props:gc,emits:gc,methods:Xi,computed:Xi,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:Xi,directives:Xi,watch:Vp,provide:mc,inject:Fp};function mc(t,n){return n?t?function(){return ze(re(t)?t.call(this,this):t,re(n)?n.call(this,this):n)}:n:t}function Fp(t,n){return Xi(Ea(t),Ea(n))}function Ea(t){if(Gt(t)){const n={};for(let i=0;i<t.length;i++)n[t[i]]=t[i];return n}return t}function Xe(t,n){return t?[...new Set([].concat(t,n))]:n}function Xi(t,n){return t?ze(Object.create(null),t,n):n}function gc(t,n){return t?Gt(t)&&Gt(n)?[...new Set([...t,...n])]:ze(Object.create(null),fc(t),fc(n??{})):n}function Vp(t,n){if(!t)return n;if(!n)return t;const i=ze(Object.create(null),t);for(const o in n)i[o]=Xe(t[o],n[o]);return i}function ph(){return{app:null,config:{isNativeTag:pf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $p=0;function Up(t,n){return function(o,l=null){re(o)||(o=ze({},o)),l!=null&&!Oe(l)&&(l=null);const c=ph(),h=new Set;let f=!1;const m=c.app={_uid:$p++,_component:o,_props:l,_container:null,_context:c,_instance:null,version:gm,get config(){return c.config},set config(g){},use(g,...y){return h.has(g)||(g&&re(g.install)?(h.add(g),g.install(m,...y)):re(g)&&(h.add(g),g(m,...y))),m},mixin(g){return c.mixins.includes(g)||c.mixins.push(g),m},component(g,y){return y?(c.components[g]=y,m):c.components[g]},directive(g,y){return y?(c.directives[g]=y,m):c.directives[g]},mount(g,y,k){if(!f){const S=it(o,l);return S.appContext=c,y&&n?n(S,g):t(S,g,k),f=!0,m._container=g,g.__vue_app__=m,Cs(S.component)||S.component.proxy}},unmount(){f&&(t(null,m._container),delete m._container.__vue_app__)},provide(g,y){return c.provides[g]=y,m},runWithContext(g){uo=m;try{return g()}finally{uo=null}}};return m}}let uo=null;function Jo(t,n){if(He){let i=He.provides;const o=He.parent&&He.parent.provides;o===i&&(i=He.provides=Object.create(o)),i[t]=n}}function bn(t,n,i=!1){const o=He||Ge;if(o||uo){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:uo._context.provides;if(l&&t in l)return l[t];if(arguments.length>1)return i&&re(n)?n.call(o&&o.proxy):n}}function Gp(){return!!(He||Ge||uo)}function Zp(t,n,i,o=!1){const l={},c={};ns(c,Ms,1),t.propsDefaults=Object.create(null),mh(t,n,l,c);for(const h in t.propsOptions[0])h in l||(l[h]=void 0);i?t.props=o?l:np(l):t.type.props?t.props=l:t.props=c,t.attrs=c}function qp(t,n,i,o){const{props:l,attrs:c,vnode:{patchFlag:h}}=t,f=pe(l),[m]=t.propsOptions;let g=!1;if((o||h>0)&&!(h&16)){if(h&8){const y=t.vnode.dynamicProps;for(let k=0;k<y.length;k++){let S=y[k];if(bs(t.emitsOptions,S))continue;const j=n[S];if(m)if(me(c,S))j!==c[S]&&(c[S]=j,g=!0);else{const T=Hn(S);l[T]=Ta(m,f,T,j,t,!1)}else j!==c[S]&&(c[S]=j,g=!0)}}}else{mh(t,n,l,c)&&(g=!0);let y;for(const k in f)(!n||!me(n,k)&&((y=xi(k))===k||!me(n,y)))&&(m?i&&(i[k]!==void 0||i[y]!==void 0)&&(l[k]=Ta(m,f,k,void 0,t,!0)):delete l[k]);if(c!==f)for(const k in c)(!n||!me(n,k))&&(delete c[k],g=!0)}g&&er(t,"set","$attrs")}function mh(t,n,i,o){const[l,c]=t.propsOptions;let h=!1,f;if(n)for(let m in n){if(Qi(m))continue;const g=n[m];let y;l&&me(l,y=Hn(m))?!c||!c.includes(y)?i[y]=g:(f||(f={}))[y]=g:bs(t.emitsOptions,m)||(!(m in o)||g!==o[m])&&(o[m]=g,h=!0)}if(c){const m=pe(i),g=f||Ee;for(let y=0;y<c.length;y++){const k=c[y];i[k]=Ta(l,m,k,g[k],t,!me(g,k))}}return h}function Ta(t,n,i,o,l,c){const h=t[i];if(h!=null){const f=me(h,"default");if(f&&o===void 0){const m=h.default;if(h.type!==Function&&!h.skipFactory&&re(m)){const{propsDefaults:g}=l;i in g?o=g[i]:(yi(l),o=g[i]=m.call(null,n),Gr())}else o=m}h[0]&&(c&&!f?o=!1:h[1]&&(o===""||o===xi(i))&&(o=!0))}return o}function gh(t,n,i=!1){const o=n.propsCache,l=o.get(t);if(l)return l;const c=t.props,h={},f=[];let m=!1;if(!re(t)){const y=k=>{m=!0;const[S,j]=gh(k,n,!0);ze(h,S),j&&f.push(...j)};!i&&n.mixins.length&&n.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}if(!c&&!m)return Oe(t)&&o.set(t,di),di;if(Gt(c))for(let y=0;y<c.length;y++){const k=Hn(c[y]);_c(k)&&(h[k]=Ee)}else if(c)for(const y in c){const k=Hn(y);if(_c(k)){const S=c[y],j=h[k]=Gt(S)||re(S)?{type:S}:ze({},S);if(j){const T=bc(Boolean,j.type),C=bc(String,j.type);j[0]=T>-1,j[1]=C<0||T<C,(T>-1||me(j,"default"))&&f.push(k)}}}const g=[h,f];return Oe(t)&&o.set(t,g),g}function _c(t){return t[0]!=="$"}function yc(t){const n=t&&t.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:t===null?"null":""}function vc(t,n){return yc(t)===yc(n)}function bc(t,n){return Gt(n)?n.findIndex(i=>vc(i,t)):re(n)&&vc(n,t)?0:-1}const _h=t=>t[0]==="_"||t==="$stable",ll=t=>Gt(t)?t.map(Cn):[Cn(t)],Kp=(t,n,i)=>{if(n._n)return n;const o=_t((...l)=>ll(n(...l)),i);return o._c=!1,o},yh=(t,n,i)=>{const o=t._ctx;for(const l in t){if(_h(l))continue;const c=t[l];if(re(c))n[l]=Kp(l,c,o);else if(c!=null){const h=ll(c);n[l]=()=>h}}},vh=(t,n)=>{const i=ll(n);t.slots.default=()=>i},Wp=(t,n)=>{if(t.vnode.shapeFlag&32){const i=n._;i?(t.slots=pe(n),ns(n,"_",i)):yh(n,t.slots={})}else t.slots={},n&&vh(t,n);ns(t.slots,Ms,1)},Jp=(t,n,i)=>{const{vnode:o,slots:l}=t;let c=!0,h=Ee;if(o.shapeFlag&32){const f=n._;f?i&&f===1?c=!1:(ze(l,n),!i&&f===1&&delete l._):(c=!n.$stable,yh(n,l)),h=n}else n&&(vh(t,n),h={default:1});if(c)for(const f in l)!_h(f)&&!(f in h)&&delete l[f]};function ls(t,n,i,o,l=!1){if(Gt(t)){t.forEach((S,j)=>ls(S,n&&(Gt(n)?n[j]:n),i,o,l));return}if(mi(o)&&!l)return;const c=o.shapeFlag&4?Cs(o.component)||o.component.proxy:o.el,h=l?null:c,{i:f,r:m}=t,g=n&&n.r,y=f.refs===Ee?f.refs={}:f.refs,k=f.setupState;if(g!=null&&g!==m&&(De(g)?(y[g]=null,me(k,g)&&(k[g]=null)):Ie(g)&&(g.value=null)),re(m))wr(m,f,12,[h,y]);else{const S=De(m),j=Ie(m);if(S||j){const T=()=>{if(t.f){const C=S?me(k,m)?k[m]:y[m]:m.value;l?Gt(C)&&Za(C,c):Gt(C)?C.includes(c)||C.push(c):S?(y[m]=[c],me(k,m)&&(k[m]=y[m])):(m.value=[c],t.k&&(y[t.k]=m.value))}else S?(y[m]=h,me(k,m)&&(k[m]=h)):j&&(m.value=h,t.k&&(y[t.k]=h))};h?(T.id=-1,rn(T,i)):T()}}}let hr=!1;const Go=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Zo=t=>t.nodeType===8;function Yp(t){const{mt:n,p:i,o:{patchProp:o,createText:l,nextSibling:c,parentNode:h,remove:f,insert:m,createComment:g}}=t,y=(E,R)=>{if(!R.hasChildNodes()){i(null,E,R),os(),R._vnode=E;return}hr=!1,k(R.firstChild,E,null,null,null),os(),R._vnode=E,hr&&console.error("Hydration completed but contains mismatches.")},k=(E,R,H,M,I,K=!1)=>{const nt=Zo(E)&&E.data==="[",J=()=>C(E,R,H,M,I,nt),{type:et,ref:ct,shapeFlag:pt,patchFlag:ot}=R;let bt=E.nodeType;R.el=E,ot===-2&&(K=!1,R.dynamicChildren=null);let Lt=null;switch(et){case _i:bt!==3?R.children===""?(m(R.el=l(""),h(E),E),Lt=E):Lt=J():(E.data!==R.children&&(hr=!0,E.data=R.children),Lt=c(E));break;case un:bt!==8||nt?Lt=J():Lt=c(E);break;case eo:if(nt&&(E=c(E),bt=E.nodeType),bt===1||bt===3){Lt=E;const Et=!R.children.length;for(let Ct=0;Ct<R.staticCount;Ct++)Et&&(R.children+=Lt.nodeType===1?Lt.outerHTML:Lt.data),Ct===R.staticCount-1&&(R.anchor=Lt),Lt=c(Lt);return nt?c(Lt):Lt}else J();break;case Kt:nt?Lt=T(E,R,H,M,I,K):Lt=J();break;default:if(pt&1)bt!==1||R.type.toLowerCase()!==E.tagName.toLowerCase()?Lt=J():Lt=S(E,R,H,M,I,K);else if(pt&6){R.slotScopeIds=I;const Et=h(E);if(n(R,Et,null,H,M,Go(Et),K),Lt=nt?G(E):c(E),Lt&&Zo(Lt)&&Lt.data==="teleport end"&&(Lt=c(Lt)),mi(R)){let Ct;nt?(Ct=it(Kt),Ct.anchor=Lt?Lt.previousSibling:Et.lastChild):Ct=E.nodeType===3?oe(""):it("div"),Ct.el=E,R.component.subTree=Ct}}else pt&64?bt!==8?Lt=J():Lt=R.type.hydrate(E,R,H,M,I,K,t,j):pt&128&&(Lt=R.type.hydrate(E,R,H,M,Go(h(E)),I,K,t,k))}return ct!=null&&ls(ct,null,M,R),Lt},S=(E,R,H,M,I,K)=>{K=K||!!R.dynamicChildren;const{type:nt,props:J,patchFlag:et,shapeFlag:ct,dirs:pt}=R,ot=nt==="input"&&pt||nt==="option";if(ot||et!==-1){if(pt&&jn(R,null,H,"created"),J)if(ot||!K||et&48)for(const Lt in J)(ot&&Lt.endsWith("value")||go(Lt)&&!Qi(Lt))&&o(E,Lt,null,J[Lt],!1,void 0,H);else J.onClick&&o(E,"onClick",null,J.onClick,!1,void 0,H);let bt;if((bt=J&&J.onVnodeBeforeMount)&&yn(bt,H,R),pt&&jn(R,null,H,"beforeMount"),((bt=J&&J.onVnodeMounted)||pt)&&nh(()=>{bt&&yn(bt,H,R),pt&&jn(R,null,H,"mounted")},M),ct&16&&!(J&&(J.innerHTML||J.textContent))){let Lt=j(E.firstChild,R,E,H,M,I,K);for(;Lt;){hr=!0;const Et=Lt;Lt=Lt.nextSibling,f(Et)}}else ct&8&&E.textContent!==R.children&&(hr=!0,E.textContent=R.children)}return E.nextSibling},j=(E,R,H,M,I,K,nt)=>{nt=nt||!!R.dynamicChildren;const J=R.children,et=J.length;for(let ct=0;ct<et;ct++){const pt=nt?J[ct]:J[ct]=Cn(J[ct]);if(E)E=k(E,pt,M,I,K,nt);else{if(pt.type===_i&&!pt.children)continue;hr=!0,i(null,pt,H,null,M,I,Go(H),K)}}return E},T=(E,R,H,M,I,K)=>{const{slotScopeIds:nt}=R;nt&&(I=I?I.concat(nt):nt);const J=h(E),et=j(c(E),R,J,H,M,I,K);return et&&Zo(et)&&et.data==="]"?c(R.anchor=et):(hr=!0,m(R.anchor=g("]"),J,et),et)},C=(E,R,H,M,I,K)=>{if(hr=!0,R.el=null,K){const et=G(E);for(;;){const ct=c(E);if(ct&&ct!==et)f(ct);else break}}const nt=c(E),J=h(E);return f(E),i(null,R,J,nt,H,M,Go(J),I),nt},G=E=>{let R=0;for(;E;)if(E=c(E),E&&Zo(E)&&(E.data==="["&&R++,E.data==="]")){if(R===0)return c(E);R--}return E};return[y,k]}const rn=nh;function Xp(t){return Qp(t,Yp)}function Qp(t,n){const i=va();i.__VUE__=!0;const{insert:o,remove:l,patchProp:c,createElement:h,createText:f,createComment:m,setText:g,setElementText:y,parentNode:k,nextSibling:S,setScopeId:j=En,insertStaticContent:T}=t,C=(V,q,Y,dt=null,gt=null,xt=null,Ot=!1,B=null,b=!!q.dynamicChildren)=>{if(V===q)return;V&&!Hr(V,q)&&(dt=ht(V),Vt(V,gt,xt,!0),V=null),q.patchFlag===-2&&(b=!1,q.dynamicChildren=null);const{type:x,ref:O,shapeFlag:D}=q;switch(x){case _i:G(V,q,Y,dt);break;case un:E(V,q,Y,dt);break;case eo:V==null&&R(q,Y,dt,Ot);break;case Kt:ot(V,q,Y,dt,gt,xt,Ot,B,b);break;default:D&1?I(V,q,Y,dt,gt,xt,Ot,B,b):D&6?bt(V,q,Y,dt,gt,xt,Ot,B,b):(D&64||D&128)&&x.process(V,q,Y,dt,gt,xt,Ot,B,b,St)}O!=null&&gt&&ls(O,V&&V.ref,xt,q||V,!q)},G=(V,q,Y,dt)=>{if(V==null)o(q.el=f(q.children),Y,dt);else{const gt=q.el=V.el;q.children!==V.children&&g(gt,q.children)}},E=(V,q,Y,dt)=>{V==null?o(q.el=m(q.children||""),Y,dt):q.el=V.el},R=(V,q,Y,dt)=>{[V.el,V.anchor]=T(V.children,q,Y,dt,V.el,V.anchor)},H=({el:V,anchor:q},Y,dt)=>{let gt;for(;V&&V!==q;)gt=S(V),o(V,Y,dt),V=gt;o(q,Y,dt)},M=({el:V,anchor:q})=>{let Y;for(;V&&V!==q;)Y=S(V),l(V),V=Y;l(q)},I=(V,q,Y,dt,gt,xt,Ot,B,b)=>{Ot=Ot||q.type==="svg",V==null?K(q,Y,dt,gt,xt,Ot,B,b):et(V,q,gt,xt,Ot,B,b)},K=(V,q,Y,dt,gt,xt,Ot,B)=>{let b,x;const{type:O,props:D,shapeFlag:N,transition:Q,dirs:rt}=V;if(b=V.el=h(V.type,xt,D&&D.is,D),N&8?y(b,V.children):N&16&&J(V.children,b,null,dt,gt,xt&&O!=="foreignObject",Ot,B),rt&&jn(V,null,dt,"created"),nt(b,V,V.scopeId,Ot,dt),D){for(const Tt in D)Tt!=="value"&&!Qi(Tt)&&c(b,Tt,null,D[Tt],xt,V.children,dt,gt,Nt);"value"in D&&c(b,"value",null,D.value),(x=D.onVnodeBeforeMount)&&yn(x,dt,V)}rt&&jn(V,null,dt,"beforeMount");const yt=(!gt||gt&&!gt.pendingBranch)&&Q&&!Q.persisted;yt&&Q.beforeEnter(b),o(b,q,Y),((x=D&&D.onVnodeMounted)||yt||rt)&&rn(()=>{x&&yn(x,dt,V),yt&&Q.enter(b),rt&&jn(V,null,dt,"mounted")},gt)},nt=(V,q,Y,dt,gt)=>{if(Y&&j(V,Y),dt)for(let xt=0;xt<dt.length;xt++)j(V,dt[xt]);if(gt){let xt=gt.subTree;if(q===xt){const Ot=gt.vnode;nt(V,Ot,Ot.scopeId,Ot.slotScopeIds,gt.parent)}}},J=(V,q,Y,dt,gt,xt,Ot,B,b=0)=>{for(let x=b;x<V.length;x++){const O=V[x]=B?_r(V[x]):Cn(V[x]);C(null,O,q,Y,dt,gt,xt,Ot,B)}},et=(V,q,Y,dt,gt,xt,Ot)=>{const B=q.el=V.el;let{patchFlag:b,dynamicChildren:x,dirs:O}=q;b|=V.patchFlag&16;const D=V.props||Ee,N=q.props||Ee;let Q;Y&&Dr(Y,!1),(Q=N.onVnodeBeforeUpdate)&&yn(Q,Y,q,V),O&&jn(q,V,Y,"beforeUpdate"),Y&&Dr(Y,!0);const rt=gt&&q.type!=="foreignObject";if(x?ct(V.dynamicChildren,x,B,Y,dt,rt,xt):Ot||wt(V,q,B,null,Y,dt,rt,xt,!1),b>0){if(b&16)pt(B,q,D,N,Y,dt,gt);else if(b&2&&D.class!==N.class&&c(B,"class",null,N.class,gt),b&4&&c(B,"style",D.style,N.style,gt),b&8){const yt=q.dynamicProps;for(let Tt=0;Tt<yt.length;Tt++){const zt=yt[Tt],Zt=D[zt],Yt=N[zt];(Yt!==Zt||zt==="value")&&c(B,zt,Zt,Yt,gt,V.children,Y,dt,Nt)}}b&1&&V.children!==q.children&&y(B,q.children)}else!Ot&&x==null&&pt(B,q,D,N,Y,dt,gt);((Q=N.onVnodeUpdated)||O)&&rn(()=>{Q&&yn(Q,Y,q,V),O&&jn(q,V,Y,"updated")},dt)},ct=(V,q,Y,dt,gt,xt,Ot)=>{for(let B=0;B<q.length;B++){const b=V[B],x=q[B],O=b.el&&(b.type===Kt||!Hr(b,x)||b.shapeFlag&70)?k(b.el):Y;C(b,x,O,null,dt,gt,xt,Ot,!0)}},pt=(V,q,Y,dt,gt,xt,Ot)=>{if(Y!==dt){if(Y!==Ee)for(const B in Y)!Qi(B)&&!(B in dt)&&c(V,B,Y[B],null,Ot,q.children,gt,xt,Nt);for(const B in dt){if(Qi(B))continue;const b=dt[B],x=Y[B];b!==x&&B!=="value"&&c(V,B,x,b,Ot,q.children,gt,xt,Nt)}"value"in dt&&c(V,"value",Y.value,dt.value)}},ot=(V,q,Y,dt,gt,xt,Ot,B,b)=>{const x=q.el=V?V.el:f(""),O=q.anchor=V?V.anchor:f("");let{patchFlag:D,dynamicChildren:N,slotScopeIds:Q}=q;Q&&(B=B?B.concat(Q):Q),V==null?(o(x,Y,dt),o(O,Y,dt),J(q.children,Y,O,gt,xt,Ot,B,b)):D>0&&D&64&&N&&V.dynamicChildren?(ct(V.dynamicChildren,N,Y,gt,xt,Ot,B),(q.key!=null||gt&&q===gt.subTree)&&bh(V,q,!0)):wt(V,q,Y,O,gt,xt,Ot,B,b)},bt=(V,q,Y,dt,gt,xt,Ot,B,b)=>{q.slotScopeIds=B,V==null?q.shapeFlag&512?gt.ctx.activate(q,Y,dt,Ot,b):Lt(q,Y,dt,gt,xt,Ot,b):Et(V,q,b)},Lt=(V,q,Y,dt,gt,xt,Ot)=>{const B=V.component=lm(V,dt,gt);if(xs(V)&&(B.ctx.renderer=St),cm(B),B.asyncDep){if(gt&&gt.registerDep(B,Ct),!V.el){const b=B.subTree=it(un);E(null,b,q,Y)}return}Ct(B,V,q,Y,gt,xt,Ot)},Et=(V,q,Y)=>{const dt=q.component=V.component;if(vp(V,q,Y))if(dt.asyncDep&&!dt.asyncResolved){Ft(dt,q,Y);return}else dt.next=q,fp(dt.update),dt.update();else q.el=V.el,dt.vnode=q},Ct=(V,q,Y,dt,gt,xt,Ot)=>{const B=()=>{if(V.isMounted){let{next:O,bu:D,u:N,parent:Q,vnode:rt}=V,yt=O,Tt;Dr(V,!1),O?(O.el=rt.el,Ft(V,O,Ot)):O=rt,D&&Wo(D),(Tt=O.props&&O.props.onVnodeBeforeUpdate)&&yn(Tt,Q,O,rt),Dr(V,!0);const zt=ta(V),Zt=V.subTree;V.subTree=zt,C(Zt,zt,k(Zt.el),ht(Zt),V,gt,xt),O.el=zt.el,yt===null&&bp(V,zt.el),N&&rn(N,gt),(Tt=O.props&&O.props.onVnodeUpdated)&&rn(()=>yn(Tt,Q,O,rt),gt)}else{let O;const{el:D,props:N}=q,{bm:Q,m:rt,parent:yt}=V,Tt=mi(q);if(Dr(V,!1),Q&&Wo(Q),!Tt&&(O=N&&N.onVnodeBeforeMount)&&yn(O,yt,q),Dr(V,!0),D&&ae){const zt=()=>{V.subTree=ta(V),ae(D,V.subTree,V,gt,null)};Tt?q.type.__asyncLoader().then(()=>!V.isUnmounted&&zt()):zt()}else{const zt=V.subTree=ta(V);C(null,zt,Y,dt,V,gt,xt),q.el=zt.el}if(rt&&rn(rt,gt),!Tt&&(O=N&&N.onVnodeMounted)){const zt=q;rn(()=>yn(O,yt,zt),gt)}(q.shapeFlag&256||yt&&mi(yt.vnode)&&yt.vnode.shapeFlag&256)&&V.a&&rn(V.a,gt),V.isMounted=!0,q=Y=dt=null}},b=V.effect=new Ja(B,()=>rl(x),V.scope),x=V.update=()=>b.run();x.id=V.uid,Dr(V,!0),x()},Ft=(V,q,Y)=>{q.component=V;const dt=V.vnode.props;V.vnode=q,V.next=null,qp(V,q.props,dt,Y),Jp(V,q.children,Y),ki(),cc(),Li()},wt=(V,q,Y,dt,gt,xt,Ot,B,b=!1)=>{const x=V&&V.children,O=V?V.shapeFlag:0,D=q.children,{patchFlag:N,shapeFlag:Q}=q;if(N>0){if(N&128){Dt(x,D,Y,dt,gt,xt,Ot,B,b);return}else if(N&256){de(x,D,Y,dt,gt,xt,Ot,B,b);return}}Q&8?(O&16&&Nt(x,gt,xt),D!==x&&y(Y,D)):O&16?Q&16?Dt(x,D,Y,dt,gt,xt,Ot,B,b):Nt(x,gt,xt,!0):(O&8&&y(Y,""),Q&16&&J(D,Y,dt,gt,xt,Ot,B,b))},de=(V,q,Y,dt,gt,xt,Ot,B,b)=>{V=V||di,q=q||di;const x=V.length,O=q.length,D=Math.min(x,O);let N;for(N=0;N<D;N++){const Q=q[N]=b?_r(q[N]):Cn(q[N]);C(V[N],Q,Y,null,gt,xt,Ot,B,b)}x>O?Nt(V,gt,xt,!0,!1,D):J(q,Y,dt,gt,xt,Ot,B,b,D)},Dt=(V,q,Y,dt,gt,xt,Ot,B,b)=>{let x=0;const O=q.length;let D=V.length-1,N=O-1;for(;x<=D&&x<=N;){const Q=V[x],rt=q[x]=b?_r(q[x]):Cn(q[x]);if(Hr(Q,rt))C(Q,rt,Y,null,gt,xt,Ot,B,b);else break;x++}for(;x<=D&&x<=N;){const Q=V[D],rt=q[N]=b?_r(q[N]):Cn(q[N]);if(Hr(Q,rt))C(Q,rt,Y,null,gt,xt,Ot,B,b);else break;D--,N--}if(x>D){if(x<=N){const Q=N+1,rt=Q<O?q[Q].el:dt;for(;x<=N;)C(null,q[x]=b?_r(q[x]):Cn(q[x]),Y,rt,gt,xt,Ot,B,b),x++}}else if(x>N)for(;x<=D;)Vt(V[x],gt,xt,!0),x++;else{const Q=x,rt=x,yt=new Map;for(x=rt;x<=N;x++){const ce=q[x]=b?_r(q[x]):Cn(q[x]);ce.key!=null&&yt.set(ce.key,x)}let Tt,zt=0;const Zt=N-rt+1;let Yt=!1,ve=0;const Jt=new Array(Zt);for(x=0;x<Zt;x++)Jt[x]=0;for(x=Q;x<=D;x++){const ce=V[x];if(zt>=Zt){Vt(ce,gt,xt,!0);continue}let be;if(ce.key!=null)be=yt.get(ce.key);else for(Tt=rt;Tt<=N;Tt++)if(Jt[Tt-rt]===0&&Hr(ce,q[Tt])){be=Tt;break}be===void 0?Vt(ce,gt,xt,!0):(Jt[be-rt]=x+1,be>=ve?ve=be:Yt=!0,C(ce,q[be],Y,null,gt,xt,Ot,B,b),zt++)}const ye=Yt?tm(Jt):di;for(Tt=ye.length-1,x=Zt-1;x>=0;x--){const ce=rt+x,be=q[ce],Re=ce+1<O?q[ce+1].el:dt;Jt[x]===0?C(null,be,Y,Re,gt,xt,Ot,B,b):Yt&&(Tt<0||x!==ye[Tt]?At(be,Y,Re,2):Tt--)}}},At=(V,q,Y,dt,gt=null)=>{const{el:xt,type:Ot,transition:B,children:b,shapeFlag:x}=V;if(x&6){At(V.component.subTree,q,Y,dt);return}if(x&128){V.suspense.move(q,Y,dt);return}if(x&64){Ot.move(V,q,Y,St);return}if(Ot===Kt){o(xt,q,Y);for(let D=0;D<b.length;D++)At(b[D],q,Y,dt);o(V.anchor,q,Y);return}if(Ot===eo){H(V,q,Y);return}if(dt!==2&&x&1&&B)if(dt===0)B.beforeEnter(xt),o(xt,q,Y),rn(()=>B.enter(xt),gt);else{const{leave:D,delayLeave:N,afterLeave:Q}=B,rt=()=>o(xt,q,Y),yt=()=>{D(xt,()=>{rt(),Q&&Q()})};N?N(xt,rt,yt):yt()}else o(xt,q,Y)},Vt=(V,q,Y,dt=!1,gt=!1)=>{const{type:xt,props:Ot,ref:B,children:b,dynamicChildren:x,shapeFlag:O,patchFlag:D,dirs:N}=V;if(B!=null&&ls(B,null,Y,V,!0),O&256){q.ctx.deactivate(V);return}const Q=O&1&&N,rt=!mi(V);let yt;if(rt&&(yt=Ot&&Ot.onVnodeBeforeUnmount)&&yn(yt,q,V),O&6)ie(V.component,Y,dt);else{if(O&128){V.suspense.unmount(Y,dt);return}Q&&jn(V,null,q,"beforeUnmount"),O&64?V.type.remove(V,q,Y,gt,St,dt):x&&(xt!==Kt||D>0&&D&64)?Nt(x,q,Y,!1,!0):(xt===Kt&&D&384||!gt&&O&16)&&Nt(b,q,Y),dt&&Le(V)}(rt&&(yt=Ot&&Ot.onVnodeUnmounted)||Q)&&rn(()=>{yt&&yn(yt,q,V),Q&&jn(V,null,q,"unmounted")},Y)},Le=V=>{const{type:q,el:Y,anchor:dt,transition:gt}=V;if(q===Kt){fe(Y,dt);return}if(q===eo){M(V);return}const xt=()=>{l(Y),gt&&!gt.persisted&&gt.afterLeave&&gt.afterLeave()};if(V.shapeFlag&1&&gt&&!gt.persisted){const{leave:Ot,delayLeave:B}=gt,b=()=>Ot(Y,xt);B?B(V.el,xt,b):b()}else xt()},fe=(V,q)=>{let Y;for(;V!==q;)Y=S(V),l(V),V=Y;l(q)},ie=(V,q,Y)=>{const{bum:dt,scope:gt,update:xt,subTree:Ot,um:B}=V;dt&&Wo(dt),gt.stop(),xt&&(xt.active=!1,Vt(Ot,V,q,Y)),B&&rn(B,q),rn(()=>{V.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},Nt=(V,q,Y,dt=!1,gt=!1,xt=0)=>{for(let Ot=xt;Ot<V.length;Ot++)Vt(V[Ot],q,Y,dt,gt)},ht=V=>V.shapeFlag&6?ht(V.component.subTree):V.shapeFlag&128?V.suspense.next():S(V.anchor||V.el),Pt=(V,q,Y)=>{V==null?q._vnode&&Vt(q._vnode,null,null,!0):C(q._vnode||null,V,q,null,null,null,Y),cc(),os(),q._vnode=V},St={p:C,um:Vt,m:At,r:Le,mt:Lt,mc:J,pc:wt,pbc:ct,n:ht,o:t};let jt,ae;return n&&([jt,ae]=n(St)),{render:Pt,hydrate:jt,createApp:Up(Pt,jt)}}function Dr({effect:t,update:n},i){t.allowRecurse=n.allowRecurse=i}function bh(t,n,i=!1){const o=t.children,l=n.children;if(Gt(o)&&Gt(l))for(let c=0;c<o.length;c++){const h=o[c];let f=l[c];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=l[c]=_r(l[c]),f.el=h.el),i||bh(h,f)),f.type===_i&&(f.el=h.el)}}function tm(t){const n=t.slice(),i=[0];let o,l,c,h,f;const m=t.length;for(o=0;o<m;o++){const g=t[o];if(g!==0){if(l=i[i.length-1],t[l]<g){n[o]=l,i.push(o);continue}for(c=0,h=i.length-1;c<h;)f=c+h>>1,t[i[f]]<g?c=f+1:h=f;g<t[i[c]]&&(c>0&&(n[o]=i[c-1]),i[c]=o)}}for(c=i.length,h=i[c-1];c-- >0;)i[c]=h,h=n[h];return i}const em=t=>t.__isTeleport,Kt=Symbol.for("v-fgt"),_i=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),eo=Symbol.for("v-stc"),no=[];let Sn=null;function W(t=!1){no.push(Sn=t?null:[])}function nm(){no.pop(),Sn=no[no.length-1]||null}let ho=1;function wc(t){ho+=t}function wh(t){return t.dynamicChildren=ho>0?Sn||di:null,nm(),ho>0&&Sn&&Sn.push(t),t}function at(t,n,i,o,l,c){return wh(lt(t,n,i,o,l,c,!0))}function It(t,n,i,o,l){return wh(it(t,n,i,o,l,!0))}function cs(t){return t?t.__v_isVNode===!0:!1}function Hr(t,n){return t.type===n.type&&t.key===n.key}const Ms="__vInternal",xh=({key:t})=>t??null,Yo=({ref:t,ref_key:n,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||Ie(t)||re(t)?{i:Ge,r:t,k:n,f:!!i}:t:null);function lt(t,n=null,i=null,o=0,l=null,c=t===Kt?0:1,h=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&xh(n),ref:n&&Yo(n),scopeId:ws,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ge};return f?(cl(m,i),c&128&&t.normalize(m)):i&&(m.shapeFlag|=De(i)?8:16),ho>0&&!h&&Sn&&(m.patchFlag>0||c&6)&&m.patchFlag!==32&&Sn.push(m),m}const it=rm;function rm(t,n=null,i=null,o=0,l=null,c=!1){if((!t||t===uh)&&(t=un),cs(t)){const f=kr(t,n,!0);return i&&cl(f,i),ho>0&&!c&&Sn&&(f.shapeFlag&6?Sn[Sn.indexOf(t)]=f:Sn.push(f)),f.patchFlag|=-2,f}if(fm(t)&&(t=t.__vccOpts),n){n=im(n);let{class:f,style:m}=n;f&&!De(f)&&(n.class=Fn(f)),Oe(m)&&(Gu(m)&&!Gt(m)&&(m=ze({},m)),n.style=$r(m))}const h=De(t)?1:wp(t)?128:em(t)?64:Oe(t)?4:re(t)?2:0;return lt(t,n,i,o,l,h,c,!0)}function im(t){return t?Gu(t)||Ms in t?ze({},t):t:null}function kr(t,n,i=!1){const{props:o,ref:l,patchFlag:c,children:h}=t,f=n?om(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&xh(f),ref:n&&n.ref?i&&l?Gt(l)?l.concat(Yo(n)):[l,Yo(n)]:Yo(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Kt?c===-1?16:c|16:c,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&kr(t.ssContent),ssFallback:t.ssFallback&&kr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function oe(t=" ",n=0){return it(_i,null,t,n)}function kh(t,n){const i=it(eo,null,t);return i.staticCount=n,i}function Wt(t="",n=!1){return n?(W(),It(un,null,t)):it(un,null,t)}function Cn(t){return t==null||typeof t=="boolean"?it(un):Gt(t)?it(Kt,null,t.slice()):typeof t=="object"?_r(t):it(_i,null,String(t))}function _r(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:kr(t)}function cl(t,n){let i=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(Gt(n))i=16;else if(typeof n=="object")if(o&65){const l=n.default;l&&(l._c&&(l._d=!1),cl(t,l()),l._c&&(l._d=!0));return}else{i=32;const l=n._;!l&&!(Ms in n)?n._ctx=Ge:l===3&&Ge&&(Ge.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else re(n)?(n={default:n,_ctx:Ge},i=32):(n=String(n),o&64?(i=16,n=[oe(n)]):i=8);t.children=n,t.shapeFlag|=i}function om(...t){const n={};for(let i=0;i<t.length;i++){const o=t[i];for(const l in o)if(l==="class")n.class!==o.class&&(n.class=Fn([n.class,o.class]));else if(l==="style")n.style=$r([n.style,o.style]);else if(go(l)){const c=n[l],h=o[l];h&&c!==h&&!(Gt(c)&&c.includes(h))&&(n[l]=c?[].concat(c,h):h)}else l!==""&&(n[l]=o[l])}return n}function yn(t,n,i,o=null){vn(t,n,7,[i,o])}const sm=ph();let am=0;function lm(t,n,i){const o=t.type,l=(n?n.appContext:t.appContext)||sm,c={uid:am++,vnode:t,type:o,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ou(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gh(o,l),emitsOptions:Qu(o,l),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:o.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=n?n.root:c,c.emit=gp.bind(null,c),t.ce&&t.ce(c),c}let He=null;const Lh=()=>He||Ge;let ul,li,xc="__VUE_INSTANCE_SETTERS__";(li=va()[xc])||(li=va()[xc]=[]),li.push(t=>He=t),ul=t=>{li.length>1?li.forEach(n=>n(t)):li[0](t)};const yi=t=>{ul(t),t.scope.on()},Gr=()=>{He&&He.scope.off(),ul(null)};function Mh(t){return t.vnode.shapeFlag&4}let fo=!1;function cm(t,n=!1){fo=n;const{props:i,children:o}=t.vnode,l=Mh(t);Zp(t,i,l,n),Wp(t,o);const c=l?um(t,n):void 0;return fo=!1,c}function um(t,n){const i=t.type;t.accessCache=Object.create(null),t.proxy=_s(new Proxy(t.ctx,Ip));const{setup:o}=i;if(o){const l=t.setupContext=o.length>1?Ph(t):null;yi(t),ki();const c=wr(o,t,0,[t.props,l]);if(Li(),Gr(),Cu(c)){if(c.then(Gr,Gr),n)return c.then(h=>{kc(t,h,n)}).catch(h=>{ys(h,t,0)});t.asyncDep=c}else kc(t,c,n)}else Ch(t,n)}function kc(t,n,i){re(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Oe(n)&&(t.setupState=Wu(n)),Ch(t,i)}let Lc;function Ch(t,n,i){const o=t.type;if(!t.render){if(!n&&Lc&&!o.render){const l=o.template||al(t).template;if(l){const{isCustomElement:c,compilerOptions:h}=t.appContext.config,{delimiters:f,compilerOptions:m}=o,g=ze(ze({isCustomElement:c,delimiters:f},h),m);o.render=Lc(l,g)}}t.render=o.render||En}yi(t),ki(),zp(t),Li(),Gr()}function hm(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(n,i){return sn(t,"get","$attrs"),n[i]}}))}function Ph(t){const n=i=>{t.exposed=i||{}};return{get attrs(){return hm(t)},slots:t.slots,emit:t.emit,expose:n}}function Cs(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Wu(_s(t.exposed)),{get(n,i){if(i in n)return n[i];if(i in to)return to[i](t)},has(n,i){return i in n||i in to}}))}function dm(t,n=!0){return re(t)?t.displayName||t.name:t.name||n&&t.__name}function fm(t){return re(t)&&"__vccOpts"in t}const _e=(t,n)=>up(t,n,fo);function hl(t,n,i){const o=arguments.length;return o===2?Oe(n)&&!Gt(n)?cs(n)?it(t,null,[n]):it(t,n):it(t,null,n):(o>3?i=Array.prototype.slice.call(arguments,2):o===3&&cs(i)&&(i=[i]),it(t,n,i))}const pm=Symbol.for("v-scx"),mm=()=>bn(pm),gm="3.3.4",_m="http://www.w3.org/2000/svg",Fr=typeof document<"u"?document:null,Mc=Fr&&Fr.createElement("template"),ym={insert:(t,n,i)=>{n.insertBefore(t,i||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,i,o)=>{const l=n?Fr.createElementNS(_m,t):Fr.createElement(t,i?{is:i}:void 0);return t==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:t=>Fr.createTextNode(t),createComment:t=>Fr.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fr.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,i,o,l,c){const h=i?i.previousSibling:n.lastChild;if(l&&(l===c||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),i),!(l===c||!(l=l.nextSibling)););else{Mc.innerHTML=o?`<svg>${t}</svg>`:t;const f=Mc.content;if(o){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}n.insertBefore(f,i)}return[h?h.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}};function vm(t,n,i){const o=t._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):i?t.setAttribute("class",n):t.className=n}function bm(t,n,i){const o=t.style,l=De(i);if(i&&!l){if(n&&!De(n))for(const c in n)i[c]==null&&Oa(o,c,"");for(const c in i)Oa(o,c,i[c])}else{const c=o.display;l?n!==i&&(o.cssText=i):n&&t.removeAttribute("style"),"_vod"in t&&(o.display=c)}}const Cc=/\s*!important$/;function Oa(t,n,i){if(Gt(i))i.forEach(o=>Oa(t,n,o));else if(i==null&&(i=""),n.startsWith("--"))t.setProperty(n,i);else{const o=wm(t,n);Cc.test(i)?t.setProperty(xi(o),i.replace(Cc,""),"important"):t[o]=i}}const Pc=["Webkit","Moz","ms"],ra={};function wm(t,n){const i=ra[n];if(i)return i;let o=Hn(n);if(o!=="filter"&&o in t)return ra[n]=o;o=ms(o);for(let l=0;l<Pc.length;l++){const c=Pc[l]+o;if(c in t)return ra[n]=c}return n}const Sc="http://www.w3.org/1999/xlink";function xm(t,n,i,o,l){if(o&&n.startsWith("xlink:"))i==null?t.removeAttributeNS(Sc,n.slice(6,n.length)):t.setAttributeNS(Sc,n,i);else{const c=Cf(n);i==null||c&&!Eu(i)?t.removeAttribute(n):t.setAttribute(n,c?"":i)}}function km(t,n,i,o,l,c,h){if(n==="innerHTML"||n==="textContent"){o&&h(o,l,c),t[n]=i??"";return}const f=t.tagName;if(n==="value"&&f!=="PROGRESS"&&!f.includes("-")){t._value=i;const g=f==="OPTION"?t.getAttribute("value"):t.value,y=i??"";g!==y&&(t.value=y),i==null&&t.removeAttribute(n);return}let m=!1;if(i===""||i==null){const g=typeof t[n];g==="boolean"?i=Eu(i):i==null&&g==="string"?(i="",m=!0):g==="number"&&(i=0,m=!0)}try{t[n]=i}catch{}m&&t.removeAttribute(n)}function ui(t,n,i,o){t.addEventListener(n,i,o)}function Lm(t,n,i,o){t.removeEventListener(n,i,o)}function Mm(t,n,i,o,l=null){const c=t._vei||(t._vei={}),h=c[n];if(o&&h)h.value=o;else{const[f,m]=Cm(n);if(o){const g=c[n]=Em(o,l);ui(t,f,g,m)}else h&&(Lm(t,f,h,m),c[n]=void 0)}}const Ec=/(?:Once|Passive|Capture)$/;function Cm(t){let n;if(Ec.test(t)){n={};let o;for(;o=t.match(Ec);)t=t.slice(0,t.length-o[0].length),n[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xi(t.slice(2)),n]}let ia=0;const Pm=Promise.resolve(),Sm=()=>ia||(Pm.then(()=>ia=0),ia=Date.now());function Em(t,n){const i=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=i.attached)return;vn(Tm(o,i.value),n,5,[o])};return i.value=t,i.attached=Sm(),i}function Tm(t,n){if(Gt(n)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},n.map(o=>l=>!l._stopped&&o&&o(l))}else return n}const Tc=/^on[a-z]/,Om=(t,n,i,o,l=!1,c,h,f,m)=>{n==="class"?vm(t,o,l):n==="style"?bm(t,i,o):go(n)?Ga(n)||Mm(t,n,i,o,h):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Rm(t,n,o,l))?km(t,n,o,c,h,f,m):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),xm(t,n,o,l))};function Rm(t,n,i,o){return o?!!(n==="innerHTML"||n==="textContent"||n in t&&Tc.test(n)&&re(i)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||Tc.test(n)&&De(i)?!1:n in t}const dr="transition",Zi="animation",dl=(t,{slots:n})=>hl(Mp,Am(t),n);dl.displayName="Transition";const Sh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};dl.props=ze({},oh,Sh);const jr=(t,n=[])=>{Gt(t)?t.forEach(i=>i(...n)):t&&t(...n)},Oc=t=>t?Gt(t)?t.some(n=>n.length>1):t.length>1:!1;function Am(t){const n={};for(const ot in t)ot in Sh||(n[ot]=t[ot]);if(t.css===!1)return n;const{name:i="v",type:o,duration:l,enterFromClass:c=`${i}-enter-from`,enterActiveClass:h=`${i}-enter-active`,enterToClass:f=`${i}-enter-to`,appearFromClass:m=c,appearActiveClass:g=h,appearToClass:y=f,leaveFromClass:k=`${i}-leave-from`,leaveActiveClass:S=`${i}-leave-active`,leaveToClass:j=`${i}-leave-to`}=t,T=Bm(l),C=T&&T[0],G=T&&T[1],{onBeforeEnter:E,onEnter:R,onEnterCancelled:H,onLeave:M,onLeaveCancelled:I,onBeforeAppear:K=E,onAppear:nt=R,onAppearCancelled:J=H}=n,et=(ot,bt,Lt)=>{zr(ot,bt?y:f),zr(ot,bt?g:h),Lt&&Lt()},ct=(ot,bt)=>{ot._isLeaving=!1,zr(ot,k),zr(ot,j),zr(ot,S),bt&&bt()},pt=ot=>(bt,Lt)=>{const Et=ot?nt:R,Ct=()=>et(bt,ot,Lt);jr(Et,[bt,Ct]),Rc(()=>{zr(bt,ot?m:c),fr(bt,ot?y:f),Oc(Et)||Ac(bt,o,C,Ct)})};return ze(n,{onBeforeEnter(ot){jr(E,[ot]),fr(ot,c),fr(ot,h)},onBeforeAppear(ot){jr(K,[ot]),fr(ot,m),fr(ot,g)},onEnter:pt(!1),onAppear:pt(!0),onLeave(ot,bt){ot._isLeaving=!0;const Lt=()=>ct(ot,bt);fr(ot,k),jm(),fr(ot,S),Rc(()=>{ot._isLeaving&&(zr(ot,k),fr(ot,j),Oc(M)||Ac(ot,o,G,Lt))}),jr(M,[ot,Lt])},onEnterCancelled(ot){et(ot,!1),jr(H,[ot])},onAppearCancelled(ot){et(ot,!0),jr(J,[ot])},onLeaveCancelled(ot){ct(ot),jr(I,[ot])}})}function Bm(t){if(t==null)return null;if(Oe(t))return[oa(t.enter),oa(t.leave)];{const n=oa(t);return[n,n]}}function oa(t){return bf(t)}function fr(t,n){n.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t._vtc||(t._vtc=new Set)).add(n)}function zr(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const{_vtc:i}=t;i&&(i.delete(n),i.size||(t._vtc=void 0))}function Rc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Im=0;function Ac(t,n,i,o){const l=t._endId=++Im,c=()=>{l===t._endId&&o()};if(i)return setTimeout(c,i);const{type:h,timeout:f,propCount:m}=Dm(t,n);if(!h)return o();const g=h+"end";let y=0;const k=()=>{t.removeEventListener(g,S),c()},S=j=>{j.target===t&&++y>=m&&k()};setTimeout(()=>{y<m&&k()},f+1),t.addEventListener(g,S)}function Dm(t,n){const i=window.getComputedStyle(t),o=T=>(i[T]||"").split(", "),l=o(`${dr}Delay`),c=o(`${dr}Duration`),h=Bc(l,c),f=o(`${Zi}Delay`),m=o(`${Zi}Duration`),g=Bc(f,m);let y=null,k=0,S=0;n===dr?h>0&&(y=dr,k=h,S=c.length):n===Zi?g>0&&(y=Zi,k=g,S=m.length):(k=Math.max(h,g),y=k>0?h>g?dr:Zi:null,S=y?y===dr?c.length:m.length:0);const j=y===dr&&/\b(transform|all)(,|$)/.test(o(`${dr}Property`).toString());return{type:y,timeout:k,propCount:S,hasTransform:j}}function Bc(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((i,o)=>Ic(i)+Ic(t[o])))}function Ic(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function jm(){return document.body.offsetHeight}const Dc=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Gt(n)?i=>Wo(n,i):n};function zm(t){t.target.composing=!0}function jc(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Nm={created(t,{modifiers:{lazy:n,trim:i,number:o}},l){t._assign=Dc(l);const c=o||l.props&&l.props.type==="number";ui(t,n?"change":"input",h=>{if(h.target.composing)return;let f=t.value;i&&(f=f.trim()),c&&(f=ya(f)),t._assign(f)}),i&&ui(t,"change",()=>{t.value=t.value.trim()}),n||(ui(t,"compositionstart",zm),ui(t,"compositionend",jc),ui(t,"change",jc))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,modifiers:{lazy:i,trim:o,number:l}},c){if(t._assign=Dc(c),t.composing||document.activeElement===t&&t.type!=="range"&&(i||o&&t.value.trim()===n||(l||t.type==="number")&&ya(t.value)===n))return;const h=n??"";t.value!==h&&(t.value=h)}},Hm=["ctrl","shift","alt","meta"],Fm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>Hm.some(i=>t[`${i}Key`]&&!n.includes(i))},us=(t,n)=>(i,...o)=>{for(let l=0;l<n.length;l++){const c=Fm[n[l]];if(c&&c(i,n))return}return t(i,...o)},Eh={beforeMount(t,{value:n},{transition:i}){t._vod=t.style.display==="none"?"":t.style.display,i&&n?i.beforeEnter(t):qi(t,n)},mounted(t,{value:n},{transition:i}){i&&n&&i.enter(t)},updated(t,{value:n,oldValue:i},{transition:o}){!n!=!i&&(o?n?(o.beforeEnter(t),qi(t,!0),o.enter(t)):o.leave(t,()=>{qi(t,!1)}):qi(t,n))},beforeUnmount(t,{value:n}){qi(t,n)}};function qi(t,n){t.style.display=n?t._vod:"none"}const Vm=ze({patchProp:Om},ym);let sa,zc=!1;function $m(){return sa=zc?sa:Xp(Vm),zc=!0,sa}const Um=(...t)=>{const n=$m().createApp(...t),{mount:i}=n;return n.mount=o=>{const l=Gm(o);if(l)return i(l,!0,l instanceof SVGElement)},n};function Gm(t){return De(t)?document.querySelector(t):t}function Ra(t,n={},i){for(const o in t){const l=t[o],c=i?`${i}:${o}`:o;typeof l=="object"&&l!==null?Ra(l,n,c):typeof l=="function"&&(n[c]=l)}return n}const Zm={run:t=>t()},qm=()=>Zm,Th=typeof console.createTask<"u"?console.createTask:qm;function Km(t,n){const i=n.shift(),o=Th(i);return t.reduce((l,c)=>l.then(()=>o.run(()=>c(...n))),Promise.resolve())}function Wm(t,n){const i=n.shift(),o=Th(i);return Promise.all(t.map(l=>o.run(()=>l(...n))))}function aa(t,n){for(const i of[...t])i(n)}class Jm{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(n,i,o={}){if(!n||typeof i!="function")return()=>{};const l=n;let c;for(;this._deprecatedHooks[n];)c=this._deprecatedHooks[n],n=c.to;if(c&&!o.allowDeprecated){let h=c.message;h||(h=`${l} hook has been deprecated`+(c.to?`, please use ${c.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(h)||(console.warn(h),this._deprecatedMessages.add(h))}if(!i.name)try{Object.defineProperty(i,"name",{get:()=>"_"+n.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[n]=this._hooks[n]||[],this._hooks[n].push(i),()=>{i&&(this.removeHook(n,i),i=void 0)}}hookOnce(n,i){let o,l=(...c)=>(typeof o=="function"&&o(),o=void 0,l=void 0,i(...c));return o=this.hook(n,l),o}removeHook(n,i){if(this._hooks[n]){const o=this._hooks[n].indexOf(i);o!==-1&&this._hooks[n].splice(o,1),this._hooks[n].length===0&&delete this._hooks[n]}}deprecateHook(n,i){this._deprecatedHooks[n]=typeof i=="string"?{to:i}:i;const o=this._hooks[n]||[];delete this._hooks[n];for(const l of o)this.hook(n,l)}deprecateHooks(n){Object.assign(this._deprecatedHooks,n);for(const i in n)this.deprecateHook(i,n[i])}addHooks(n){const i=Ra(n),o=Object.keys(i).map(l=>this.hook(l,i[l]));return()=>{for(const l of o.splice(0,o.length))l()}}removeHooks(n){const i=Ra(n);for(const o in i)this.removeHook(o,i[o])}removeAllHooks(){for(const n in this._hooks)delete this._hooks[n]}callHook(n,...i){return i.unshift(n),this.callHookWith(Km,n,...i)}callHookParallel(n,...i){return i.unshift(n),this.callHookWith(Wm,n,...i)}callHookWith(n,i,...o){const l=this._before||this._after?{name:i,args:o,context:{}}:void 0;this._before&&aa(this._before,l);const c=n(i in this._hooks?[...this._hooks[i]]:[],o);return c instanceof Promise?c.finally(()=>{this._after&&l&&aa(this._after,l)}):(this._after&&l&&aa(this._after,l),c)}beforeEach(n){return this._before=this._before||[],this._before.push(n),()=>{if(this._before!==void 0){const i=this._before.indexOf(n);i!==-1&&this._before.splice(i,1)}}}afterEach(n){return this._after=this._after||[],this._after.push(n),()=>{if(this._after!==void 0){const i=this._after.indexOf(n);i!==-1&&this._after.splice(i,1)}}}}function Ym(){return new Jm}function Xm(t){return Array.isArray(t)?t:[t]}const Oh=["title","script","style","noscript"],Rh=["base","meta","link","style","script","noscript"],Qm=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],tg=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],eg=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function Ah(t){let n=9;for(let i=0;i<t.length;)n=Math.imul(n^t.charCodeAt(i++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Aa(t){return Ah(`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([n,i])=>`${n}:${String(i)}`).join(",")}`)}function ng(t){let n=9;for(const i of t)for(let o=0;o<i.length;)n=Math.imul(n^i.charCodeAt(o++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Bh(t,n){const{props:i,tag:o}=t;if(tg.includes(o))return o;if(o==="link"&&i.rel==="canonical")return"canonical";if(i.charset)return"charset";const l=["id"];o==="meta"&&l.push("name","property","http-equiv");for(const c of l)if(typeof i[c]<"u"){const h=String(i[c]);return n&&!n(h)?!1:`${o}:${c}:${h}`}return!1}function Nc(t,n){return t==null?n||null:typeof t=="function"?t(n):t}function qo(t,n=!1,i){const{tag:o,$el:l}=t;l&&(Object.entries(o.props).forEach(([c,h])=>{h=String(h);const f=`attr:${c}`;if(c==="class"){if(!h)return;for(const m of h.split(" ")){const g=`${f}:${m}`;i&&i(t,g,()=>l.classList.remove(m)),l.classList.contains(m)||l.classList.add(m)}return}i&&!c.startsWith("data-h-")&&i(t,f,()=>l.removeAttribute(c)),(n||l.getAttribute(c)!==h)&&l.setAttribute(c,h)}),Oh.includes(o.tag)&&(o.textContent&&o.textContent!==l.textContent?l.textContent=o.textContent:o.innerHTML&&o.innerHTML!==l.innerHTML&&(l.innerHTML=o.innerHTML)))}let Ki=!1;async function rg(t,n={}){var S,j;const i={shouldRender:!0};if(await t.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const o=n.document||t.resolvedOptions.document||window.document,l=(await t.resolveTags()).map(f);if(t.resolvedOptions.experimentalHashHydration&&(Ki=Ki||t._hash||!1,Ki)){const T=ng(l.map(C=>C.tag._h));if(Ki===T)return;Ki=T}const c=t._popSideEffectQueue();t.headEntries().map(T=>T._sde).forEach(T=>{Object.entries(T).forEach(([C,G])=>{c[C]=G})});const h=(T,C,G)=>{C=`${T.renderId}:${C}`,T.entry&&(T.entry._sde[C]=G),delete c[C]};function f(T){const C=t.headEntries().find(E=>E._i===T._e),G={renderId:T._d||Aa(T),$el:null,shouldRender:!0,tag:T,entry:C,markSideEffect:(E,R)=>h(G,E,R)};return G}const m=[],g={body:[],head:[]},y=T=>{t._elMap[T.renderId]=T.$el,m.push(T),h(T,"el",()=>{var C;(C=T.$el)==null||C.remove(),delete t._elMap[T.renderId]})};for(const T of l){if(await t.hooks.callHook("dom:beforeRenderTag",T),!T.shouldRender)continue;const{tag:C}=T;if(C.tag==="title"){o.title=C.textContent||"",m.push(T);continue}if(C.tag==="htmlAttrs"||C.tag==="bodyAttrs"){T.$el=o[C.tag==="htmlAttrs"?"documentElement":"body"],qo(T,!1,h),m.push(T);continue}if(T.$el=t._elMap[T.renderId],!T.$el&&C.key&&(T.$el=o.querySelector(`${(S=C.tagPosition)!=null&&S.startsWith("body")?"body":"head"} > ${C.tag}[data-h-${C._h}]`)),T.$el){T.tag._d&&qo(T),y(T);continue}g[(j=C.tagPosition)!=null&&j.startsWith("body")?"body":"head"].push(T)}const k={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(g).forEach(([T,C])=>{var E;if(!C.length)return;const G=(E=o==null?void 0:o[T])==null?void 0:E.children;if(G){for(const R of[...G].reverse()){const H=R.tagName.toLowerCase();if(!Rh.includes(H))continue;const M=R.getAttributeNames().reduce((J,et)=>({...J,[et]:R.getAttribute(et)}),{}),I={tag:H,props:M};R.innerHTML&&(I.innerHTML=R.innerHTML);const K=Aa(I);let nt=C.findIndex(J=>(J==null?void 0:J.renderId)===K);if(nt===-1){const J=Bh(I);nt=C.findIndex(et=>(et==null?void 0:et.tag._d)&&et.tag._d===J)}if(nt!==-1){const J=C[nt];J.$el=R,qo(J),y(J),delete C[nt]}}C.forEach(R=>{const H=R.tag.tagPosition||"head";k[H]=k[H]||o.createDocumentFragment(),R.$el||(R.$el=o.createElement(R.tag.tag),qo(R,!0)),k[H].appendChild(R.$el),y(R)})}}),k.head&&o.head.appendChild(k.head),k.bodyOpen&&o.body.insertBefore(k.bodyOpen,o.body.firstChild),k.bodyClose&&o.body.appendChild(k.bodyClose);for(const T of m)await t.hooks.callHook("dom:renderTag",T);Object.values(c).forEach(T=>T())}let la=null;async function ig(t,n={}){function i(){return la=null,rg(t,n)}const o=n.delayFn||(l=>setTimeout(l,10));return la=la||new Promise(l=>o(()=>l(i())))}function og(t){return{hooks:{"entries:updated":function(n){if(typeof(t==null?void 0:t.document)>"u"&&typeof window>"u")return;let i=t==null?void 0:t.delayFn;!i&&typeof requestAnimationFrame<"u"&&(i=requestAnimationFrame),ig(n,{document:(t==null?void 0:t.document)||window.document,delayFn:i})}}}}function sg(t){var n;return((n=t==null?void 0:t.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:n.getAttribute("content"))||!1}const Hc={critical:2,high:9,low:12,base:-1,title:1,meta:10};function Fc(t){if(typeof t.tagPriority=="number")return t.tagPriority;if(t.tag==="meta"){if(t.props.charset)return-2;if(t.props["http-equiv"]==="content-security-policy")return 0}const n=t.tagPriority||t.tag;return n in Hc?Hc[n]:10}const ag=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function lg(){return{hooks:{"tags:resolve":t=>{const n=i=>{var o;return(o=t.tags.find(l=>l._d===i))==null?void 0:o._p};for(const{prefix:i,offset:o}of ag)for(const l of t.tags.filter(c=>typeof c.tagPriority=="string"&&c.tagPriority.startsWith(i))){const c=n(l.tagPriority.replace(i,""));typeof c<"u"&&(l._p=c+o)}t.tags.sort((i,o)=>i._p-o._p).sort((i,o)=>Fc(i)-Fc(o))}}}}function cg(){return{hooks:{"tags:resolve":t=>{const{tags:n}=t;let i=n.findIndex(l=>l.tag==="titleTemplate");const o=n.findIndex(l=>l.tag==="title");if(o!==-1&&i!==-1){const l=Nc(n[i].textContent,n[o].textContent);l!==null?n[o].textContent=l||n[o].textContent:delete n[o]}else if(i!==-1){const l=Nc(n[i].textContent);l!==null&&(n[i].textContent=l,n[i].tag="title",i=-1)}i!==-1&&delete n[i],t.tags=n.filter(Boolean)}}}}function ug(){return{hooks:{"tag:normalise":function({tag:t}){typeof t.props.body<"u"&&(t.tagPosition="bodyClose",delete t.props.body)}}}}const hg=["link","style","script","noscript"];function dg(){return{hooks:{"tag:normalise":({tag:t,resolvedOptions:n})=>{n.experimentalHashHydration===!0&&(t._h=Aa(t)),t.key&&hg.includes(t.tag)&&(t._h=Ah(t.key),t.props[`data-h-${t._h}`]="")}}}}const Vc=["script","link","bodyAttrs"];function fg(){const t=(n,i)=>{const o={},l={};Object.entries(i.props).forEach(([h,f])=>{h.startsWith("on")&&typeof f=="function"?l[h]=f:o[h]=f});let c;return n==="dom"&&i.tag==="script"&&typeof o.src=="string"&&typeof l.onload<"u"&&(c=o.src,delete o.src),{props:o,eventHandlers:l,delayedSrc:c}};return{hooks:{"ssr:render":function(n){n.tags=n.tags.map(i=>(!Vc.includes(i.tag)||!Object.entries(i.props).find(([o,l])=>o.startsWith("on")&&typeof l=="function")||(i.props=t("ssr",i).props),i))},"dom:beforeRenderTag":function(n){if(!Vc.includes(n.tag.tag)||!Object.entries(n.tag.props).find(([c,h])=>c.startsWith("on")&&typeof h=="function"))return;const{props:i,eventHandlers:o,delayedSrc:l}=t("dom",n.tag);Object.keys(o).length&&(n.tag.props=i,n.tag._eventHandlers=o,n.tag._delayedSrc=l)},"dom:renderTag":function(n){const i=n.$el;if(!n.tag._eventHandlers||!i)return;const o=n.tag.tag==="bodyAttrs"&&typeof window<"u"?window:i;Object.entries(n.tag._eventHandlers).forEach(([l,c])=>{const h=`${n.tag._d||n.tag._p}:${l}`,f=l.slice(2).toLowerCase(),m=`data-h-${f}`;if(n.markSideEffect(h,()=>{}),i.hasAttribute(m))return;const g=c;i.setAttribute(m,""),o.addEventListener(f,g),n.entry&&(n.entry._sde[h]=()=>{o.removeEventListener(f,g),i.removeAttribute(m)})}),n.tag._delayedSrc&&i.setAttribute("src",n.tag._delayedSrc)}}}}const pg=["templateParams","htmlAttrs","bodyAttrs"];function mg(){return{hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(o=>{t.props[o]&&(t.key=t.props[o],delete t.props[o])});const i=Bh(t)||(t.key?`${t.tag}:${t.key}`:!1);i&&(t._d=i)},"tags:resolve":function(t){const n={};t.tags.forEach(o=>{const l=(o.key?`${o.tag}:${o.key}`:o._d)||o._p,c=n[l];if(c){let f=o==null?void 0:o.tagDuplicateStrategy;if(!f&&pg.includes(o.tag)&&(f="merge"),f==="merge"){const m=c.props;["class","style"].forEach(g=>{o.props[g]&&m[g]&&(g==="style"&&!m[g].endsWith(";")&&(m[g]+=";"),o.props[g]=`${m[g]} ${o.props[g]}`)}),n[l].props={...m,...o.props};return}else if(o._e===c._e){c._duped=c._duped||[],o._d=`${c._d}:${c._duped.length+1}`,c._duped.push(o);return}}const h=Object.keys(o.props).length+(o.innerHTML?1:0)+(o.textContent?1:0);if(Rh.includes(o.tag)&&h===0){delete n[l];return}n[l]=o});const i=[];Object.values(n).forEach(o=>{const l=o._duped;delete o._duped,i.push(o),l&&i.push(...l)}),t.tags=i}}}}function Ko(t,n){function i(c){if(["s","pageTitle"].includes(c))return n.pageTitle;let h;return c.includes(".")?h=c.split(".").reduce((f,m)=>f&&f[m]||void 0,n):h=n[c],typeof h<"u"?h||"":!1}let o=t;try{o=decodeURI(t)}catch{}return(o.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(c=>{const h=i(c.slice(1));typeof h=="string"&&(t=t.replace(new RegExp(`\\${c}(\\W|$)`,"g"),`${h}$1`).trim())}),n.separator&&(t.endsWith(n.separator)&&(t=t.slice(0,-n.separator.length).trim()),t.startsWith(n.separator)&&(t=t.slice(n.separator.length).trim()),t=t.replace(new RegExp(`\\${n.separator}\\s*\\${n.separator}`,"g"),n.separator)),t}function gg(){return{hooks:{"tags:resolve":t=>{var c;const{tags:n}=t,i=(c=n.find(h=>h.tag==="title"))==null?void 0:c.textContent,o=n.findIndex(h=>h.tag==="templateParams"),l=o!==-1?n[o].props:{};l.pageTitle=l.pageTitle||i||"";for(const h of n)if(["titleTemplate","title"].includes(h.tag)&&typeof h.textContent=="string")h.textContent=Ko(h.textContent,l);else if(h.tag==="meta"&&typeof h.props.content=="string")h.props.content=Ko(h.props.content,l);else if(h.tag==="link"&&typeof h.props.href=="string")h.props.href=Ko(h.props.href,l);else if(h.tag==="script"&&["application/json","application/ld+json"].includes(h.props.type)&&typeof h.innerHTML=="string")try{h.innerHTML=JSON.stringify(JSON.parse(h.innerHTML),(f,m)=>typeof m=="string"?Ko(m,l):m)}catch{}t.tags=n.filter(h=>h.tag!=="templateParams")}}}}const Ih=typeof window<"u";let Dh;function _g(t){return Dh=t}function yg(){return Dh}function fl(t,n={}){var o;const i=yg();if(i){const l=Ih||((o=i.resolvedOptions)==null?void 0:o.document);return n.mode==="server"&&l||n.mode==="client"&&!l?void 0:i.push(t,n)}}async function vg(t,n){const i={tag:t,props:{}};return t==="templateParams"?(i.props=n,i):["title","titleTemplate"].includes(t)?(i.textContent=n instanceof Promise?await n:n,i):typeof n=="string"?["script","noscript","style"].includes(t)?(t==="script"&&(/^(https?:)?\/\//.test(n)||n.startsWith("/"))?i.props.src=n:i.innerHTML=n,i):!1:(i.props=await wg(t,{...n}),i.props.children&&(i.props.innerHTML=i.props.children),delete i.props.children,Object.keys(i.props).filter(o=>eg.includes(o)).forEach(o=>{(!["innerHTML","textContent"].includes(o)||Oh.includes(i.tag))&&(i[o]=i.props[o]),delete i.props[o]}),["innerHTML","textContent"].forEach(o=>{if(i.tag==="script"&&typeof i[o]=="string"&&["application/ld+json","application/json"].includes(i.props.type))try{i[o]=JSON.parse(i[o])}catch{i[o]=""}typeof i[o]=="object"&&(i[o]=JSON.stringify(i[o]))}),i.props.class&&(i.props.class=bg(i.props.class)),i.props.content&&Array.isArray(i.props.content)?i.props.content.map(o=>({...i,props:{...i.props,content:o}})):i)}function bg(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(n=>t[n])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(n=>n.trim()).filter(Boolean).join(" ")}async function wg(t,n){for(const i of Object.keys(n)){const o=i.startsWith("data-");n[i]instanceof Promise&&(n[i]=await n[i]),String(n[i])==="true"?n[i]=o?"true":"":String(n[i])==="false"&&(o?n[i]="false":delete n[i])}return n}const xg=10;async function kg(t){const n=[];return Object.entries(t.resolvedInput).filter(([i,o])=>typeof o<"u"&&Qm.includes(i)).forEach(([i,o])=>{const l=Xm(o);n.push(...l.map(c=>vg(i,c)).flat())}),(await Promise.all(n)).flat().filter(Boolean).map((i,o)=>(i._e=t._i,i._p=(t._i<<xg)+o,i))}function Lg(){return[mg(),lg(),gg(),cg(),dg(),fg(),ug()]}function Mg(t={}){return[og({document:t==null?void 0:t.document,delayFn:t==null?void 0:t.domDelayFn})]}function Cg(t={}){const n=Pg({...t,plugins:[...Mg(t),...(t==null?void 0:t.plugins)||[]]});return t.experimentalHashHydration&&n.resolvedOptions.document&&(n._hash=sg(n.resolvedOptions.document)),_g(n),n}function Pg(t={}){let n=[],i={},o=0;const l=Ym();t!=null&&t.hooks&&l.addHooks(t.hooks),t.plugins=[...Lg(),...(t==null?void 0:t.plugins)||[]],t.plugins.forEach(f=>f.hooks&&l.addHooks(f.hooks)),t.document=t.document||(Ih?document:void 0);const c=()=>l.callHook("entries:updated",h),h={resolvedOptions:t,headEntries(){return n},get hooks(){return l},use(f){f.hooks&&l.addHooks(f.hooks)},push(f,m){const g={_i:o++,input:f,_sde:{}};return m!=null&&m.mode&&(g._m=m==null?void 0:m.mode),m!=null&&m.transform&&(g._t=m==null?void 0:m.transform),n.push(g),c(),{dispose(){n=n.filter(y=>y._i!==g._i?!0:(i={...i,...y._sde||{}},y._sde={},c(),!1))},patch(y){n=n.map(k=>(k._i===g._i&&(g.input=k.input=y,c()),k))}}},async resolveTags(){const f={tags:[],entries:[...n]};await l.callHook("entries:resolve",f);for(const m of f.entries){const g=m._t||(y=>y);if(m.resolvedInput=g(m.resolvedInput||m.input),m.resolvedInput)for(const y of await kg(m)){const k={tag:y,entry:m,resolvedOptions:h.resolvedOptions};await l.callHook("tag:normalise",k),f.tags.push(k.tag)}}return await l.callHook("tags:resolve",f),f.tags},_popSideEffectQueue(){const f={...i};return i={},f},_elMap:{}};return h.hooks.callHook("init",h),h}const Sg=["title"],Eg={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Tg=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Og=[Tg],Rg={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ag=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Bg=[Ag],jh={__name:"SwitchTheme",setup(t){const n={dark:"dark",light:"light"},i=Qt(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?i.value="dark":i.value="light",Fe(i,(l,c)=>{document.documentElement.classList.add(l),document.documentElement.classList.remove(c),localStorage.setItem("theme",l)},{immediate:!0}));const o=()=>{i.value===n.dark?i.value=n.light:i.value=n.dark};return(l,c)=>(W(),at("button",{type:"button",onClick:o,title:i.value===n.light?"Change to dark mode":"Change to light mode"},[i.value===n.dark?(W(),at("svg",Eg,Og)):(W(),at("svg",Rg,Bg))],8,Sg))}},Ig=["aria-expanded"],Dg=lt("span",{class:"sr-only"},"Open main menu",-1),jg={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},zg={class:"font-normal container mx-auto"},Ng={class:"flex flex-col m-0 p-0 border-t border-base-border"},Hg={__name:"NavbarMobile",setup(t){const{header_links:n}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null},i=Qt(!1),o=()=>{i.value=!i.value};return(l,c)=>{const h=vt("IconClose"),f=vt("IconHamburger"),m=vt("router-link"),g=vt("ClientOnly"),y=vt("AnimationOpacity");return W(),at(Kt,null,[lt("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":i.value,onClick:o},[Dg,i.value?(W(),It(h,{key:0})):(W(),It(f,{key:1,class:"w-6 h-6"}))],8,Ig),it(y,null,{default:_t(()=>[i.value?(W(),at("div",jg,[lt("nav",zg,[lt("ul",Ng,[(W(!0),at(Kt,null,Se(Xt(n),(k,S)=>(W(),at("li",{key:S,class:"border-b border-base-border"},[it(m,{to:k.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:_t(()=>[oe(he(k.label),1)]),_:2},1032,["to"])]))),128)),lt("li",null,[it(g,null,{default:_t(()=>[it(jh,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})])])])])):Wt("",!0)]),_:1})],64)}}};function Fg(t){try{return new URL(t),!0}catch{return!1}}const Vg={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},$g={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},Ug=["src","alt"],Gg={class:"relative hidden md:flex items-center ml-auto"},Zg={class:"text-sm leading-6 font-normal"},qg={class:"flex space-x-8"},Kg={class:"flex items-center border-l ml-6 pl-6 border-base-muted"},Wg={__name:"LayoutHeader",setup(t){const{header_links:n,header_logo_text:i,header_logo_url:o,base_url:l}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null},c=Fg(o)?o:(l+o).replace("//","/");return(h,f)=>{const m=vt("router-link"),g=vt("ClientOnly");return W(),at("div",Vg,[lt("div",$g,[it(m,{to:"/",class:"flex items-center text-primary-content"},{default:_t(()=>[Xt(o)?(W(),at("img",{key:0,class:"mr-3 h-10",src:Xt(c),alt:Xt(i)},null,8,Ug)):Wt("",!0),lt("span",null,he(Xt(i)),1)]),_:1}),it(Hg),lt("div",Gg,[lt("nav",Zg,[lt("ul",qg,[(W(!0),at(Kt,null,Se(Xt(n),(y,k)=>(W(),at("li",{key:k},[it(m,{to:y.link,class:"hover:text-primary-content text-primary-content"},{default:_t(()=>[oe(he(y.label),1)]),_:2},1032,["to"])]))),128))])]),lt("div",Kg,[it(g,null,{default:_t(()=>[it(jh,{class:"text-primary-content"})]),_:1})])])])])}}},Jg={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},Yg={class:"container mx-auto text-sm pt-2 pb-4"},Xg={class:"pt-4 pb-2"},Qg={key:0},t_=["href"],e_={class:"flex items-center text-xs"},n_=["src"],r_=kh('<hr class="mt-3 mb-3 border-gray-500"><div class="flex items-center"><span> Data provided by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://taxonworks.org/"> TaxonWorks </a></span><span class="ml-2 mr-2">|</span><span> Pages by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://github.com/SpeciesFileGroup/taxonpages"> TaxonPages </a></span><span class="ml-2 mr-2">|</span><span> Support (Services) by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://speciesfilegroup.org"> Species File Group </a></span></div>',2),i_={__name:"LayoutFooter",setup(t){const{project_authors:n,project_citation:i,project_url:o,copyright_text:l,copyright_image:c,copyright_image_link:h}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null};return(f,m)=>(W(),at("footer",Jg,[lt("div",Yg,[lt("div",Xg,[oe(he(Xt(n))+" "+he(Xt(i))+" ",1),Xt(o)?(W(),at("span",Qg,[oe(" < "),lt("a",{class:"text-secondary-color",href:Xt(o)},he(Xt(o)),9,t_),oe(" > ")])):Wt("",!0)]),lt("div",e_,[(W(),It(Ca(Xt(h)?"a":"span"),{href:Xt(h)},{default:_t(()=>[Xt(c)?(W(),at("img",{key:0,src:Xt(c),alt:"copyright",class:"mr-2"},null,8,n_)):Wt("",!0)]),_:1},8,["href"])),lt("p",null,he(Xt(l)),1)]),r_])]))}},o_={class:"min-h-screen flex flex-col justify-between"},s_={__name:"Application",setup(t){return(n,i)=>(W(),at("div",o_,[lt("div",null,[it(Wg),Te(n.$slots,"default")]),it(i_)]))}},a_={__name:"App",setup(t){return fl({title:"My project",meta:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}]}),(n,i)=>{const o=vt("router-view");return W(),It(s_,null,{default:_t(()=>[it(o)]),_:1})}}},se=(t,n)=>{const i=t.__vccOpts||t;for(const[o,l]of n)i[o]=l;return i},l_={},c_={class:"mx-auto"},u_=lt("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[lt("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),lt("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1),h_=[u_];function d_(t,n){return W(),at("div",c_,h_)}const f_=se(l_,[["render",d_]]);function zh(t){const n={...t};for(const i in t){const o=t[i];(!o||Array.isArray(o)&&!o.length)&&delete n[i]}return n}function p_(t,n){const{hash_mode:i,base_url:o=""}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null},l=(o+(i?"/#"+n:n)).replaceAll("//","/");return[t,l].join("")}function m_({id:t,childTaxon:n,parentTaxon:i,taxonRank:o,name:l,scientificName:c,identifier:h,commonNames:f,alternateName:m},{host:g}){return zh({"@type":"Taxon","@id":p_(g,t),"http://purl.org/dc/terms/conformsTo":{"@id":"https://bioschemas.org/profiles/Taxon/1.0-RELEASE"},additionalType:["dwc:Taxon","http://rs.tdwg.org/ontology/voc/TaxonConcept#TaxonConcept"],"dwc:vernacularName":y_(f),name:l,alternateName:m.map(y=>y.replaceAll(/<\/?i>/g,"")),childTaxon:n,scientificName:g_(c),identifier:h,taxonRank:o,parentTaxon:__(i)})}function g_({name:t,author:n,taxonRank:i}){return zh({"@type":"TaxonName",author:n,name:t,taxonRank:i})}function __({name:t,taxonRank:n}){return{"@type":"Taxon",name:t,taxonRank:n}}function y_(t){return t.map(({name:n,language:i})=>({"@language":i,"@value":n}))}function v_(t){switch(t){case"taxon":return m_;default:return()=>({})}}function b_(t,{host:n}){return v_(t._resolver)(t,{host:n})}function w_({host:t}){return{hooks:{"tags:resolve":async function(n){for(const i of n.tags)i.tag==="script"&&i.key==="schema-org-graph"&&(i.innerHTML=JSON.stringify({"@context":"https://schema.org","@graph":i.props.nodes.map(o=>b_(o,{host:t}))},null,2),delete i.props.nodes)}}}}var x_=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Nh;const Ps=t=>Nh=t,Hh=Symbol();function Ba(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ro;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ro||(ro={}));function k_(){const t=Ru(!0),n=t.run(()=>Qt({}));let i=[],o=[];const l=_s({install(c){Ps(l),l._a=c,c.provide(Hh,l),c.config.globalProperties.$pinia=l,o.forEach(h=>i.push(h)),o=[]},use(c){return!this._a&&!x_?o.push(c):i.push(c),this},_p:i,_a:null,_e:t,_s:new Map,state:n});return l}const Fh=()=>{};function $c(t,n,i,o=Fh){t.push(n);const l=()=>{const c=t.indexOf(n);c>-1&&(t.splice(c,1),o())};return!i&&Au()&&Sf(l),l}function ci(t,...n){t.slice().forEach(i=>{i(...n)})}const L_=t=>t();function Ia(t,n){t instanceof Map&&n instanceof Map&&n.forEach((i,o)=>t.set(o,i)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const i in n){if(!n.hasOwnProperty(i))continue;const o=n[i],l=t[i];Ba(l)&&Ba(o)&&t.hasOwnProperty(i)&&!Ie(o)&&!br(o)?t[i]=Ia(l,o):t[i]=o}return t}const M_=Symbol();function C_(t){return!Ba(t)||!t.hasOwnProperty(M_)}const{assign:gr}=Object;function P_(t){return!!(Ie(t)&&t.effect)}function S_(t,n,i,o){const{state:l,actions:c,getters:h}=n,f=i.state.value[t];let m;function g(){f||(i.state.value[t]=l?l():{});const y=sp(i.state.value[t]);return gr(y,c,Object.keys(h||{}).reduce((k,S)=>(k[S]=_s(_e(()=>{Ps(i);const j=i._s.get(t);return h[S].call(j,j)})),k),{}))}return m=Vh(t,g,n,i,o,!0),m}function Vh(t,n,i={},o,l,c){let h;const f=gr({actions:{}},i),m={deep:!0};let g,y,k=[],S=[],j;const T=o.state.value[t];!c&&!T&&(o.state.value[t]={}),Qt({});let C;function G(J){let et;g=y=!1,typeof J=="function"?(J(o.state.value[t]),et={type:ro.patchFunction,storeId:t,events:j}):(Ia(o.state.value[t],J),et={type:ro.patchObject,payload:J,storeId:t,events:j});const ct=C=Symbol();vs().then(()=>{C===ct&&(g=!0)}),y=!0,ci(k,et,o.state.value[t])}const E=c?function(){const{state:et}=i,ct=et?et():{};this.$patch(pt=>{gr(pt,ct)})}:Fh;function R(){h.stop(),k=[],S=[],o._s.delete(t)}function H(J,et){return function(){Ps(o);const ct=Array.from(arguments),pt=[],ot=[];function bt(Ct){pt.push(Ct)}function Lt(Ct){ot.push(Ct)}ci(S,{args:ct,name:J,store:I,after:bt,onError:Lt});let Et;try{Et=et.apply(this&&this.$id===t?this:I,ct)}catch(Ct){throw ci(ot,Ct),Ct}return Et instanceof Promise?Et.then(Ct=>(ci(pt,Ct),Ct)).catch(Ct=>(ci(ot,Ct),Promise.reject(Ct))):(ci(pt,Et),Et)}}const M={_p:o,$id:t,$onAction:$c.bind(null,S),$patch:G,$reset:E,$subscribe(J,et={}){const ct=$c(k,J,et.detached,()=>pt()),pt=h.run(()=>Fe(()=>o.state.value[t],ot=>{(et.flush==="sync"?y:g)&&J({storeId:t,type:ro.direct,events:j},ot)},gr({},m,et)));return ct},$dispose:R},I=Mi(M);o._s.set(t,I);const K=o._a&&o._a.runWithContext||L_,nt=o._e.run(()=>(h=Ru(),K(()=>h.run(n))));for(const J in nt){const et=nt[J];if(Ie(et)&&!P_(et)||br(et))c||(T&&C_(et)&&(Ie(et)?et.value=T[J]:Ia(et,T[J])),o.state.value[t][J]=et);else if(typeof et=="function"){const ct=H(J,et);nt[J]=ct,f.actions[J]=et}}return gr(I,nt),gr(pe(I),nt),Object.defineProperty(I,"$state",{get:()=>o.state.value[t],set:J=>{G(et=>{gr(et,J)})}}),o._p.forEach(J=>{gr(I,h.run(()=>J({store:I,app:o._a,pinia:o,options:f})))}),T&&c&&i.hydrate&&i.hydrate(I.$state,T),g=!0,y=!0,I}function $h(t,n,i){let o,l;const c=typeof n=="function";typeof t=="string"?(o=t,l=c?i:n):(l=t,o=t.id);function h(f,m){const g=Gp();return f=f||(g?bn(Hh,null):null),f&&Ps(f),f=Nh,f._s.has(o)||(c?Vh(o,n,l,f):S_(o,l,f)),f._s.get(o)}return h.$id=o,h}const E_={},T_={class:"container mx-auto text-center mt-36 flex flex-col justify-center"},O_=lt("h1",{class:"text-4xl"},"Welcome to TaxonPages",-1),R_=lt("p",{class:"m-4"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1),A_=[O_,R_];function B_(t,n){return W(),at("div",T_,A_)}const I_=se(E_,[["render",B_]]),D_=[{name:"homepage",path:"/",alias:"/home",component:I_}];/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const hi=typeof window<"u";function j_(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ke=Object.assign;function ca(t,n){const i={};for(const o in n){const l=n[o];i[o]=Tn(l)?l.map(t):t(l)}return i}const io=()=>{},Tn=Array.isArray,z_=/\/$/,N_=t=>t.replace(z_,"");function ua(t,n,i="/"){let o,l={},c="",h="";const f=n.indexOf("#");let m=n.indexOf("?");return f<m&&f>=0&&(m=-1),m>-1&&(o=n.slice(0,m),c=n.slice(m+1,f>-1?f:n.length),l=t(c)),f>-1&&(o=o||n.slice(0,f),h=n.slice(f,n.length)),o=$_(o??n,i),{fullPath:o+(c&&"?")+c+h,path:o,query:l,hash:h}}function H_(t,n){const i=n.query?t(n.query):"";return n.path+(i&&"?")+i+(n.hash||"")}function Uc(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function F_(t,n,i){const o=n.matched.length-1,l=i.matched.length-1;return o>-1&&o===l&&vi(n.matched[o],i.matched[l])&&Uh(n.params,i.params)&&t(n.query)===t(i.query)&&n.hash===i.hash}function vi(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Uh(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(!V_(t[i],n[i]))return!1;return!0}function V_(t,n){return Tn(t)?Gc(t,n):Tn(n)?Gc(n,t):t===n}function Gc(t,n){return Tn(n)?t.length===n.length&&t.every((i,o)=>i===n[o]):t.length===1&&t[0]===n}function $_(t,n){if(t.startsWith("/"))return t;if(!t)return n;const i=n.split("/"),o=t.split("/"),l=o[o.length-1];(l===".."||l===".")&&o.push("");let c=i.length-1,h,f;for(h=0;h<o.length;h++)if(f=o[h],f!==".")if(f==="..")c>1&&c--;else break;return i.slice(0,c).join("/")+"/"+o.slice(h-(h===o.length?1:0)).join("/")}var po;(function(t){t.pop="pop",t.push="push"})(po||(po={}));var oo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oo||(oo={}));function U_(t){if(!t)if(hi){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),N_(t)}const G_=/^[^#]+#/;function Z_(t,n){return t.replace(G_,"#")+n}function q_(t,n){const i=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:n.behavior,left:o.left-i.left-(n.left||0),top:o.top-i.top-(n.top||0)}}const Ss=()=>({left:window.pageXOffset,top:window.pageYOffset});function K_(t){let n;if("el"in t){const i=t.el,o=typeof i=="string"&&i.startsWith("#"),l=typeof i=="string"?o?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!l)return;n=q_(l,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function Zc(t,n){return(history.state?history.state.position-n:-1)+t}const Da=new Map;function W_(t,n){Da.set(t,n)}function J_(t){const n=Da.get(t);return Da.delete(t),n}let Y_=()=>location.protocol+"//"+location.host;function Gh(t,n){const{pathname:i,search:o,hash:l}=n,c=t.indexOf("#");if(c>-1){let f=l.includes(t.slice(c))?t.slice(c).length:1,m=l.slice(f);return m[0]!=="/"&&(m="/"+m),Uc(m,"")}return Uc(i,t)+o+l}function X_(t,n,i,o){let l=[],c=[],h=null;const f=({state:S})=>{const j=Gh(t,location),T=i.value,C=n.value;let G=0;if(S){if(i.value=j,n.value=S,h&&h===T){h=null;return}G=C?S.position-C.position:0}else o(j);l.forEach(E=>{E(i.value,T,{delta:G,type:po.pop,direction:G?G>0?oo.forward:oo.back:oo.unknown})})};function m(){h=i.value}function g(S){l.push(S);const j=()=>{const T=l.indexOf(S);T>-1&&l.splice(T,1)};return c.push(j),j}function y(){const{history:S}=window;S.state&&S.replaceState(ke({},S.state,{scroll:Ss()}),"")}function k(){for(const S of c)S();c=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:m,listen:g,destroy:k}}function qc(t,n,i,o=!1,l=!1){return{back:t,current:n,forward:i,replaced:o,position:window.history.length,scroll:l?Ss():null}}function Q_(t){const{history:n,location:i}=window,o={value:Gh(t,i)},l={value:n.state};l.value||c(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function c(m,g,y){const k=t.indexOf("#"),S=k>-1?(i.host&&document.querySelector("base")?t:t.slice(k))+m:Y_()+t+m;try{n[y?"replaceState":"pushState"](g,"",S),l.value=g}catch(j){console.error(j),i[y?"replace":"assign"](S)}}function h(m,g){const y=ke({},n.state,qc(l.value.back,m,l.value.forward,!0),g,{position:l.value.position});c(m,y,!0),o.value=m}function f(m,g){const y=ke({},l.value,n.state,{forward:m,scroll:Ss()});c(y.current,y,!0);const k=ke({},qc(o.value,m,null),{position:y.position+1},g);c(m,k,!1),o.value=m}return{location:o,state:l,push:f,replace:h}}function Zh(t){t=U_(t);const n=Q_(t),i=X_(t,n.state,n.location,n.replace);function o(c,h=!0){h||i.pauseListeners(),history.go(c)}const l=ke({location:"",base:t,go:o,createHref:Z_.bind(null,t)},n,i);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function ty(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Zh(t)}function ey(t){return typeof t=="string"||t&&typeof t=="object"}function qh(t){return typeof t=="string"||typeof t=="symbol"}const pr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Kh=Symbol("");var Kc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Kc||(Kc={}));function bi(t,n){return ke(new Error,{type:t,[Kh]:!0},n)}function Xn(t,n){return t instanceof Error&&Kh in t&&(n==null||!!(t.type&n))}const Wc="[^/]+?",ny={sensitive:!1,strict:!1,start:!0,end:!0},ry=/[.+*?^${}()[\]/\\]/g;function iy(t,n){const i=ke({},ny,n),o=[];let l=i.start?"^":"";const c=[];for(const g of t){const y=g.length?[]:[90];i.strict&&!g.length&&(l+="/");for(let k=0;k<g.length;k++){const S=g[k];let j=40+(i.sensitive?.25:0);if(S.type===0)k||(l+="/"),l+=S.value.replace(ry,"\\$&"),j+=40;else if(S.type===1){const{value:T,repeatable:C,optional:G,regexp:E}=S;c.push({name:T,repeatable:C,optional:G});const R=E||Wc;if(R!==Wc){j+=10;try{new RegExp(`(${R})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${T}" (${R}): `+M.message)}}let H=C?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;k||(H=G&&g.length<2?`(?:/${H})`:"/"+H),G&&(H+="?"),l+=H,j+=20,G&&(j+=-8),C&&(j+=-20),R===".*"&&(j+=-50)}y.push(j)}o.push(y)}if(i.strict&&i.end){const g=o.length-1;o[g][o[g].length-1]+=.7000000000000001}i.strict||(l+="/?"),i.end?l+="$":i.strict&&(l+="(?:/|$)");const h=new RegExp(l,i.sensitive?"":"i");function f(g){const y=g.match(h),k={};if(!y)return null;for(let S=1;S<y.length;S++){const j=y[S]||"",T=c[S-1];k[T.name]=j&&T.repeatable?j.split("/"):j}return k}function m(g){let y="",k=!1;for(const S of t){(!k||!y.endsWith("/"))&&(y+="/"),k=!1;for(const j of S)if(j.type===0)y+=j.value;else if(j.type===1){const{value:T,repeatable:C,optional:G}=j,E=T in g?g[T]:"";if(Tn(E)&&!C)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const R=Tn(E)?E.join("/"):E;if(!R)if(G)S.length<2&&(y.endsWith("/")?y=y.slice(0,-1):k=!0);else throw new Error(`Missing required param "${T}"`);y+=R}}return y||"/"}return{re:h,score:o,keys:c,parse:f,stringify:m}}function oy(t,n){let i=0;for(;i<t.length&&i<n.length;){const o=n[i]-t[i];if(o)return o;i++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function sy(t,n){let i=0;const o=t.score,l=n.score;for(;i<o.length&&i<l.length;){const c=oy(o[i],l[i]);if(c)return c;i++}if(Math.abs(l.length-o.length)===1){if(Jc(o))return 1;if(Jc(l))return-1}return l.length-o.length}function Jc(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const ay={type:0,value:""},ly=/[a-zA-Z0-9_]/;function cy(t){if(!t)return[[]];if(t==="/")return[[ay]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(j){throw new Error(`ERR (${i})/"${g}": ${j}`)}let i=0,o=i;const l=[];let c;function h(){c&&l.push(c),c=[]}let f=0,m,g="",y="";function k(){g&&(i===0?c.push({type:0,value:g}):i===1||i===2||i===3?(c.length>1&&(m==="*"||m==="+")&&n(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:g,regexp:y,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):n("Invalid state to consume buffer"),g="")}function S(){g+=m}for(;f<t.length;){if(m=t[f++],m==="\\"&&i!==2){o=i,i=4;continue}switch(i){case 0:m==="/"?(g&&k(),h()):m===":"?(k(),i=1):S();break;case 4:S(),i=o;break;case 1:m==="("?i=2:ly.test(m)?S():(k(),i=0,m!=="*"&&m!=="?"&&m!=="+"&&f--);break;case 2:m===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+m:i=3:y+=m;break;case 3:k(),i=0,m!=="*"&&m!=="?"&&m!=="+"&&f--,y="";break;default:n("Unknown state");break}}return i===2&&n(`Unfinished custom RegExp for param "${g}"`),k(),h(),l}function uy(t,n,i){const o=iy(cy(t.path),i),l=ke(o,{record:t,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function hy(t,n){const i=[],o=new Map;n=Qc({strict:!1,end:!0,sensitive:!1},n);function l(y){return o.get(y)}function c(y,k,S){const j=!S,T=dy(y);T.aliasOf=S&&S.record;const C=Qc(n,y),G=[T];if("alias"in y){const H=typeof y.alias=="string"?[y.alias]:y.alias;for(const M of H)G.push(ke({},T,{components:S?S.record.components:T.components,path:M,aliasOf:S?S.record:T}))}let E,R;for(const H of G){const{path:M}=H;if(k&&M[0]!=="/"){const I=k.record.path,K=I[I.length-1]==="/"?"":"/";H.path=k.record.path+(M&&K+M)}if(E=uy(H,k,C),S?S.alias.push(E):(R=R||E,R!==E&&R.alias.push(E),j&&y.name&&!Xc(E)&&h(y.name)),T.children){const I=T.children;for(let K=0;K<I.length;K++)c(I[K],E,S&&S.children[K])}S=S||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&m(E)}return R?()=>{h(R)}:io}function h(y){if(qh(y)){const k=o.get(y);k&&(o.delete(y),i.splice(i.indexOf(k),1),k.children.forEach(h),k.alias.forEach(h))}else{const k=i.indexOf(y);k>-1&&(i.splice(k,1),y.record.name&&o.delete(y.record.name),y.children.forEach(h),y.alias.forEach(h))}}function f(){return i}function m(y){let k=0;for(;k<i.length&&sy(y,i[k])>=0&&(y.record.path!==i[k].record.path||!Wh(y,i[k]));)k++;i.splice(k,0,y),y.record.name&&!Xc(y)&&o.set(y.record.name,y)}function g(y,k){let S,j={},T,C;if("name"in y&&y.name){if(S=o.get(y.name),!S)throw bi(1,{location:y});C=S.record.name,j=ke(Yc(k.params,S.keys.filter(R=>!R.optional).map(R=>R.name)),y.params&&Yc(y.params,S.keys.map(R=>R.name))),T=S.stringify(j)}else if("path"in y)T=y.path,S=i.find(R=>R.re.test(T)),S&&(j=S.parse(T),C=S.record.name);else{if(S=k.name?o.get(k.name):i.find(R=>R.re.test(k.path)),!S)throw bi(1,{location:y,currentLocation:k});C=S.record.name,j=ke({},k.params,y.params),T=S.stringify(j)}const G=[];let E=S;for(;E;)G.unshift(E.record),E=E.parent;return{name:C,path:T,params:j,matched:G,meta:py(G)}}return t.forEach(y=>c(y)),{addRoute:c,resolve:g,removeRoute:h,getRoutes:f,getRecordMatcher:l}}function Yc(t,n){const i={};for(const o of n)o in t&&(i[o]=t[o]);return i}function dy(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:fy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function fy(t){const n={},i=t.props||!1;if("component"in t)n.default=i;else for(const o in t.components)n[o]=typeof i=="boolean"?i:i[o];return n}function Xc(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function py(t){return t.reduce((n,i)=>ke(n,i.meta),{})}function Qc(t,n){const i={};for(const o in t)i[o]=o in n?n[o]:t[o];return i}function Wh(t,n){return n.children.some(i=>i===t||Wh(t,i))}const Jh=/#/g,my=/&/g,gy=/\//g,_y=/=/g,yy=/\?/g,Yh=/\+/g,vy=/%5B/g,by=/%5D/g,Xh=/%5E/g,wy=/%60/g,Qh=/%7B/g,xy=/%7C/g,td=/%7D/g,ky=/%20/g;function pl(t){return encodeURI(""+t).replace(xy,"|").replace(vy,"[").replace(by,"]")}function Ly(t){return pl(t).replace(Qh,"{").replace(td,"}").replace(Xh,"^")}function ja(t){return pl(t).replace(Yh,"%2B").replace(ky,"+").replace(Jh,"%23").replace(my,"%26").replace(wy,"`").replace(Qh,"{").replace(td,"}").replace(Xh,"^")}function My(t){return ja(t).replace(_y,"%3D")}function Cy(t){return pl(t).replace(Jh,"%23").replace(yy,"%3F")}function Py(t){return t==null?"":Cy(t).replace(gy,"%2F")}function hs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Sy(t){const n={};if(t===""||t==="?")return n;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let l=0;l<o.length;++l){const c=o[l].replace(Yh," "),h=c.indexOf("="),f=hs(h<0?c:c.slice(0,h)),m=h<0?null:hs(c.slice(h+1));if(f in n){let g=n[f];Tn(g)||(g=n[f]=[g]),g.push(m)}else n[f]=m}return n}function tu(t){let n="";for(let i in t){const o=t[i];if(i=My(i),o==null){o!==void 0&&(n+=(n.length?"&":"")+i);continue}(Tn(o)?o.map(c=>c&&ja(c)):[o&&ja(o)]).forEach(c=>{c!==void 0&&(n+=(n.length?"&":"")+i,c!=null&&(n+="="+c))})}return n}function Ey(t){const n={};for(const i in t){const o=t[i];o!==void 0&&(n[i]=Tn(o)?o.map(l=>l==null?null:""+l):o==null?o:""+o)}return n}const Ty=Symbol(""),eu=Symbol(""),Es=Symbol(""),ml=Symbol(""),za=Symbol("");function Wi(){let t=[];function n(o){return t.push(o),()=>{const l=t.indexOf(o);l>-1&&t.splice(l,1)}}function i(){t=[]}return{add:n,list:()=>t,reset:i}}function yr(t,n,i,o,l){const c=o&&(o.enterCallbacks[l]=o.enterCallbacks[l]||[]);return()=>new Promise((h,f)=>{const m=k=>{k===!1?f(bi(4,{from:i,to:n})):k instanceof Error?f(k):ey(k)?f(bi(2,{from:n,to:k})):(c&&o.enterCallbacks[l]===c&&typeof k=="function"&&c.push(k),h())},g=t.call(o&&o.instances[l],n,i,m);let y=Promise.resolve(g);t.length<3&&(y=y.then(m)),y.catch(k=>f(k))})}function ha(t,n,i,o){const l=[];for(const c of t)for(const h in c.components){let f=c.components[h];if(!(n!=="beforeRouteEnter"&&!c.instances[h]))if(Oy(f)){const g=(f.__vccOpts||f)[n];g&&l.push(yr(g,i,o,c,h))}else{let m=f();l.push(()=>m.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${h}" at "${c.path}"`));const y=j_(g)?g.default:g;c.components[h]=y;const S=(y.__vccOpts||y)[n];return S&&yr(S,i,o,c,h)()}))}}return l}function Oy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function nu(t){const n=bn(Es),i=bn(ml),o=_e(()=>n.resolve(Xt(t.to))),l=_e(()=>{const{matched:m}=o.value,{length:g}=m,y=m[g-1],k=i.matched;if(!y||!k.length)return-1;const S=k.findIndex(vi.bind(null,y));if(S>-1)return S;const j=ru(m[g-2]);return g>1&&ru(y)===j&&k[k.length-1].path!==j?k.findIndex(vi.bind(null,m[g-2])):S}),c=_e(()=>l.value>-1&&Iy(i.params,o.value.params)),h=_e(()=>l.value>-1&&l.value===i.matched.length-1&&Uh(i.params,o.value.params));function f(m={}){return By(m)?n[Xt(t.replace)?"replace":"push"](Xt(t.to)).catch(io):Promise.resolve()}return{route:o,href:_e(()=>o.value.href),isActive:c,isExactActive:h,navigate:f}}const Ry=lh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nu,setup(t,{slots:n}){const i=Mi(nu(t)),{options:o}=bn(Es),l=_e(()=>({[iu(t.activeClass,o.linkActiveClass,"router-link-active")]:i.isActive,[iu(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const c=n.default&&n.default(i);return t.custom?c:hl("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:l.value},c)}}}),Ay=Ry;function By(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function Iy(t,n){for(const i in n){const o=n[i],l=t[i];if(typeof o=="string"){if(o!==l)return!1}else if(!Tn(l)||l.length!==o.length||o.some((c,h)=>c!==l[h]))return!1}return!0}function ru(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const iu=(t,n,i)=>t??n??i,Dy=lh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:i}){const o=bn(za),l=_e(()=>t.route||o.value),c=bn(eu,0),h=_e(()=>{let g=Xt(c);const{matched:y}=l.value;let k;for(;(k=y[g])&&!k.components;)g++;return g}),f=_e(()=>l.value.matched[h.value]);Jo(eu,_e(()=>h.value+1)),Jo(Ty,f),Jo(za,l);const m=Qt();return Fe(()=>[m.value,f.value,t.name],([g,y,k],[S,j,T])=>{y&&(y.instances[k]=g,j&&j!==y&&g&&g===S&&(y.leaveGuards.size||(y.leaveGuards=j.leaveGuards),y.updateGuards.size||(y.updateGuards=j.updateGuards))),g&&y&&(!j||!vi(y,j)||!S)&&(y.enterCallbacks[k]||[]).forEach(C=>C(g))},{flush:"post"}),()=>{const g=l.value,y=t.name,k=f.value,S=k&&k.components[y];if(!S)return ou(i.default,{Component:S,route:g});const j=k.props[y],T=j?j===!0?g.params:typeof j=="function"?j(g):j:null,G=hl(S,ke({},T,n,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(k.instances[y]=null)},ref:m}));return ou(i.default,{Component:G,route:g})||G}}});function ou(t,n){if(!t)return null;const i=t(n);return i.length===1?i[0]:i}const jy=Dy;function zy(t){const n=hy(t.routes,t),i=t.parseQuery||Sy,o=t.stringifyQuery||tu,l=t.history,c=Wi(),h=Wi(),f=Wi(),m=rp(pr);let g=pr;hi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=ca.bind(null,ht=>""+ht),k=ca.bind(null,Py),S=ca.bind(null,hs);function j(ht,Pt){let St,jt;return qh(ht)?(St=n.getRecordMatcher(ht),jt=Pt):jt=ht,n.addRoute(jt,St)}function T(ht){const Pt=n.getRecordMatcher(ht);Pt&&n.removeRoute(Pt)}function C(){return n.getRoutes().map(ht=>ht.record)}function G(ht){return!!n.getRecordMatcher(ht)}function E(ht,Pt){if(Pt=ke({},Pt||m.value),typeof ht=="string"){const Y=ua(i,ht,Pt.path),dt=n.resolve({path:Y.path},Pt),gt=l.createHref(Y.fullPath);return ke(Y,dt,{params:S(dt.params),hash:hs(Y.hash),redirectedFrom:void 0,href:gt})}let St;if("path"in ht)St=ke({},ht,{path:ua(i,ht.path,Pt.path).path});else{const Y=ke({},ht.params);for(const dt in Y)Y[dt]==null&&delete Y[dt];St=ke({},ht,{params:k(Y)}),Pt.params=k(Pt.params)}const jt=n.resolve(St,Pt),ae=ht.hash||"";jt.params=y(S(jt.params));const V=H_(o,ke({},ht,{hash:Ly(ae),path:jt.path})),q=l.createHref(V);return ke({fullPath:V,hash:ae,query:o===tu?Ey(ht.query):ht.query||{}},jt,{redirectedFrom:void 0,href:q})}function R(ht){return typeof ht=="string"?ua(i,ht,m.value.path):ke({},ht)}function H(ht,Pt){if(g!==ht)return bi(8,{from:Pt,to:ht})}function M(ht){return nt(ht)}function I(ht){return M(ke(R(ht),{replace:!0}))}function K(ht){const Pt=ht.matched[ht.matched.length-1];if(Pt&&Pt.redirect){const{redirect:St}=Pt;let jt=typeof St=="function"?St(ht):St;return typeof jt=="string"&&(jt=jt.includes("?")||jt.includes("#")?jt=R(jt):{path:jt},jt.params={}),ke({query:ht.query,hash:ht.hash,params:"path"in jt?{}:ht.params},jt)}}function nt(ht,Pt){const St=g=E(ht),jt=m.value,ae=ht.state,V=ht.force,q=ht.replace===!0,Y=K(St);if(Y)return nt(ke(R(Y),{state:typeof Y=="object"?ke({},ae,Y.state):ae,force:V,replace:q}),Pt||St);const dt=St;dt.redirectedFrom=Pt;let gt;return!V&&F_(o,jt,St)&&(gt=bi(16,{to:dt,from:jt}),At(jt,jt,!0,!1)),(gt?Promise.resolve(gt):ct(dt,jt)).catch(xt=>Xn(xt)?Xn(xt,2)?xt:Dt(xt):wt(xt,dt,jt)).then(xt=>{if(xt){if(Xn(xt,2))return nt(ke({replace:q},R(xt.to),{state:typeof xt.to=="object"?ke({},ae,xt.to.state):ae,force:V}),Pt||dt)}else xt=ot(dt,jt,!0,q,ae);return pt(dt,jt,xt),xt})}function J(ht,Pt){const St=H(ht,Pt);return St?Promise.reject(St):Promise.resolve()}function et(ht){const Pt=fe.values().next().value;return Pt&&typeof Pt.runWithContext=="function"?Pt.runWithContext(ht):ht()}function ct(ht,Pt){let St;const[jt,ae,V]=Ny(ht,Pt);St=ha(jt.reverse(),"beforeRouteLeave",ht,Pt);for(const Y of jt)Y.leaveGuards.forEach(dt=>{St.push(yr(dt,ht,Pt))});const q=J.bind(null,ht,Pt);return St.push(q),Nt(St).then(()=>{St=[];for(const Y of c.list())St.push(yr(Y,ht,Pt));return St.push(q),Nt(St)}).then(()=>{St=ha(ae,"beforeRouteUpdate",ht,Pt);for(const Y of ae)Y.updateGuards.forEach(dt=>{St.push(yr(dt,ht,Pt))});return St.push(q),Nt(St)}).then(()=>{St=[];for(const Y of ht.matched)if(Y.beforeEnter&&!Pt.matched.includes(Y))if(Tn(Y.beforeEnter))for(const dt of Y.beforeEnter)St.push(yr(dt,ht,Pt));else St.push(yr(Y.beforeEnter,ht,Pt));return St.push(q),Nt(St)}).then(()=>(ht.matched.forEach(Y=>Y.enterCallbacks={}),St=ha(V,"beforeRouteEnter",ht,Pt),St.push(q),Nt(St))).then(()=>{St=[];for(const Y of h.list())St.push(yr(Y,ht,Pt));return St.push(q),Nt(St)}).catch(Y=>Xn(Y,8)?Y:Promise.reject(Y))}function pt(ht,Pt,St){for(const jt of f.list())et(()=>jt(ht,Pt,St))}function ot(ht,Pt,St,jt,ae){const V=H(ht,Pt);if(V)return V;const q=Pt===pr,Y=hi?history.state:{};St&&(jt||q?l.replace(ht.fullPath,ke({scroll:q&&Y&&Y.scroll},ae)):l.push(ht.fullPath,ae)),m.value=ht,At(ht,Pt,St,q),Dt()}let bt;function Lt(){bt||(bt=l.listen((ht,Pt,St)=>{if(!ie.listening)return;const jt=E(ht),ae=K(jt);if(ae){nt(ke(ae,{replace:!0}),jt).catch(io);return}g=jt;const V=m.value;hi&&W_(Zc(V.fullPath,St.delta),Ss()),ct(jt,V).catch(q=>Xn(q,12)?q:Xn(q,2)?(nt(q.to,jt).then(Y=>{Xn(Y,20)&&!St.delta&&St.type===po.pop&&l.go(-1,!1)}).catch(io),Promise.reject()):(St.delta&&l.go(-St.delta,!1),wt(q,jt,V))).then(q=>{q=q||ot(jt,V,!1),q&&(St.delta&&!Xn(q,8)?l.go(-St.delta,!1):St.type===po.pop&&Xn(q,20)&&l.go(-1,!1)),pt(jt,V,q)}).catch(io)}))}let Et=Wi(),Ct=Wi(),Ft;function wt(ht,Pt,St){Dt(ht);const jt=Ct.list();return jt.length?jt.forEach(ae=>ae(ht,Pt,St)):console.error(ht),Promise.reject(ht)}function de(){return Ft&&m.value!==pr?Promise.resolve():new Promise((ht,Pt)=>{Et.add([ht,Pt])})}function Dt(ht){return Ft||(Ft=!ht,Lt(),Et.list().forEach(([Pt,St])=>ht?St(ht):Pt()),Et.reset()),ht}function At(ht,Pt,St,jt){const{scrollBehavior:ae}=t;if(!hi||!ae)return Promise.resolve();const V=!St&&J_(Zc(ht.fullPath,0))||(jt||!St)&&history.state&&history.state.scroll||null;return vs().then(()=>ae(ht,Pt,V)).then(q=>q&&K_(q)).catch(q=>wt(q,ht,Pt))}const Vt=ht=>l.go(ht);let Le;const fe=new Set,ie={currentRoute:m,listening:!0,addRoute:j,removeRoute:T,hasRoute:G,getRoutes:C,resolve:E,options:t,push:M,replace:I,go:Vt,back:()=>Vt(-1),forward:()=>Vt(1),beforeEach:c.add,beforeResolve:h.add,afterEach:f.add,onError:Ct.add,isReady:de,install(ht){const Pt=this;ht.component("RouterLink",Ay),ht.component("RouterView",jy),ht.config.globalProperties.$router=Pt,Object.defineProperty(ht.config.globalProperties,"$route",{enumerable:!0,get:()=>Xt(m)}),hi&&!Le&&m.value===pr&&(Le=!0,M(l.location).catch(ae=>{}));const St={};for(const ae in pr)St[ae]=_e(()=>m.value[ae]);ht.provide(Es,Pt),ht.provide(ml,Mi(St)),ht.provide(za,m);const jt=ht.unmount;fe.add(ht),ht.unmount=function(){fe.delete(ht),fe.size<1&&(g=pr,bt&&bt(),bt=null,m.value=pr,Le=!1,Ft=!1),jt()}}};function Nt(ht){return ht.reduce((Pt,St)=>Pt.then(()=>et(St)),Promise.resolve())}return ie}function Ny(t,n){const i=[],o=[],l=[],c=Math.max(n.matched.length,t.matched.length);for(let h=0;h<c;h++){const f=n.matched[h];f&&(t.matched.find(g=>vi(g,f))?o.push(f):i.push(f));const m=t.matched[h];m&&(n.matched.find(g=>vi(g,m))||l.push(m))}return[i,o,l]}function ed(){return bn(Es)}function Hy(){return bn(ml)}function nd(t,n){return function(){return t.apply(n,arguments)}}const{toString:Fy}=Object.prototype,{getPrototypeOf:gl}=Object,Ts=(t=>n=>{const i=Fy.call(n);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=t=>(t=t.toLowerCase(),n=>Ts(n)===t),Os=t=>n=>typeof n===t,{isArray:Ci}=Array,mo=Os("undefined");function Vy(t){return t!==null&&!mo(t)&&t.constructor!==null&&!mo(t.constructor)&&wn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rd=Vn("ArrayBuffer");function $y(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&rd(t.buffer),n}const Uy=Os("string"),wn=Os("function"),id=Os("number"),Rs=t=>t!==null&&typeof t=="object",Gy=t=>t===!0||t===!1,Xo=t=>{if(Ts(t)!=="object")return!1;const n=gl(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zy=Vn("Date"),qy=Vn("File"),Ky=Vn("Blob"),Wy=Vn("FileList"),Jy=t=>Rs(t)&&wn(t.pipe),Yy=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||wn(t.append)&&((n=Ts(t))==="formdata"||n==="object"&&wn(t.toString)&&t.toString()==="[object FormData]"))},Xy=Vn("URLSearchParams"),Qy=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _o(t,n,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let o,l;if(typeof t!="object"&&(t=[t]),Ci(t))for(o=0,l=t.length;o<l;o++)n.call(null,t[o],o,t);else{const c=i?Object.getOwnPropertyNames(t):Object.keys(t),h=c.length;let f;for(o=0;o<h;o++)f=c[o],n.call(null,t[f],f,t)}}function od(t,n){n=n.toLowerCase();const i=Object.keys(t);let o=i.length,l;for(;o-- >0;)if(l=i[o],n===l.toLowerCase())return l;return null}const sd=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ad=t=>!mo(t)&&t!==sd;function Na(){const{caseless:t}=ad(this)&&this||{},n={},i=(o,l)=>{const c=t&&od(n,l)||l;Xo(n[c])&&Xo(o)?n[c]=Na(n[c],o):Xo(o)?n[c]=Na({},o):Ci(o)?n[c]=o.slice():n[c]=o};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&_o(arguments[o],i);return n}const tv=(t,n,i,{allOwnKeys:o}={})=>(_o(n,(l,c)=>{i&&wn(l)?t[c]=nd(l,i):t[c]=l},{allOwnKeys:o}),t),ev=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nv=(t,n,i,o)=>{t.prototype=Object.create(n.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),i&&Object.assign(t.prototype,i)},rv=(t,n,i,o)=>{let l,c,h;const f={};if(n=n||{},t==null)return n;do{for(l=Object.getOwnPropertyNames(t),c=l.length;c-- >0;)h=l[c],(!o||o(h,t,n))&&!f[h]&&(n[h]=t[h],f[h]=!0);t=i!==!1&&gl(t)}while(t&&(!i||i(t,n))&&t!==Object.prototype);return n},iv=(t,n,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=n.length;const o=t.indexOf(n,i);return o!==-1&&o===i},ov=t=>{if(!t)return null;if(Ci(t))return t;let n=t.length;if(!id(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=t[n];return i},sv=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&gl(Uint8Array)),av=(t,n)=>{const o=(t&&t[Symbol.iterator]).call(t);let l;for(;(l=o.next())&&!l.done;){const c=l.value;n.call(t,c[0],c[1])}},lv=(t,n)=>{let i;const o=[];for(;(i=t.exec(n))!==null;)o.push(i);return o},cv=Vn("HTMLFormElement"),uv=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,l){return o.toUpperCase()+l}),su=(({hasOwnProperty:t})=>(n,i)=>t.call(n,i))(Object.prototype),hv=Vn("RegExp"),ld=(t,n)=>{const i=Object.getOwnPropertyDescriptors(t),o={};_o(i,(l,c)=>{n(l,c,t)!==!1&&(o[c]=l)}),Object.defineProperties(t,o)},dv=t=>{ld(t,(n,i)=>{if(wn(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=t[i];if(wn(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},fv=(t,n)=>{const i={},o=l=>{l.forEach(c=>{i[c]=!0})};return Ci(t)?o(t):o(String(t).split(n)),i},pv=()=>{},mv=(t,n)=>(t=+t,Number.isFinite(t)?t:n),da="abcdefghijklmnopqrstuvwxyz",au="0123456789",cd={DIGIT:au,ALPHA:da,ALPHA_DIGIT:da+da.toUpperCase()+au},gv=(t=16,n=cd.ALPHA_DIGIT)=>{let i="";const{length:o}=n;for(;t--;)i+=n[Math.random()*o|0];return i};function _v(t){return!!(t&&wn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const yv=t=>{const n=new Array(10),i=(o,l)=>{if(Rs(o)){if(n.indexOf(o)>=0)return;if(!("toJSON"in o)){n[l]=o;const c=Ci(o)?[]:{};return _o(o,(h,f)=>{const m=i(h,l+1);!mo(m)&&(c[f]=m)}),n[l]=void 0,c}}return o};return i(t,0)},vv=Vn("AsyncFunction"),bv=t=>t&&(Rs(t)||wn(t))&&wn(t.then)&&wn(t.catch),mt={isArray:Ci,isArrayBuffer:rd,isBuffer:Vy,isFormData:Yy,isArrayBufferView:$y,isString:Uy,isNumber:id,isBoolean:Gy,isObject:Rs,isPlainObject:Xo,isUndefined:mo,isDate:Zy,isFile:qy,isBlob:Ky,isRegExp:hv,isFunction:wn,isStream:Jy,isURLSearchParams:Xy,isTypedArray:sv,isFileList:Wy,forEach:_o,merge:Na,extend:tv,trim:Qy,stripBOM:ev,inherits:nv,toFlatObject:rv,kindOf:Ts,kindOfTest:Vn,endsWith:iv,toArray:ov,forEachEntry:av,matchAll:lv,isHTMLForm:cv,hasOwnProperty:su,hasOwnProp:su,reduceDescriptors:ld,freezeMethods:dv,toObjectSet:fv,toCamelCase:uv,noop:pv,toFiniteNumber:mv,findKey:od,global:sd,isContextDefined:ad,ALPHABET:cd,generateString:gv,isSpecCompliantForm:_v,toJSONObject:yv,isAsyncFn:vv,isThenable:bv};function ge(t,n,i,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),l&&(this.response=l)}mt.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ud=ge.prototype,hd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hd[t]={value:t}});Object.defineProperties(ge,hd);Object.defineProperty(ud,"isAxiosError",{value:!0});ge.from=(t,n,i,o,l,c)=>{const h=Object.create(ud);return mt.toFlatObject(t,h,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),ge.call(h,t.message,n,i,o,l),h.cause=t,h.name=t.name,c&&Object.assign(h,c),h};const wv=null;function Ha(t){return mt.isPlainObject(t)||mt.isArray(t)}function dd(t){return mt.endsWith(t,"[]")?t.slice(0,-2):t}function lu(t,n,i){return t?t.concat(n).map(function(l,c){return l=dd(l),!i&&c?"["+l+"]":l}).join(i?".":""):n}function xv(t){return mt.isArray(t)&&!t.some(Ha)}const kv=mt.toFlatObject(mt,{},null,function(n){return/^is[A-Z]/.test(n)});function As(t,n,i){if(!mt.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,i=mt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,G){return!mt.isUndefined(G[C])});const o=i.metaTokens,l=i.visitor||y,c=i.dots,h=i.indexes,m=(i.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(n);if(!mt.isFunction(l))throw new TypeError("visitor must be a function");function g(T){if(T===null)return"";if(mt.isDate(T))return T.toISOString();if(!m&&mt.isBlob(T))throw new ge("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(T)||mt.isTypedArray(T)?m&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function y(T,C,G){let E=T;if(T&&!G&&typeof T=="object"){if(mt.endsWith(C,"{}"))C=o?C:C.slice(0,-2),T=JSON.stringify(T);else if(mt.isArray(T)&&xv(T)||(mt.isFileList(T)||mt.endsWith(C,"[]"))&&(E=mt.toArray(T)))return C=dd(C),E.forEach(function(H,M){!(mt.isUndefined(H)||H===null)&&n.append(h===!0?lu([C],M,c):h===null?C:C+"[]",g(H))}),!1}return Ha(T)?!0:(n.append(lu(G,C,c),g(T)),!1)}const k=[],S=Object.assign(kv,{defaultVisitor:y,convertValue:g,isVisitable:Ha});function j(T,C){if(!mt.isUndefined(T)){if(k.indexOf(T)!==-1)throw Error("Circular reference detected in "+C.join("."));k.push(T),mt.forEach(T,function(E,R){(!(mt.isUndefined(E)||E===null)&&l.call(n,E,mt.isString(R)?R.trim():R,C,S))===!0&&j(E,C?C.concat(R):[R])}),k.pop()}}if(!mt.isObject(t))throw new TypeError("data must be an object");return j(t),n}function cu(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function _l(t,n){this._pairs=[],t&&As(t,this,n)}const fd=_l.prototype;fd.append=function(n,i){this._pairs.push([n,i])};fd.toString=function(n){const i=n?function(o){return n.call(this,o,cu)}:cu;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function Lv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pd(t,n,i){if(!n)return t;const o=i&&i.encode||Lv,l=i&&i.serialize;let c;if(l?c=l(n,i):c=mt.isURLSearchParams(n)?n.toString():new _l(n,i).toString(o),c){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class Mv{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){mt.forEach(this.handlers,function(o){o!==null&&n(o)})}}const uu=Mv,md={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cv=typeof URLSearchParams<"u"?URLSearchParams:_l,Pv=typeof FormData<"u"?FormData:null,Sv=typeof Blob<"u"?Blob:null,Ev=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Tv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Nn={isBrowser:!0,classes:{URLSearchParams:Cv,FormData:Pv,Blob:Sv},isStandardBrowserEnv:Ev,isStandardBrowserWebWorkerEnv:Tv,protocols:["http","https","file","blob","url","data"]};function Ov(t,n){return As(t,new Nn.classes.URLSearchParams,Object.assign({visitor:function(i,o,l,c){return Nn.isNode&&mt.isBuffer(i)?(this.append(o,i.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},n))}function Rv(t){return mt.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Av(t){const n={},i=Object.keys(t);let o;const l=i.length;let c;for(o=0;o<l;o++)c=i[o],n[c]=t[c];return n}function gd(t){function n(i,o,l,c){let h=i[c++];const f=Number.isFinite(+h),m=c>=i.length;return h=!h&&mt.isArray(l)?l.length:h,m?(mt.hasOwnProp(l,h)?l[h]=[l[h],o]:l[h]=o,!f):((!l[h]||!mt.isObject(l[h]))&&(l[h]=[]),n(i,o,l[h],c)&&mt.isArray(l[h])&&(l[h]=Av(l[h])),!f)}if(mt.isFormData(t)&&mt.isFunction(t.entries)){const i={};return mt.forEachEntry(t,(o,l)=>{n(Rv(o),l,i,0)}),i}return null}const Bv={"Content-Type":void 0};function Iv(t,n,i){if(mt.isString(t))try{return(n||JSON.parse)(t),mt.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(t)}const Bs={transitional:md,adapter:["xhr","http"],transformRequest:[function(n,i){const o=i.getContentType()||"",l=o.indexOf("application/json")>-1,c=mt.isObject(n);if(c&&mt.isHTMLForm(n)&&(n=new FormData(n)),mt.isFormData(n))return l&&l?JSON.stringify(gd(n)):n;if(mt.isArrayBuffer(n)||mt.isBuffer(n)||mt.isStream(n)||mt.isFile(n)||mt.isBlob(n))return n;if(mt.isArrayBufferView(n))return n.buffer;if(mt.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let f;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Ov(n,this.formSerializer).toString();if((f=mt.isFileList(n))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return As(f?{"files[]":n}:n,m&&new m,this.formSerializer)}}return c||l?(i.setContentType("application/json",!1),Iv(n)):n}],transformResponse:[function(n){const i=this.transitional||Bs.transitional,o=i&&i.forcedJSONParsing,l=this.responseType==="json";if(n&&mt.isString(n)&&(o&&!this.responseType||l)){const h=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(n)}catch(f){if(h)throw f.name==="SyntaxError"?ge.from(f,ge.ERR_BAD_RESPONSE,this,null,this.response):f}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};mt.forEach(["delete","get","head"],function(n){Bs.headers[n]={}});mt.forEach(["post","put","patch"],function(n){Bs.headers[n]=mt.merge(Bv)});const yl=Bs,Dv=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jv=t=>{const n={};let i,o,l;return t&&t.split(`
`).forEach(function(h){l=h.indexOf(":"),i=h.substring(0,l).trim().toLowerCase(),o=h.substring(l+1).trim(),!(!i||n[i]&&Dv[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},hu=Symbol("internals");function Ji(t){return t&&String(t).trim().toLowerCase()}function Qo(t){return t===!1||t==null?t:mt.isArray(t)?t.map(Qo):String(t)}function zv(t){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(t);)n[o[1]]=o[2];return n}const Nv=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fa(t,n,i,o,l){if(mt.isFunction(o))return o.call(this,n,i);if(l&&(n=i),!!mt.isString(n)){if(mt.isString(o))return n.indexOf(o)!==-1;if(mt.isRegExp(o))return o.test(n)}}function Hv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function Fv(t,n){const i=mt.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+i,{value:function(l,c,h){return this[o].call(this,n,l,c,h)},configurable:!0})})}class Is{constructor(n){n&&this.set(n)}set(n,i,o){const l=this;function c(f,m,g){const y=Ji(m);if(!y)throw new Error("header name must be a non-empty string");const k=mt.findKey(l,y);(!k||l[k]===void 0||g===!0||g===void 0&&l[k]!==!1)&&(l[k||m]=Qo(f))}const h=(f,m)=>mt.forEach(f,(g,y)=>c(g,y,m));return mt.isPlainObject(n)||n instanceof this.constructor?h(n,i):mt.isString(n)&&(n=n.trim())&&!Nv(n)?h(jv(n),i):n!=null&&c(i,n,o),this}get(n,i){if(n=Ji(n),n){const o=mt.findKey(this,n);if(o){const l=this[o];if(!i)return l;if(i===!0)return zv(l);if(mt.isFunction(i))return i.call(this,l,o);if(mt.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=Ji(n),n){const o=mt.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||fa(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let l=!1;function c(h){if(h=Ji(h),h){const f=mt.findKey(o,h);f&&(!i||fa(o,o[f],f,i))&&(delete o[f],l=!0)}}return mt.isArray(n)?n.forEach(c):c(n),l}clear(n){const i=Object.keys(this);let o=i.length,l=!1;for(;o--;){const c=i[o];(!n||fa(this,this[c],c,n,!0))&&(delete this[c],l=!0)}return l}normalize(n){const i=this,o={};return mt.forEach(this,(l,c)=>{const h=mt.findKey(o,c);if(h){i[h]=Qo(l),delete i[c];return}const f=n?Hv(c):String(c).trim();f!==c&&delete i[c],i[f]=Qo(l),o[f]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return mt.forEach(this,(o,l)=>{o!=null&&o!==!1&&(i[l]=n&&mt.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(l=>o.set(l)),o}static accessor(n){const o=(this[hu]=this[hu]={accessors:{}}).accessors,l=this.prototype;function c(h){const f=Ji(h);o[f]||(Fv(l,h),o[f]=!0)}return mt.isArray(n)?n.forEach(c):c(n),this}}Is.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.freezeMethods(Is.prototype);mt.freezeMethods(Is);const tr=Is;function pa(t,n){const i=this||yl,o=n||i,l=tr.from(o.headers);let c=o.data;return mt.forEach(t,function(f){c=f.call(i,c,l.normalize(),n?n.status:void 0)}),l.normalize(),c}function _d(t){return!!(t&&t.__CANCEL__)}function yo(t,n,i){ge.call(this,t??"canceled",ge.ERR_CANCELED,n,i),this.name="CanceledError"}mt.inherits(yo,ge,{__CANCEL__:!0});function Vv(t,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?t(i):n(new ge("Request failed with status code "+i.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const $v=Nn.isStandardBrowserEnv?function(){return{write:function(i,o,l,c,h,f){const m=[];m.push(i+"="+encodeURIComponent(o)),mt.isNumber(l)&&m.push("expires="+new Date(l).toGMTString()),mt.isString(c)&&m.push("path="+c),mt.isString(h)&&m.push("domain="+h),f===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(i){const o=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Uv(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Gv(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}function yd(t,n){return t&&!Uv(n)?Gv(t,n):n}const Zv=Nn.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let o;function l(c){let h=c;return n&&(i.setAttribute("href",h),h=i.href),i.setAttribute("href",h),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=l(window.location.href),function(h){const f=mt.isString(h)?l(h):h;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}();function qv(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Kv(t,n){t=t||10;const i=new Array(t),o=new Array(t);let l=0,c=0,h;return n=n!==void 0?n:1e3,function(m){const g=Date.now(),y=o[c];h||(h=g),i[l]=m,o[l]=g;let k=c,S=0;for(;k!==l;)S+=i[k++],k=k%t;if(l=(l+1)%t,l===c&&(c=(c+1)%t),g-h<n)return;const j=y&&g-y;return j?Math.round(S*1e3/j):void 0}}function du(t,n){let i=0;const o=Kv(50,250);return l=>{const c=l.loaded,h=l.lengthComputable?l.total:void 0,f=c-i,m=o(f),g=c<=h;i=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:m||void 0,estimated:m&&h&&g?(h-c)/m:void 0,event:l};y[n?"download":"upload"]=!0,t(y)}}const Wv=typeof XMLHttpRequest<"u",Jv=Wv&&function(t){return new Promise(function(i,o){let l=t.data;const c=tr.from(t.headers).normalize(),h=t.responseType;let f;function m(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}mt.isFormData(l)&&(Nn.isStandardBrowserEnv||Nn.isStandardBrowserWebWorkerEnv?c.setContentType(!1):c.setContentType("multipart/form-data;",!1));let g=new XMLHttpRequest;if(t.auth){const j=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";c.set("Authorization","Basic "+btoa(j+":"+T))}const y=yd(t.baseURL,t.url);g.open(t.method.toUpperCase(),pd(y,t.params,t.paramsSerializer),!0),g.timeout=t.timeout;function k(){if(!g)return;const j=tr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),C={data:!h||h==="text"||h==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:t,request:g};Vv(function(E){i(E),m()},function(E){o(E),m()},C),g=null}if("onloadend"in g?g.onloadend=k:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(k)},g.onabort=function(){g&&(o(new ge("Request aborted",ge.ECONNABORTED,t,g)),g=null)},g.onerror=function(){o(new ge("Network Error",ge.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let T=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const C=t.transitional||md;t.timeoutErrorMessage&&(T=t.timeoutErrorMessage),o(new ge(T,C.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,g)),g=null},Nn.isStandardBrowserEnv){const j=(t.withCredentials||Zv(y))&&t.xsrfCookieName&&$v.read(t.xsrfCookieName);j&&c.set(t.xsrfHeaderName,j)}l===void 0&&c.setContentType(null),"setRequestHeader"in g&&mt.forEach(c.toJSON(),function(T,C){g.setRequestHeader(C,T)}),mt.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),h&&h!=="json"&&(g.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&g.addEventListener("progress",du(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",du(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=j=>{g&&(o(!j||j.type?new yo(null,t,g):j),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));const S=qv(y);if(S&&Nn.protocols.indexOf(S)===-1){o(new ge("Unsupported protocol "+S+":",ge.ERR_BAD_REQUEST,t));return}g.send(l||null)})},ts={http:wv,xhr:Jv};mt.forEach(ts,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const Yv={getAdapter:t=>{t=mt.isArray(t)?t:[t];const{length:n}=t;let i,o;for(let l=0;l<n&&(i=t[l],!(o=mt.isString(i)?ts[i.toLowerCase()]:i));l++);if(!o)throw o===!1?new ge(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(mt.hasOwnProp(ts,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!mt.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:ts};function ma(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yo(null,t)}function fu(t){return ma(t),t.headers=tr.from(t.headers),t.data=pa.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Yv.getAdapter(t.adapter||yl.adapter)(t).then(function(o){return ma(t),o.data=pa.call(t,t.transformResponse,o),o.headers=tr.from(o.headers),o},function(o){return _d(o)||(ma(t),o&&o.response&&(o.response.data=pa.call(t,t.transformResponse,o.response),o.response.headers=tr.from(o.response.headers))),Promise.reject(o)})}const pu=t=>t instanceof tr?t.toJSON():t;function wi(t,n){n=n||{};const i={};function o(g,y,k){return mt.isPlainObject(g)&&mt.isPlainObject(y)?mt.merge.call({caseless:k},g,y):mt.isPlainObject(y)?mt.merge({},y):mt.isArray(y)?y.slice():y}function l(g,y,k){if(mt.isUndefined(y)){if(!mt.isUndefined(g))return o(void 0,g,k)}else return o(g,y,k)}function c(g,y){if(!mt.isUndefined(y))return o(void 0,y)}function h(g,y){if(mt.isUndefined(y)){if(!mt.isUndefined(g))return o(void 0,g)}else return o(void 0,y)}function f(g,y,k){if(k in n)return o(g,y);if(k in t)return o(void 0,g)}const m={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:f,headers:(g,y)=>l(pu(g),pu(y),!0)};return mt.forEach(Object.keys(Object.assign({},t,n)),function(y){const k=m[y]||l,S=k(t[y],n[y],y);mt.isUndefined(S)&&k!==f||(i[y]=S)}),i}const vd="1.4.0",vl={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{vl[t]=function(o){return typeof o===t||"a"+(n<1?"n ":" ")+t}});const mu={};vl.transitional=function(n,i,o){function l(c,h){return"[Axios v"+vd+"] Transitional option '"+c+"'"+h+(o?". "+o:"")}return(c,h,f)=>{if(n===!1)throw new ge(l(h," has been removed"+(i?" in "+i:"")),ge.ERR_DEPRECATED);return i&&!mu[h]&&(mu[h]=!0,console.warn(l(h," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(c,h,f):!0}};function Xv(t,n,i){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let l=o.length;for(;l-- >0;){const c=o[l],h=n[c];if(h){const f=t[c],m=f===void 0||h(f,c,t);if(m!==!0)throw new ge("option "+c+" must be "+m,ge.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ge("Unknown option "+c,ge.ERR_BAD_OPTION)}}const Fa={assertOptions:Xv,validators:vl},mr=Fa.validators;class ds{constructor(n){this.defaults=n,this.interceptors={request:new uu,response:new uu}}request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=wi(this.defaults,i);const{transitional:o,paramsSerializer:l,headers:c}=i;o!==void 0&&Fa.assertOptions(o,{silentJSONParsing:mr.transitional(mr.boolean),forcedJSONParsing:mr.transitional(mr.boolean),clarifyTimeoutError:mr.transitional(mr.boolean)},!1),l!=null&&(mt.isFunction(l)?i.paramsSerializer={serialize:l}:Fa.assertOptions(l,{encode:mr.function,serialize:mr.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h;h=c&&mt.merge(c.common,c[i.method]),h&&mt.forEach(["delete","get","head","post","put","patch","common"],T=>{delete c[T]}),i.headers=tr.concat(h,c);const f=[];let m=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(i)===!1||(m=m&&C.synchronous,f.unshift(C.fulfilled,C.rejected))});const g=[];this.interceptors.response.forEach(function(C){g.push(C.fulfilled,C.rejected)});let y,k=0,S;if(!m){const T=[fu.bind(this),void 0];for(T.unshift.apply(T,f),T.push.apply(T,g),S=T.length,y=Promise.resolve(i);k<S;)y=y.then(T[k++],T[k++]);return y}S=f.length;let j=i;for(k=0;k<S;){const T=f[k++],C=f[k++];try{j=T(j)}catch(G){C.call(this,G);break}}try{y=fu.call(this,j)}catch(T){return Promise.reject(T)}for(k=0,S=g.length;k<S;)y=y.then(g[k++],g[k++]);return y}getUri(n){n=wi(this.defaults,n);const i=yd(n.baseURL,n.url);return pd(i,n.params,n.paramsSerializer)}}mt.forEach(["delete","get","head","options"],function(n){ds.prototype[n]=function(i,o){return this.request(wi(o||{},{method:n,url:i,data:(o||{}).data}))}});mt.forEach(["post","put","patch"],function(n){function i(o){return function(c,h,f){return this.request(wi(f||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}ds.prototype[n]=i(),ds.prototype[n+"Form"]=i(!0)});const es=ds;class bl{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(c){i=c});const o=this;this.promise.then(l=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](l);o._listeners=null}),this.promise.then=l=>{let c;const h=new Promise(f=>{o.subscribe(f),c=f}).then(l);return h.cancel=function(){o.unsubscribe(c)},h},n(function(c,h,f){o.reason||(o.reason=new yo(c,h,f),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}static source(){let n;return{token:new bl(function(l){n=l}),cancel:n}}}const Qv=bl;function tb(t){return function(i){return t.apply(null,i)}}function eb(t){return mt.isObject(t)&&t.isAxiosError===!0}const Va={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Va).forEach(([t,n])=>{Va[n]=t});const nb=Va;function bd(t){const n=new es(t),i=nd(es.prototype.request,n);return mt.extend(i,es.prototype,n,{allOwnKeys:!0}),mt.extend(i,n,null,{allOwnKeys:!0}),i.create=function(l){return bd(wi(t,l))},i}const Ve=bd(yl);Ve.Axios=es;Ve.CanceledError=yo;Ve.CancelToken=Qv;Ve.isCancel=_d;Ve.VERSION=vd;Ve.toFormData=As;Ve.AxiosError=ge;Ve.Cancel=Ve.CanceledError;Ve.all=function(n){return Promise.all(n)};Ve.spread=tb;Ve.isAxiosError=eb;Ve.mergeConfig=wi;Ve.AxiosHeaders=tr;Ve.formToJSON=t=>gd(mt.isHTMLForm(t)?new FormData(t):t);Ve.HttpStatusCode=nb;Ve.default=Ve;const rb=Ve,{url:ib,project_token:ob}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null},Qe=rb.create({baseURL:ib,params:{project_token:ob}});class on{static getTaxonNameCitations(n){return Qe.get(`/taxon_names/${n}/inventory/catalog`)}static getOtu(n){return Qe.get(`/otus/${n}`,{params:{extend:["parents"]}})}static getOtus(n){return Qe.get("/otus.json",{params:n})}static getTaxon(n){return Qe.get(`/taxon_names/${n}`)}static summary(n){return Qe.get(`/taxon_names/${n}/inventory/summary`)}static getTaxonTypeDesignation(n){return Qe.get(`/taxon_names/${n}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(n,i={}){return Qe.get(`/otus/${n}/inventory/images.json`,{params:i})}static getTaxonomy(n,i){return Qe.get(`/otus/${n}/inventory/taxonomy.json`,{params:i})}static getOtuTypeMaterial(n){return Qe.get(`/otus/${n}/inventory/type_material.json`)}static getOtuDistribution(n){return Qe.get(`/otus/${n}/inventory/distribution.json`)}static getOtuGeoJSONDistribution(n){return Qe.get(`/otus/${n}/inventory/distribution.geojson`)}static getCachedMap(n){return Qe.get(`/cached_maps/${n}`)}static getOtuContent(n){return Qe.get(`/otus/${n}/inventory/content`,{extend:["depiction"]})}static getCachedMap(n){return Qe.get(`/cached_maps/${n}`)}}const Ds=$h("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:t=>n=>t.requests[n],sitemap:t=>{const n=Object.keys(t.requests).sort();return Object.fromEntries(n.map(i=>[i,t.requests[i].url]))}},actions:{setRequest(t,{data:n,request:i}){var l;const o=((l=i.res)==null?void 0:l.responseUrl)||i.responseURL;this.requests[t]={url:o,data:n}}}});function nr(t,n){const i=Ds(),o=n();return o.then(l=>{i.setRequest(t,l)}),o}const sb={async loadCatalog(t){const n=await nr("taxonomy",()=>on.getTaxonNameCitations(t));this.catalog={...n.data,sources:n.data.sources.map(({cached:i,url:o})=>i.replace(o,`<a href="${o}">${o}</a>`))}}};function ab(t,n){return n.split("::").at(2)===t}function lb(t,n){return{type:"Feature",geometry:t,properties:{base:[{type:n}]}}}function cb(t){const n=[],i=[];return t.features.forEach(o=>{const l=o.properties.shape.id,c=o.properties.shape.type;i.includes(o.properties.base.type)||i.push(o.properties.base.type);const h=n.findIndex(f=>f.properties.shape.id===l&&f.properties.shape.type===c);if(h>-1){const f=n[h];f.properties.base.push(o.properties.base),f.properties.target.push(o.properties.target)}else{const f=structuredClone(o);f.properties.base=[f.properties.base],f.properties.target=[f.properties.target],n.push(f)}}),i.sort(),{shapeTypes:i,features:n}}const ub={async loadDistribution({otuId:t,rankString:n}){const i=n&&ab("SpeciesGroup",n),o=async l=>{nr("panel:map",()=>on.getOtuDistribution(l)).then(({data:c})=>{const h=JSON.parse(c.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[lb(h,"Aggregate")]},this.loadCachedMap(c.cached_map.id)}).catch(c=>{this.distribution.errorMessage=c.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[]})};i?nr("panel:map",()=>on.getOtuGeoJSONDistribution(t)).then(({data:l})=>{if(l.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=l.message;else{const{features:c,shapeTypes:h}=cb(l);this.distribution.currentShapeTypes=h,this.distribution.geojson={features:c}}}).catch(l=>{o(t)}):o(t)}},hb={async loadTaxonomy(t){const{data:n}=await on.getTaxonomy(t,{max_descendants_depth:0,extend:["common_names"]});this.taxonomy={commonNames:n.common_names,synonyms:n.nomenclatural_synonyms}}},db={loadCachedMap(t){on.getCachedMap(t).then(n=>{this.distribution.cachedMap=n.data})}},Lr=$h("otuStore",{state:()=>({otu:null,taxon:null,images:null,distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},catalog:{sources:[],stats:{},timeline:[]},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(t){const n=await nr("summary",()=>on.summary(t));this.taxon=n.data},async loadOtu(t){const n=await on.getOtu(t);this.otu=n.data},async loadInit(t){Ds().$reset(),await this.loadOtu(t),await this.loadTaxon(this.otu.taxon_name_id),await this.loadCatalog(this.otu.taxon_name_id),await this.loadTaxonomy(t)},async loadImages(t){const n={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.images=(await nr("panel:images",()=>on.getOtuImages(t,n))).data},...ub,...sb,...hb,...db}});function fb(t,n){return t||(t={}),t._resolver=n,t}function pb(t){return fb(t,"taxon")}function mb(t){return fl({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:t}]})}const gb=lt("h3",{class:"font-medium"},"Sitemap",-1),_b={class:"p-4 pt-0"},yb=lt("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1),vb=["href"],bb={__name:"SiteMap",setup(t){const n=Qt(!1),i=Ds();return(o,l)=>{const c=vt("IconJson"),h=vt("VButton"),f=vt("VTableHeaderCell"),m=vt("VTableHeaderRow"),g=vt("VTableHeader"),y=vt("VTableBodyCell"),k=vt("VTableBodyRow"),S=vt("VTableBody"),j=vt("VTable"),T=vt("VModal");return W(),at("div",null,[it(h,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",onClick:l[0]||(l[0]=C=>n.value=!0)},{default:_t(()=>[it(c,{class:"w-4 h-4"}),oe(" Sitemap ")]),_:1}),n.value?(W(),It(T,{key:0,onClose:l[1]||(l[1]=C=>n.value=!1)},{header:_t(()=>[gb]),default:_t(()=>[lt("div",_b,[yb,it(j,null,{default:_t(()=>[it(g,null,{default:_t(()=>[it(m,null,{default:_t(()=>[it(f,null,{default:_t(()=>[oe(" Request Key ")]),_:1}),it(f,null,{default:_t(()=>[oe(" URL ")]),_:1})]),_:1})]),_:1}),it(S,null,{default:_t(()=>[(W(!0),at(Kt,null,Se(Xt(i).sitemap,(C,G)=>(W(),It(k,{key:G},{default:_t(()=>[it(y,{class:"capitalize"},{default:_t(()=>[oe(he(G.replaceAll(":"," ")),1)]),_:2},1024),it(y,null,{default:_t(()=>[lt("a",{href:C},he(C),9,vb)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Wt("",!0)])}}},wb={class:"relative"},xb=lt("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[lt("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),kb={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},Lb={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(t){const n=Qt(!1);return(i,o)=>{const l=vt("router-link");return W(),at("div",wb,[lt("div",null,[lt("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:o[0]||(o[0]=c=>n.value=!n.value)},[Te(i.$slots,"default"),xb]),n.value?(W(),at("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:o[1]||(o[1]=c=>n.value=!1)})):Wt("",!0),n.value?(W(),at("div",kb,[(W(!0),at(Kt,null,Se(t.list,c=>(W(),It(l,{key:c.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:c.id}}},{default:_t(()=>[oe(he(c.name||i.key),1)]),_:2},1032,["to"]))),128))])):Wt("",!0)])])}}},Mb={class:"inline-flex items-center flex-wrap"},Cb={class:"inline-flex items-center ml-0 text-sm"},Pb=["innerHTML"],Sb={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(t){return(n,i)=>{const o=vt("IconArrowRight"),l=vt("router-link");return W(),at("ul",Mb,[(W(!0),at(Kt,null,Se(t.list,(c,h,f)=>(W(),at("li",{key:c.id,class:"inline-flex items-center"},[f?(W(),It(o,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Wt("",!0),c.length===1?(W(),It(l,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:c[0].id}}},{default:_t(()=>[oe(he(h),1)]),_:2},1032,["to"])):(W(),It(Lb,{key:2,list:c.map(m=>({...m,name:m.name||h}))},{default:_t(()=>[oe(he(h),1)]),_:2},1032,["list"]))]))),128)),lt("li",Cb,[it(o,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),lt("span",{innerHTML:t.current.full_name_tag},null,8,Pb)])])}}},Eb={__name:"CommonNames",setup(t){const n=Lr(),i=_e(()=>n.taxonomy.commonNames.map(o=>o.name).join("; "));return(o,l)=>(W(),at("span",null,he(i.value),1))}},Tb={class:"text-1xl capitalize"},Ob={class:"text-xl dark:text-gray-100"},Rb=["title","innerHTML"],Ab={key:0,class:"ml-1 text-red-600",title:"Invalid"},Bb={class:"text-1xl"},Ib={__name:"TaxaInfo",setup(t){const n=Lr();return(i,o)=>(W(),at("div",null,[lt("h2",Tb,he(Xt(n).taxon.rank||"Combination"),1),lt("h1",Ob,[lt("span",null,[lt("span",{title:Xt(n).taxon.short_status,innerHTML:Xt(n).taxon.full_name_tag},null,8,Rb),Xt(n).taxon.is_valid?Wt("",!0):(W(),at("span",Ab,"  "))])]),lt("h2",Bb,[it(Eb)])]))}},Db={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(t){const n=t,{url:i,project_token:o}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null};function l(){window.open(`${i}/otus/${n.otu.id}/inventory/dwc?project_token=${o}`,"_self")}return(c,h)=>{const f=vt("IconDownload"),m=vt("VButton");return W(),It(m,{primary:"",class:"text-sm flex items-center",onClick:h[0]||(h[0]=()=>{l()})},{default:_t(()=>[it(f,{class:"w-4 h-4 mr-1"}),oe(" DwC ")]),_:1})}}},jb={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},zb={class:"container mx-auto pt-6 pb-6"},Nb={class:"flex flex-col-reverse md:flex-row justify-between items-start"},Hb={class:"mt-8 flex justify-between items-end"},Fb={class:"flex flex-row gap-2"},Vb={class:"pt-3 pb-4"},$b={class:"container mx-auto box-border"},Ub={__name:"Index",setup(t){const n=Hy(),i=ed(),o=Qt(n.params),l=[],c=Lr();i.afterEach(S=>{o.value=S.params});const h=_e(()=>c.otu),f=_e(()=>c.taxon),m=_e(()=>{var S,j;return((S=h.value)==null?void 0:S.id)&&((j=f.value)==null?void 0:j.id)});ol(async()=>{await g()}),Fe(()=>n.fullPath,async()=>{g()}),hn(async()=>{!h.value||h.value.id!==Number(n.params.id)?await g():y()});async function g(){c.$reset(),await c.loadInit(n.params.id),y()}function y(){fl({title:`My project - ${f.value.full_name}`}),mb([pb({id:n.fullPath,name:f.value.full_name,scientificName:{name:f.value.full_name,author:f.value.author,taxonRank:f.value.rank},parentTaxon:{name:f.value.parent.full_name,taxonRank:f.value.parent.rank},commonNames:c.taxonomy.commonNames,alternateName:c.taxonomy.synonyms})])}function k({id:S,otu_valid_id:j}){i.push({name:"otus-id-overview",params:{id:j||S}})}return(S,j)=>{const T=vt("VSkeleton"),C=vt("Autocomplete"),G=vt("ClientOnly"),E=vt("TabItem"),R=vt("TabMenu"),H=vt("router-view");return W(),at("div",null,[lt("div",jb,[lt("div",zb,[lt("div",Nb,[it(T,{class:"w-full md:w-3/4"},{default:_t(()=>{var M;return[m.value?(W(),It(Sb,{key:0,class:"w-full md:w-3/4",list:((M=h.value)==null?void 0:M.parents)||{},current:f.value},null,8,["list","current"])):Wt("",!0)]}),_:1}),it(C,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:k})]),lt("div",Hb,[it(T,{lines:2,class:"w-96"},{default:_t(()=>[m.value?(W(),It(Ib,{key:0})):Wt("",!0)]),_:1}),lt("div",Fb,[it(G,null,{default:_t(()=>[it(bb)]),_:1}),m.value?(W(),It(Db,{key:0,otu:h.value},null,8,["otu"])):Wt("",!0)])]),l.length?(W(),It(R,{key:0,class:"m-[-1px] print:hidden"},{default:_t(()=>[(W(),at(Kt,null,Se(l,({name:M,label:I})=>it(E,{key:M,to:{name:M}},{default:_t(()=>[oe(he(I),1)]),_:2},1032,["to"])),64))]),_:1})):Wt("",!0)])]),lt("div",Vb,[lt("div",$b,[m.value?(W(),It(H,{key:Xt(n).fullPath,"taxon-id":f.value.id,taxon:f.value,"taxon-rank":f.value.rank_string,"otu-id":h.value.id,otu:h.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Wt("",!0)])])])}}},gu=["neotype","holotype","neolectotype","lectotype","syntype","paratype","paratypes"],Gb="FamilyGroup",Zb="GenusGroup",qb="SpeciesGroup",Kb={__name:"Gallery",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,i=Lr(),o=_e(()=>i.images||[]);return ol(async()=>{await i.loadImages(n.otuId)}),hn(()=>{i.images||i.loadImages(n.otuId)}),(l,c)=>{const h=vt("GalleryImage"),f=vt("VCardContent"),m=vt("VCard");return o.value.length?(W(),It(m,{key:0},{default:_t(()=>[it(f,null,{default:_t(()=>[it(h,{images:o.value},null,8,["images"])]),_:1})]),_:1})):Wt("",!0)}}},Wb=lt("h3",null,"JSON Data",-1),Jb={key:0,class:"p-5 font-normal"},Yb={class:"pb-2 text-sm"},Xb=["href"],Qb={class:"relative"},t0=["innerHTML"],Pi={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(t){const n=t,i=_e(()=>o.getRequest(n.panelKey)),o=Ds(),l=Qt(!1),c=_e(()=>[...n.menuOptions,{label:"JSON Data",action:()=>l.value=!0}]);return(h,f)=>{const m=vt("IconHamburger"),g=vt("Dropdown"),y=vt("VClipboard"),k=vt("VModal");return W(),at(Kt,null,[it(g,{items:c.value},{button:_t(()=>[it(m,{class:"text-base-soft h-4"})]),_:1},8,["items"]),l.value?(W(),It(k,{key:0,onClose:f[0]||(f[0]=S=>l.value=!1)},{header:_t(()=>[Wb]),default:_t(()=>[i.value?(W(),at("div",Jb,[lt("h3",Yb,[oe(" URL: "),lt("a",{href:i.value.url},he(i.value.url),9,Xb)]),lt("div",Qb,[lt("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(i.value.data,null,4)},null,8,t0),it(y,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(i.value.data,null,2)},null,8,["text"])])])):Wt("",!0)]),_:1})):Wt("",!0)],64)}}},e0=lt("h2",{class:"text-md"},"Type specimen",-1),n0={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,i=Qt([]);return Fe(()=>n.otuId,()=>{n.otuId&&nr("panel:typeMaterial",()=>on.getOtuTypeMaterial(n.otuId)).then(({data:o})=>{i.value=o.type_materials_catalog_labels.sort((l,c)=>gu.indexOf(l.type_type)-gu.indexOf(c.type_type))})},{immediate:!0}),(o,l)=>{const c=vt("VCardHeader"),h=vt("VCardContent"),f=vt("VCard");return i.value.length?(W(),It(f,{key:0},{default:_t(()=>[it(c,{class:"flex justify-between"},{default:_t(()=>[e0,it(Pi,{"panel-key":"panel:typeMaterial"})]),_:1}),it(h,{class:"text-sm"},{default:_t(()=>[lt("p",null,he(i.value[0].label),1)]),_:1})]),_:1})):Wt("",!0)}}},r0=lt("h2",{class:"text-md"},"Type",-1),i0=["innerHTML"],o0={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(t){const n=t,i=Qt({}),o=_e(()=>[i.value.subject_object_tag||"",i.value.subject_status_tag||"",i.value.object_object_tag||""].join(" "));return Fe(()=>n.taxonId,async()=>{n.taxonId&&nr("panel:type",()=>on.getTaxonTypeDesignation(n.taxonId)).then(({data:l})=>{i.value=l.type_taxon_name_relationship||{}})},{immediate:!0}),(l,c)=>{const h=vt("VCardHeader"),f=vt("VCardContent"),m=vt("VCard");return W(),It(m,null,{default:_t(()=>[it(h,{class:"flex justify-between"},{default:_t(()=>[r0,it(Pi,{"panel-key":"panel:type"})]),_:1}),it(f,{class:"text-sm"},{default:_t(()=>[lt("p",{innerHTML:o.value},null,8,i0)]),_:1})]),_:1})}}};function wd(t,n){const i=t.slice(),o=i.splice(0,n),l=i.splice(-n);return{first:o,middle:i,last:l}}const s0={class:"border-b border-base-muted p-3 px-5"},a0=["title","innerHTML"],l0=["innerHTML"],ga={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(t){return(n,i)=>(W(),at("li",s0,[lt("span",{class:"break-all block",title:t.citation.label,innerHTML:t.citation.label},null,8,a0),t.citation.type_label?(W(),at("span",{key:0,class:"ml-4 text-base-soft",innerHTML:t.citation.type_label},null,8,l0)):Wt("",!0)]))}},c0={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},xd={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(t){return(n,i)=>{const o=vt("IconPlusCircle");return W(),at("li",c0,[lt("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:i[0]||(i[0]=()=>n.isExpanded=!n.isExpanded)},[it(o,{class:"h-5 w-5"})]),lt("span",null,"... Show all ... ("+he(t.count)+")",1)])}}},u0={class:"text-md"},h0={class:"text-sm"},d0={class:"text-sm"},f0={class:"text-sm"},p0=2,m0={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const n=Lr(),i=Qt(!1),o=_e(()=>wd(n.catalog.timeline,p0)),l=_e(()=>[{label:i.value?"Show less":"Show all",action:()=>i.value=!i.value}]);return(c,h)=>{const f=vt("VCardHeader"),m=vt("AnimationOpacity"),g=vt("VCard");return W(),It(g,null,{default:_t(()=>[it(f,{class:"flex justify-between"},{default:_t(()=>[lt("h2",u0," Nomenclature ("+he(Xt(n).catalog.timeline.length)+") ",1),it(Pi,{"menu-options":l.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),lt("ul",h0,[(W(!0),at(Kt,null,Se(o.value.first,y=>(W(),It(ga,{key:y.label,citation:y},null,8,["citation"]))),128)),!i.value&&o.value.middle.length?(W(),It(xd,{key:0,count:o.value.middle.length,onClick:h[0]||(h[0]=y=>i.value=!0)},null,8,["count"])):Wt("",!0)]),it(m,null,{default:_t(()=>[il(lt("ul",d0,[(W(!0),at(Kt,null,Se(o.value.middle,y=>(W(),It(ga,{key:y.label,citation:y},null,8,["citation"]))),128))],512),[[Eh,i.value]])]),_:1}),lt("ul",f0,[(W(!0),at(Kt,null,Se(o.value.last,y=>(W(),It(ga,{key:y.label,citation:y},null,8,["citation"]))),128))])]),_:1})}}},g0={class:"border-b border-base-muted p-3 px-5"},_0=["title","innerHTML"],_a={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(t){return(n,i)=>(W(),at("li",g0,[lt("span",{class:"break-all block",title:t.reference,innerHTML:t.reference},null,8,_0)]))}},y0={class:"text-md"},v0={class:"text-sm"},b0=2,w0={__name:"PanelNomenclatureReferences",setup(t){const n=Lr(),i=Qt(!1),o=_e(()=>wd(n.catalog.sources,b0)),l=_e(()=>[{label:i.value?"Show less":"Show all",action:()=>i.value=!i.value}]);return(c,h)=>{const f=vt("VCardHeader"),m=vt("AnimationOpacity"),g=vt("VCard");return W(),It(g,null,{default:_t(()=>[it(f,{class:"flex justify-between"},{default:_t(()=>[lt("h2",y0," Nomenclature references ("+he(Xt(n).catalog.sources.length)+") ",1),it(Pi,{"menu-options":l.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),lt("ul",v0,[(W(!0),at(Kt,null,Se(o.value.first,y=>(W(),It(_a,{key:y,reference:y},null,8,["reference"]))),128)),!i.value&&o.value.middle.length?(W(),It(xd,{key:0,count:o.value.middle.length,onClick:h[0]||(h[0]=y=>i.value=!0)},null,8,["count"])):Wt("",!0),it(m,null,{default:_t(()=>[il(lt("div",null,[(W(!0),at(Kt,null,Se(o.value.middle,y=>(W(),It(_a,{key:y,reference:y},null,8,["reference"]))),128))],512),[[Eh,i.value]])]),_:1}),(W(!0),at(Kt,null,Se(o.value.last,y=>(W(),It(_a,{key:y,reference:y},null,8,["reference"]))),128))])]),_:1})}}};const x0=lt("h3",null,"Cached map",-1),k0={class:"p-4 pt-0"},L0={key:0,class:"text-success flex text-sm items-center"},M0=lt("span",{class:"ml-1"},"Map is synchronized",-1),C0={key:1,class:"text-warning flex text-sm items-center"},P0=lt("span",{class:"ml-1"},"Map is not synchronized",-1),S0={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(t){const n=Qt(!1);return(i,o)=>{const l=vt("IconCheck"),c=vt("IconWarning"),h=vt("VButton"),f=vt("VTableHeaderCell"),m=vt("VTableHeaderRow"),g=vt("VTableHeader"),y=vt("VTableBodyCell"),k=vt("VTableBodyRow"),S=vt("VTableBody"),j=vt("VTable"),T=vt("VModal");return W(),at(Kt,null,[it(h,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",onClick:o[0]||(o[0]=C=>n.value=!0)},{default:_t(()=>[t.cachedMap.synced?(W(),It(l,{key:0,class:"w-4 h-4"})):(W(),It(c,{key:1,class:"w-4 h-4"}))]),_:1}),n.value?(W(),It(T,{key:0,onClose:o[1]||(o[1]=()=>n.value=!1)},{header:_t(()=>[x0]),default:_t(()=>[lt("div",k0,[it(j,null,{default:_t(()=>[it(g,null,{default:_t(()=>[it(m,null,{default:_t(()=>[it(f,null,{default:_t(()=>[oe("Data")]),_:1}),it(f)]),_:1})]),_:1}),it(S,null,{default:_t(()=>[it(k,null,{default:_t(()=>[it(y,null,{default:_t(()=>[oe(" Is synced ")]),_:1}),it(y,null,{default:_t(()=>[t.cachedMap.synced?(W(),at("p",L0,[it(l,{class:"w-4 h-4"}),M0])):(W(),at("p",C0,[it(c,{class:"w-4 h-4"}),P0]))]),_:1})]),_:1}),it(k,null,{default:_t(()=>[it(y,null,{default:_t(()=>[oe(" Last update ")]),_:1}),it(y,null,{default:_t(()=>[oe(he(new Date(t.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),it(g,null,{default:_t(()=>[it(m,null,{default:_t(()=>[it(f,null,{default:_t(()=>[oe("Source")]),_:1}),it(f,null,{default:_t(()=>[oe("Total")]),_:1})]),_:1})]),_:1}),it(S,null,{default:_t(()=>[(W(!0),at(Kt,null,Se(t.cachedMap.source_scope,(C,G)=>(W(),It(k,{key:G},{default:_t(()=>[it(y,{class:"capitalize"},{default:_t(()=>[oe(he(G.replaceAll("_"," ")),1)]),_:2},1024),it(y,null,{default:_t(()=>[oe(he(C),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Wt("",!0)],64)}}},E0={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},T0=["innerHTML"],O0={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(t,{emit:n}){return(i,o)=>{const l=vt("IconClose");return W(),at("div",E0,[lt("div",null,[lt("span",{class:"ml-2",innerHTML:t.label},null,8,T0)]),it(l,{class:"cursor-pointer",onClick:o[0]||(o[0]=()=>n("close"))})])}}},R0={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},A0={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(t,{emit:n}){return(i,o)=>{const l=vt("IconArrowRight"),c=vt("VTableHeaderCell"),h=vt("VTableHeaderRow"),f=vt("VTableHeader"),m=vt("RouterLink"),g=vt("VTableBodyCell"),y=vt("VTableBodyRow"),k=vt("VTableBody"),S=vt("VTable");return t.list.length?(W(),It(S,{key:0,class:"shadow-md"},{default:_t(()=>[it(f,null,{default:_t(()=>[it(h,null,{default:_t(()=>[it(c,{class:"w-full flex justify-between box-border items-center"},{default:_t(()=>[lt("span",null,"OTU ("+he(t.list.length)+")",1),it(l,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:o[0]||(o[0]=j=>n("close:table"))})]),_:1})]),_:1})]),_:1}),it(k,null,{default:_t(()=>[(W(!0),at(Kt,null,Se(t.list,j=>(W(),It(y,{key:j.id},{default:_t(()=>[it(g,null,{default:_t(()=>[it(m,{innerHTML:j.object_tag,to:{name:"otus-id",params:{id:j.id}},onClick:o[1]||(o[1]=()=>n("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(W(),at("div",R0," No OTUs found in this area "))}}};const B0={__name:"OtuSearch",props:{otu:{type:Array,default:()=>[]},shapes:{type:Object,default:void 0}},emits:["close"],setup(t,{emit:n}){const i=t,o=Qt(),l=Qt(null),c=Qt([]),h=Qt(!1),f=Qt(),m=Qt(6),g=Qt(6),y=_e(()=>!!i.shapes&&g.value<=m.value);hn(()=>{document.addEventListener("keyup",k),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keyup",k),document.body.classList.remove("overflow-hidden")});const k=({key:G})=>{switch(G){case"Escape":n("close");break}};function S(G){const E={geo_json:G,taxon_name_id:[i.otu.taxon_name_id],descendants:!0,per:5e3};f.value=!0,on.getOtus(E).then(({data:R})=>{c.value=R,h.value=!0}).finally(R=>{f.value=!1})}function j(G){T(),y.value&&l.value.resizeMap()}function T(){g.value=l.value.getMapObject().getZoom()}function C(){m.value=l.value.getMapObject().getZoom(),T()}return(G,E)=>{const R=vt("VSpinner"),H=vt("VMap");return W(),at("div",{ref_key:"root",ref:o,class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},[f.value?(W(),It(R,{key:0})):Wt("",!0),it(O0,{label:t.otu.object_tag,onClose:E[0]||(E[0]=()=>n("close"))},null,8,["label"]),lt("div",{class:Fn(["w-full h-full relative",{"disable-zoom-out":y.value}])},[it(H,{ref_key:"mapRef",ref:l,class:"w-full h-full",controls:"",dragging:!y.value,"zoom-bounds":m.value,geojson:t.shapes,"onGeojson:ready":C,"onAdd:layer":E[1]||(E[1]=M=>S(JSON.stringify(M.geometry))),"onEdit:layer":E[2]||(E[2]=M=>S(JSON.stringify(M.geometry))),"onDrag:layer":E[3]||(E[3]=M=>S(JSON.stringify(M.geometry))),"onZoom:change":j,zoom:4},null,8,["dragging","zoom-bounds","geojson"]),lt("div",{class:Fn(["h-full md:w-96 absolute top-0 bg-base-background z-[2000] overflow-auto ease-in-out duration-300 w-full",{"md:-right-96 -right-full":!h.value,"right-0":h.value}])},[h.value?(W(),It(A0,{key:0,list:c.value,onClose:E[4]||(E[4]=()=>n("close")),"onClose:table":E[5]||(E[5]=()=>h.value=!1)},null,8,["list"])):Wt("",!0)],2)],2)],512)}}},I0=se(B0,[["__scopeId","data-v-3caf981b"]]),D0={class:"relative"},j0={key:0,class:"flex flex-row p-2 text-xs italic"},z0={key:1,class:"flex flex-row p-2 gap-2 text-xs"},N0=2,H0={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){const n=t,i=Qt(!0),o=Qt(!1),l=Lr(),c={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return Fe(()=>n.otuId,async(h,f)=>{h!==f&&(i.value=!0,l.loadDistribution({otuId:n.otuId,rankString:n.taxon.rank_string}))},{immediate:!0}),(h,f)=>{const m=vt("VSpinner"),g=vt("VMap"),y=vt("VButton"),k=vt("ClientOnly"),S=vt("VCard");return W(),It(S,null,{default:_t(()=>[lt("div",D0,[it(k,null,{default:_t(()=>[i.value?(W(),It(m,{key:0})):Wt("",!0),it(g,{class:"h-96 max-h-96",dragging:"",zoom:N0,geojson:Xt(l).distribution.geojson,"onGeojson:ready":f[0]||(f[0]=()=>i.value=!1)},null,8,["geojson"]),it(y,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:f[1]||(f[1]=()=>o.value=!0)},{default:_t(()=>[oe(" Search ")]),_:1}),o.value?(W(),It(I0,{key:1,otu:t.otu,shapes:Xt(l).distribution.geojson,onClose:f[2]||(f[2]=()=>o.value=!1)},null,8,["otu","shapes"])):Wt("",!0),Xt(l).distribution.cachedMap?(W(),It(S0,{key:2,"cached-map":Xt(l).distribution.cachedMap},null,8,["cached-map"])):Wt("",!0)]),_:1})]),Xt(l).distribution.errorMessage?(W(),at("div",j0," * "+he(Xt(l).distribution.errorMessage),1)):Wt("",!0),Xt(l).distribution.currentShapeTypes.length?(W(),at("div",z0,[(W(!0),at(Kt,null,Se(Xt(l).distribution.currentShapeTypes,j=>(W(),at("div",{key:j,class:"flex flex-row items-center"},[lt("div",{class:Fn(["w-3 h-3 m-1 rounded-sm",c[j].background])},null,2),lt("span",null,he(c[j].label),1)]))),128))])):Wt("",!0)]),_:1})}}},F0={class:"synonyms"},V0=lt("span",{class:"text-orange-500 mr-1"},"=",-1),$0=["innerHTML"],U0={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(t){const n=t;return(i,o)=>(W(),at("ul",F0,[(W(!0),at(Kt,null,Se(n.list,l=>(W(),at("li",{key:l},[V0,lt("span",{innerHTML:l},null,8,$0)]))),128))]))}};const G0={key:0,class:"tree"},Z0={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(t){const n=t,i=Qt(!!n.taxonomy.descendants.length),o=Qt([...n.taxonomy.descendants]);Fe(i,c=>{c&&l()});const l=()=>{o.value.length||on.getTaxonomy(n.taxonomy.otu_id,{max_descendants_depth:1}).then(({data:c})=>{o.value=c.descendants})};return(c,h)=>{const f=vt("button-expand"),m=vt("router-link"),g=vt("AnimationOpacity");return Object.keys(t.taxonomy).length?(W(),at("li",{key:t.taxonomy.otu_id},[t.taxonomy.leaf_node?Wt("",!0):(W(),It(f,{key:0,modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=y=>i.value=y),class:"absolute -left-2.5"},null,8,["modelValue"])),it(m,{class:"text-primary-500",to:{name:"otus-id",params:{id:t.taxonomy.otu_id}},innerHTML:t.taxonomy.name},null,8,["to","innerHTML"]),t.taxonomy.nomenclatural_synonyms.length?(W(),It(U0,{key:1,class:"pb-4",list:t.taxonomy.nomenclatural_synonyms},null,8,["list"])):Wt("",!0),it(g,null,{default:_t(()=>[o.value.length?(W(),at("ul",G0,[(W(!0),at(Kt,null,Se(o.value,y=>(W(),It(g,{key:y.otu_id},{default:_t(()=>[i.value?(W(),It(kd,{key:0,taxonomy:y},null,8,["taxonomy"])):Wt("",!0)]),_:2},1024))),128))])):Wt("",!0)]),_:1})])):Wt("",!0)}}},kd=se(Z0,[["__scopeId","data-v-b665fc45"]]);const q0=t=>(th("data-v-b11363aa"),t=t(),eh(),t),K0=q0(()=>lt("h2",{class:"text-md"},"Descendants and synonyms",-1)),W0={class:"tree ml-2"},J0={__name:"Descendants",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,i=Qt(null);return Fe(()=>n.otuId,async()=>{n.otuId&&nr("panel:descendants",()=>on.getTaxonomy(n.otuId,{max_descendants_depth:1})).then(({data:o})=>{i.value=o})},{immediate:!0}),(o,l)=>{const c=vt("VCardHeader"),h=vt("AnimationOpacity"),f=vt("VCardContent"),m=vt("VCard");return W(),It(m,null,{default:_t(()=>[it(c,{class:"flex justify-between"},{default:_t(()=>[K0,it(Pi,{"panel-key":"panel:descendants"})]),_:1}),it(f,{class:"text-sm"},{default:_t(()=>[lt("ul",W0,[it(h,null,{default:_t(()=>[i.value&&(i.value.nomenclatural_synonyms.length||i.value.descendants.length)?(W(),It(kd,{key:0,taxonomy:i.value},null,8,["taxonomy"])):Wt("",!0)]),_:1})])]),_:1})]),_:1})}}},Y0=se(J0,[["__scopeId","data-v-b11363aa"]]),X0=["innerHTML"],Q0={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(t){return(n,i)=>{const o=vt("VCardHeader"),l=vt("VCardContent");return W(),at(Kt,null,[it(o,{class:"border-t border-base-muted first:border-t-0"},{default:_t(()=>[oe(he(t.title),1)]),_:1}),it(l,null,{default:_t(()=>[(W(!0),at(Kt,null,Se(t.textList,(c,h)=>(W(),at("ul",{key:h,class:"pt-1 text-sm"},[lt("li",{innerHTML:c},null,8,X0)]))),128))]),_:1})],64)}}},tw={__name:"PanelContent",props:{otuId:{type:Number,default:void 0}},setup(t){const n=t,i=Qt([]),o=_e(()=>i.value.reduce((l,c)=>(l[c.name]?l[c.name].push(c.text):l[c.name]=[c.text],l),{}));return Fe(()=>n.otuId,l=>{l?nr("panel:content",()=>on.getOtuContent(l)).then(({data:c})=>{i.value=c}):i.value=[]},{immediate:!0}),(l,c)=>{const h=vt("VCard");return i.value.length?(W(),It(h,{key:0},{default:_t(()=>[(W(!0),at(Kt,null,Se(o.value,(f,m)=>(W(),It(Q0,{key:m,title:m,"text-list":f},null,8,["title","text-list"]))),128))]),_:1})):Wt("",!0)}}},ew=lt("h2",{class:"text-md"},"Stats",-1),nw={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const n=Lr();return(i,o)=>{const l=vt("VCardHeader"),c=vt("VTableHeaderCell"),h=vt("VTableHeaderRow"),f=vt("VTableHeader"),m=vt("VTableBodyCell"),g=vt("VTableBodyRow"),y=vt("VTableBody"),k=vt("VTable"),S=vt("VCardContent"),j=vt("VCard");return W(),It(j,null,{default:_t(()=>[it(l,{class:"flex justify-between"},{default:_t(()=>[ew,it(Pi,{"panel-key":"taxonomy"})]),_:1}),it(S,{class:"text-sm"},{default:_t(()=>[it(k,null,{default:_t(()=>[it(f,null,{default:_t(()=>[it(h,null,{default:_t(()=>[it(c,{class:"bg-base-foreground"}),it(c,{title:"OTUs linked to valid protonyms"},{default:_t(()=>[oe(" Taxa ")]),_:1}),it(c,{title:"Taxon names",class:"border-l border-base-border"},{default:_t(()=>[oe(" Names ")]),_:1}),it(c,{colspan:"2",class:"bg-base-foreground"})]),_:1}),it(h,null,{default:_t(()=>[it(c,null,{default:_t(()=>[oe("Rank")]),_:1}),it(c,{title:"OTUs linked to valid protonyms"},{default:_t(()=>[oe("Total")]),_:1}),it(c,{title:"Taxon names",class:"border-l border-base-border"},{default:_t(()=>[oe(" Total ")]),_:1}),it(c,null,{default:_t(()=>[oe(" Valid ")]),_:1}),it(c,null,{default:_t(()=>[oe(" Invalid ")]),_:1})]),_:1})]),_:1}),it(y,null,{default:_t(()=>[(W(!0),at(Kt,null,Se(Xt(n).catalog.stats.taxa,(T,C)=>(W(),It(g,{key:C},{default:_t(()=>[it(m,{class:"capitalize"},{default:_t(()=>[oe(he(C),1)]),_:2},1024),it(m,null,{default:_t(()=>[oe(he(T),1)]),_:2},1024),it(m,{class:"border-l border-base-border"},{default:_t(()=>[oe(he(Xt(n).catalog.stats.names[C].invalid+Xt(n).catalog.stats.names[C].valid),1)]),_:2},1024),it(m,null,{default:_t(()=>[oe(he(Xt(n).catalog.stats.names[C].valid),1)]),_:2},1024),it(m,null,{default:_t(()=>[oe(he(Xt(n).catalog.stats.names[C].invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},_u={left:[{component:Kb},{component:n0,available:[qb]},{component:o0,available:[Gb,Zb]},{component:m0},{component:w0}],right:[{component:H0},{component:Y0},{component:tw},{component:nw}]},rw={class:"grid grid-cols-1 gap-3 md:grid-cols-2"},iw={class:"grid grid-cols-1 gap-3 auto-rows-min"},ow={class:"grid grid-cols-1 auto-rows-min gap-3"},sw={__name:"Overview",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){const n=(i,o)=>i.some(l=>o==null?void 0:o.includes(l));return(i,o)=>(W(),at("div",null,[lt("div",rw,[lt("div",iw,[(W(!0),at(Kt,null,Se(Xt(_u).left,({component:l,available:c})=>(W(),at(Kt,{key:l},[!c||n(c,t.taxonRank)?(W(),It(Ca(l),{key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon},null,8,["otu-id","otu","taxon-id","taxon"])):Wt("",!0)],64))),128))]),lt("div",ow,[(W(!0),at(Kt,null,Se(Xt(_u).right,({component:l,available:c})=>(W(),at(Kt,{key:l},[!c||n(c,t.taxonRank)?(W(),It(Ca(l),{key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon},null,8,["otu-id","otu","taxon-id","taxon"])):Wt("",!0)],64))),128))])])]))}},aw=[{name:"otus-id",path:"/otus/:id",component:Ub,redirect:{name:"otus-id-overview"},children:[{path:"overview",name:"otus-id-overview",component:sw}]}],lw="modulepreload",cw=function(t){return"/taxonpages/"+t},yu={},Ld=function(n,i,o){if(!i||i.length===0)return n();const l=document.getElementsByTagName("link");return Promise.all(i.map(c=>{if(c=cw(c),c in yu)return;yu[c]=!0;const h=c.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!o)for(let y=l.length-1;y>=0;y--){const k=l[y];if(k.href===c&&(!h||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":lw,h||(g.as="script",g.crossOrigin=""),g.href=c,document.head.appendChild(g),h)return new Promise((y,k)=>{g.addEventListener("load",y),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>n())},uw=()=>Ld(()=>import("./home-33a09b9a.js"),[]),hw=()=>Ld(()=>import("./about-6d37d31e.js"),[]),dw=[{name:"home",path:"/",component:uw,props:!0,alias:"/home"},{name:"about",path:"/about",component:hw,props:!0}],fw=Object.assign({"/src/modules/home/router/index.js":D_,"/src/modules/otus/router/index.js":aw}),pw=Object.assign({}),{base_url:vu,hash_mode:mw}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null},gw=[].concat(...Object.values(fw),...Object.values(pw)),_w=[...dw,...gw];function yw(){return mw?ty(vu):Zh(vu)}function vw(){return zy({history:yw(),routes:_w})}function bw({originUrl:t}){const{url:n,project_token:i}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null},l=Um(n&&i?a_:f_),c=vw(),h=k_();return Cg({plugins:[w_({host:t})]}),l.use(c),l.use(h),{app:l,router:c,store:h}}var ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $a={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(i,o){o(n)})(ww,function(i){var o="1.9.4";function l(e){var s,u,p,v;for(u=1,p=arguments.length;u<p;u++){v=arguments[u];for(s in v)e[s]=v[s]}return e}var c=Object.create||function(){function e(){}return function(s){return e.prototype=s,new e}}();function h(e,s){var u=Array.prototype.slice;if(e.bind)return e.bind.apply(e,u.call(arguments,1));var p=u.call(arguments,2);return function(){return e.apply(s,p.length?p.concat(u.call(arguments)):arguments)}}var f=0;function m(e){return"_leaflet_id"in e||(e._leaflet_id=++f),e._leaflet_id}function g(e,s,u){var p,v,P,Z;return Z=function(){p=!1,v&&(P.apply(u,v),v=!1)},P=function(){p?v=arguments:(e.apply(u,arguments),setTimeout(Z,s),p=!0)},P}function y(e,s,u){var p=s[1],v=s[0],P=p-v;return e===p&&u?e:((e-v)%P+P)%P+v}function k(){return!1}function S(e,s){if(s===!1)return e;var u=Math.pow(10,s===void 0?6:s);return Math.round(e*u)/u}function j(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(e){return j(e).split(/\s+/)}function C(e,s){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?c(e.options):{});for(var u in s)e.options[u]=s[u];return e.options}function G(e,s,u){var p=[];for(var v in e)p.push(encodeURIComponent(u?v.toUpperCase():v)+"="+encodeURIComponent(e[v]));return(!s||s.indexOf("?")===-1?"?":"&")+p.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function R(e,s){return e.replace(E,function(u,p){var v=s[p];if(v===void 0)throw new Error("No value provided for variable "+u);return typeof v=="function"&&(v=v(s)),v})}var H=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function M(e,s){for(var u=0;u<e.length;u++)if(e[u]===s)return u;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var nt=0;function J(e){var s=+new Date,u=Math.max(0,16-(s-nt));return nt=s+u,window.setTimeout(e,u)}var et=window.requestAnimationFrame||K("RequestAnimationFrame")||J,ct=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function pt(e,s,u){if(u&&et===J)e.call(s);else return et.call(window,h(e,s))}function ot(e){e&&ct.call(window,e)}var bt={__proto__:null,extend:l,create:c,bind:h,get lastId(){return f},stamp:m,throttle:g,wrapNum:y,falseFn:k,formatNum:S,trim:j,splitWords:T,setOptions:C,getParamString:G,template:R,isArray:H,indexOf:M,emptyImageUrl:I,requestFn:et,cancelFn:ct,requestAnimFrame:pt,cancelAnimFrame:ot};function Lt(){}Lt.extend=function(e){var s=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,p=c(u);p.constructor=s,s.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(s[v]=this[v]);return e.statics&&l(s,e.statics),e.includes&&(Et(e.includes),l.apply(null,[p].concat(e.includes))),l(p,e),delete p.statics,delete p.includes,p.options&&(p.options=u.options?c(u.options):{},l(p.options,e.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,Z=p._initHooks.length;P<Z;P++)p._initHooks[P].call(this)}},s},Lt.include=function(e){var s=this.prototype.options;return l(this.prototype,e),e.options&&(this.prototype.options=s,this.mergeOptions(e.options)),this},Lt.mergeOptions=function(e){return l(this.prototype.options,e),this},Lt.addInitHook=function(e){var s=Array.prototype.slice.call(arguments,1),u=typeof e=="function"?e:function(){this[e].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Et(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=H(e)?e:[e];for(var s=0;s<e.length;s++)e[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ct={on:function(e,s,u){if(typeof e=="object")for(var p in e)this._on(p,e[p],s);else{e=T(e);for(var v=0,P=e.length;v<P;v++)this._on(e[v],s,u)}return this},off:function(e,s,u){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var p in e)this._off(p,e[p],s);else{e=T(e);for(var v=arguments.length===1,P=0,Z=e.length;P<Z;P++)v?this._off(e[P]):this._off(e[P],s,u)}return this},_on:function(e,s,u,p){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(e,s,u)===!1){u===this&&(u=void 0);var v={fn:s,ctx:u};p&&(v.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(v)}},_off:function(e,s,u){var p,v,P;if(this._events&&(p=this._events[e],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,P=p.length;v<P;v++)p[v].fn=k;delete this._events[e];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var Z=this._listens(e,s,u);if(Z!==!1){var tt=p[Z];this._firingCount&&(tt.fn=k,this._events[e]=p=p.slice()),p.splice(Z,1)}}},fire:function(e,s,u){if(!this.listens(e,u))return this;var p=l({},s,{type:e,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var v=this._events[e];if(v){this._firingCount=this._firingCount+1||1;for(var P=0,Z=v.length;P<Z;P++){var tt=v[P],st=tt.fn;tt.once&&this.off(e,st,tt.ctx),st.call(tt.ctx||this,p)}this._firingCount--}}return u&&this._propagateEvent(p),this},listens:function(e,s,u,p){typeof e!="string"&&console.warn('"string" type argument expected');var v=s;typeof s!="function"&&(p=!!s,v=void 0,u=void 0);var P=this._events&&this._events[e];if(P&&P.length&&this._listens(e,v,u)!==!1)return!0;if(p){for(var Z in this._eventParents)if(this._eventParents[Z].listens(e,s,u,p))return!0}return!1},_listens:function(e,s,u){if(!this._events)return!1;var p=this._events[e]||[];if(!s)return!!p.length;u===this&&(u=void 0);for(var v=0,P=p.length;v<P;v++)if(p[v].fn===s&&p[v].ctx===u)return v;return!1},once:function(e,s,u){if(typeof e=="object")for(var p in e)this._on(p,e[p],s,!0);else{e=T(e);for(var v=0,P=e.length;v<P;v++)this._on(e[v],s,u,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[m(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[m(e)],this},_propagateEvent:function(e){for(var s in this._eventParents)this._eventParents[s].fire(e.type,l({layer:e.target,propagatedFrom:e.target},e),!0)}};Ct.addEventListener=Ct.on,Ct.removeEventListener=Ct.clearAllEventListeners=Ct.off,Ct.addOneTimeEventListener=Ct.once,Ct.fireEvent=Ct.fire,Ct.hasEventListeners=Ct.listens;var Ft=Lt.extend(Ct);function wt(e,s,u){this.x=u?Math.round(e):e,this.y=u?Math.round(s):s}var de=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};wt.prototype={clone:function(){return new wt(this.x,this.y)},add:function(e){return this.clone()._add(Dt(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Dt(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new wt(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new wt(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(e){e=Dt(e);var s=e.x-this.x,u=e.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(e){return e=Dt(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Dt(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function Dt(e,s,u){return e instanceof wt?e:H(e)?new wt(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new wt(e.x,e.y):new wt(e,s,u)}function At(e,s){if(e)for(var u=s?[e,s]:e,p=0,v=u.length;p<v;p++)this.extend(u[p])}At.prototype={extend:function(e){var s,u;if(!e)return this;if(e instanceof wt||typeof e[0]=="number"||"x"in e)s=u=Dt(e);else if(e=Vt(e),s=e.min,u=e.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(e){return Dt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Dt(this.min.x,this.max.y)},getTopRight:function(){return Dt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var s,u;return typeof e[0]=="number"||e instanceof wt?e=Dt(e):e=Vt(e),e instanceof At?(s=e.min,u=e.max):s=u=e,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(e){e=Vt(e);var s=this.min,u=this.max,p=e.min,v=e.max,P=v.x>=s.x&&p.x<=u.x,Z=v.y>=s.y&&p.y<=u.y;return P&&Z},overlaps:function(e){e=Vt(e);var s=this.min,u=this.max,p=e.min,v=e.max,P=v.x>s.x&&p.x<u.x,Z=v.y>s.y&&p.y<u.y;return P&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var s=this.min,u=this.max,p=Math.abs(s.x-u.x)*e,v=Math.abs(s.y-u.y)*e;return Vt(Dt(s.x-p,s.y-v),Dt(u.x+p,u.y+v))},equals:function(e){return e?(e=Vt(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Vt(e,s){return!e||e instanceof At?e:new At(e,s)}function Le(e,s){if(e)for(var u=s?[e,s]:e,p=0,v=u.length;p<v;p++)this.extend(u[p])}Le.prototype={extend:function(e){var s=this._southWest,u=this._northEast,p,v;if(e instanceof ie)p=e,v=e;else if(e instanceof Le){if(p=e._southWest,v=e._northEast,!p||!v)return this}else return e?this.extend(Nt(e)||fe(e)):this;return!s&&!u?(this._southWest=new ie(p.lat,p.lng),this._northEast=new ie(v.lat,v.lng)):(s.lat=Math.min(p.lat,s.lat),s.lng=Math.min(p.lng,s.lng),u.lat=Math.max(v.lat,u.lat),u.lng=Math.max(v.lng,u.lng)),this},pad:function(e){var s=this._southWest,u=this._northEast,p=Math.abs(s.lat-u.lat)*e,v=Math.abs(s.lng-u.lng)*e;return new Le(new ie(s.lat-p,s.lng-v),new ie(u.lat+p,u.lng+v))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ie||"lat"in e?e=Nt(e):e=fe(e);var s=this._southWest,u=this._northEast,p,v;return e instanceof Le?(p=e.getSouthWest(),v=e.getNorthEast()):p=v=e,p.lat>=s.lat&&v.lat<=u.lat&&p.lng>=s.lng&&v.lng<=u.lng},intersects:function(e){e=fe(e);var s=this._southWest,u=this._northEast,p=e.getSouthWest(),v=e.getNorthEast(),P=v.lat>=s.lat&&p.lat<=u.lat,Z=v.lng>=s.lng&&p.lng<=u.lng;return P&&Z},overlaps:function(e){e=fe(e);var s=this._southWest,u=this._northEast,p=e.getSouthWest(),v=e.getNorthEast(),P=v.lat>s.lat&&p.lat<u.lat,Z=v.lng>s.lng&&p.lng<u.lng;return P&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,s){return e?(e=fe(e),this._southWest.equals(e.getSouthWest(),s)&&this._northEast.equals(e.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(e,s){return e instanceof Le?e:new Le(e,s)}function ie(e,s,u){if(isNaN(e)||isNaN(s))throw new Error("Invalid LatLng object: ("+e+", "+s+")");this.lat=+e,this.lng=+s,u!==void 0&&(this.alt=+u)}ie.prototype={equals:function(e,s){if(!e)return!1;e=Nt(e);var u=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return u<=(s===void 0?1e-9:s)},toString:function(e){return"LatLng("+S(this.lat,e)+", "+S(this.lng,e)+")"},distanceTo:function(e){return Pt.distance(this,Nt(e))},wrap:function(){return Pt.wrapLatLng(this)},toBounds:function(e){var s=180*e/40075017,u=s/Math.cos(Math.PI/180*this.lat);return fe([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function Nt(e,s,u){return e instanceof ie?e:H(e)&&typeof e[0]!="object"?e.length===3?new ie(e[0],e[1],e[2]):e.length===2?new ie(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ie(e.lat,"lng"in e?e.lng:e.lon,e.alt):s===void 0?null:new ie(e,s,u)}var ht={latLngToPoint:function(e,s){var u=this.projection.project(e),p=this.scale(s);return this.transformation._transform(u,p)},pointToLatLng:function(e,s){var u=this.scale(s),p=this.transformation.untransform(e,u);return this.projection.unproject(p)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(e),p=this.transformation.transform(s.min,u),v=this.transformation.transform(s.max,u);return new At(p,v)},infinite:!1,wrapLatLng:function(e){var s=this.wrapLng?y(e.lng,this.wrapLng,!0):e.lng,u=this.wrapLat?y(e.lat,this.wrapLat,!0):e.lat,p=e.alt;return new ie(u,s,p)},wrapLatLngBounds:function(e){var s=e.getCenter(),u=this.wrapLatLng(s),p=s.lat-u.lat,v=s.lng-u.lng;if(p===0&&v===0)return e;var P=e.getSouthWest(),Z=e.getNorthEast(),tt=new ie(P.lat-p,P.lng-v),st=new ie(Z.lat-p,Z.lng-v);return new Le(tt,st)}},Pt=l({},ht,{wrapLng:[-180,180],R:6371e3,distance:function(e,s){var u=Math.PI/180,p=e.lat*u,v=s.lat*u,P=Math.sin((s.lat-e.lat)*u/2),Z=Math.sin((s.lng-e.lng)*u/2),tt=P*P+Math.cos(p)*Math.cos(v)*Z*Z,st=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*st}}),St=6378137,jt={R:St,MAX_LATITUDE:85.0511287798,project:function(e){var s=Math.PI/180,u=this.MAX_LATITUDE,p=Math.max(Math.min(u,e.lat),-u),v=Math.sin(p*s);return new wt(this.R*e.lng*s,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(e){var s=180/Math.PI;return new ie((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*s,e.x*s/this.R)},bounds:function(){var e=St*Math.PI;return new At([-e,-e],[e,e])}()};function ae(e,s,u,p){if(H(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=s,this._c=u,this._d=p}ae.prototype={transform:function(e,s){return this._transform(e.clone(),s)},_transform:function(e,s){return s=s||1,e.x=s*(this._a*e.x+this._b),e.y=s*(this._c*e.y+this._d),e},untransform:function(e,s){return s=s||1,new wt((e.x/s-this._b)/this._a,(e.y/s-this._d)/this._c)}};function V(e,s,u,p){return new ae(e,s,u,p)}var q=l({},Pt,{code:"EPSG:3857",projection:jt,transformation:function(){var e=.5/(Math.PI*jt.R);return V(e,.5,-e,.5)}()}),Y=l({},q,{code:"EPSG:900913"});function dt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function gt(e,s){var u="",p,v,P,Z,tt,st;for(p=0,P=e.length;p<P;p++){for(tt=e[p],v=0,Z=tt.length;v<Z;v++)st=tt[v],u+=(v?"L":"M")+st.x+" "+st.y;u+=s?Ht.svg?"z":"x":""}return u||"M0 0"}var xt=document.documentElement.style,Ot="ActiveXObject"in window,B=Ot&&!document.addEventListener,b="msLaunchUri"in navigator&&!("documentMode"in document),x=tn("webkit"),O=tn("android"),D=tn("android 2")||tn("android 3"),N=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Q=O&&tn("Google")&&N<537&&!("AudioNode"in window),rt=!!window.opera,yt=!b&&tn("chrome"),Tt=tn("gecko")&&!x&&!rt&&!Ot,zt=!yt&&tn("safari"),Zt=tn("phantom"),Yt="OTransition"in xt,ve=navigator.platform.indexOf("Win")===0,Jt=Ot&&"transition"in xt,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!D,ce="MozPerspective"in xt,be=!window.L_DISABLE_3D&&(Jt||ye||ce)&&!Yt&&!Zt,Re=typeof orientation<"u"||tn("mobile"),Ze=Re&&x,qe=Re&&ye,dn=!window.PointerEvent&&window.MSPointerEvent,an=!!(window.PointerEvent||dn),We="ontouchstart"in window||!!window.TouchEvent,ln=!window.L_NO_TOUCH&&(We||an),xn=Re&&rt,$n=Re&&Tt,Ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ne=function(){var e=!1;try{var s=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",k,s),window.removeEventListener("testPassiveEventSupport",k,s)}catch{}return e}(),On=function(){return!!document.createElement("canvas").getContext}(),qr=!!(document.createElementNS&&dt("svg").createSVGRect),Si=!!qr&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mr=!qr&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var s=e.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),js=navigator.platform.indexOf("Mac")===0,Ei=navigator.platform.indexOf("Linux")===0;function tn(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ht={ie:Ot,ielt9:B,edge:b,webkit:x,android:O,android23:D,androidStock:Q,opera:rt,chrome:yt,gecko:Tt,safari:zt,phantom:Zt,opera12:Yt,win:ve,ie3d:Jt,webkit3d:ye,gecko3d:ce,any3d:be,mobile:Re,mobileWebkit:Ze,mobileWebkit3d:qe,msPointer:dn,pointer:an,touch:ln,touchNative:We,mobileOpera:xn,mobileGecko:$n,retina:Ke,passiveEvents:Ne,canvas:On,svg:qr,vml:Mr,inlineSvg:Si,mac:js,linux:Ei},Ti=Ht.msPointer?"MSPointerDown":"pointerdown",Rn=Ht.msPointer?"MSPointerMove":"pointermove",An=Ht.msPointer?"MSPointerUp":"pointerup",vo=Ht.msPointer?"MSPointerCancel":"pointercancel",Cr={touchstart:Ti,touchmove:Rn,touchend:An,touchcancel:vo},ir={touchstart:Wr,touchmove:Kr,touchend:Kr,touchcancel:Kr},or={},Oi=!1;function bo(e,s,u){return s==="touchstart"&&Bi(),ir[s]?(u=ir[s].bind(this,u),e.addEventListener(Cr[s],u,!1),u):(console.warn("wrong event specified:",s),k)}function zs(e,s,u){if(!Cr[s]){console.warn("wrong event specified:",s);return}e.removeEventListener(Cr[s],u,!1)}function wo(e){or[e.pointerId]=e}function Ri(e){or[e.pointerId]&&(or[e.pointerId]=e)}function Ai(e){delete or[e.pointerId]}function Bi(){Oi||(document.addEventListener(Ti,wo,!0),document.addEventListener(Rn,Ri,!0),document.addEventListener(An,Ai,!0),document.addEventListener(vo,Ai,!0),Oi=!0)}function Kr(e,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in or)s.touches.push(or[u]);s.changedTouches=[s],e(s)}}function Wr(e,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&U(s),Kr(e,s)}function xo(e){var s={},u,p;for(p in e)u=e[p],s[p]=u&&u.bind?u.bind(e):u;return e=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Ns=200;function Pr(e,s){e.addEventListener("dblclick",s);var u=0,p;function v(P){if(P.detail!==1){p=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var Z=ft(P);if(!(Z.some(function(st){return st instanceof HTMLLabelElement&&st.attributes.for})&&!Z.some(function(st){return st instanceof HTMLInputElement||st instanceof HTMLSelectElement}))){var tt=Date.now();tt-u<=Ns?(p++,p===2&&s(xo(P))):p=1,u=tt}}}return e.addEventListener("click",v),{dblclick:s,simDblclick:v}}function Hs(e,s){e.removeEventListener("dblclick",s.dblclick),e.removeEventListener("click",s.simDblclick)}var Jr=Xr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Un=Xr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ko=Un==="webkitTransition"||Un==="OTransition"?Un+"End":"transitionend";function Lo(e){return typeof e=="string"?document.getElementById(e):e}function sr(e,s){var u=e.style[s]||e.currentStyle&&e.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(e,null);u=p?p[s]:null}return u==="auto"?null:u}function ue(e,s,u){var p=document.createElement(e);return p.className=s||"",u&&u.appendChild(p),p}function Me(e){var s=e.parentNode;s&&s.removeChild(e)}function Sr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Gn(e){var s=e.parentNode;s&&s.lastChild!==e&&s.appendChild(e)}function Zn(e){var s=e.parentNode;s&&s.firstChild!==e&&s.insertBefore(e,s.firstChild)}function Yr(e,s){if(e.classList!==void 0)return e.classList.contains(s);var u=Er(e);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function ee(e,s){if(e.classList!==void 0)for(var u=T(s),p=0,v=u.length;p<v;p++)e.classList.add(u[p]);else if(!Yr(e,s)){var P=Er(e);Ii(e,(P?P+" ":"")+s)}}function Ae(e,s){e.classList!==void 0?e.classList.remove(s):Ii(e,j((" "+Er(e)+" ").replace(" "+s+" "," ")))}function Ii(e,s){e.className.baseVal===void 0?e.className=s:e.className.baseVal=s}function Er(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function en(e,s){"opacity"in e.style?e.style.opacity=s:"filter"in e.style&&Di(e,s)}function Di(e,s){var u=!1,p="DXImageTransform.Microsoft.Alpha";try{u=e.filters.item(p)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):e.style.filter+=" progid:"+p+"(opacity="+s+")"}function Xr(e){for(var s=document.documentElement.style,u=0;u<e.length;u++)if(e[u]in s)return e[u];return!1}function Bn(e,s,u){var p=s||new wt(0,0);e.style[Jr]=(Ht.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(u?" scale("+u+")":"")}function Pe(e,s){e._leaflet_pos=s,Ht.any3d?Bn(e,s):(e.style.left=s.x+"px",e.style.top=s.y+"px")}function fn(e){return e._leaflet_pos||new wt(0,0)}var Tr,Or,Be;if("onselectstart"in document)Tr=function(){te(window,"selectstart",U)},Or=function(){a(window,"selectstart",U)};else{var In=Xr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tr=function(){if(In){var e=document.documentElement.style;Be=e[In],e[In]="none"}},Or=function(){In&&(document.documentElement.style[In]=Be,Be=void 0)}}function Rr(){te(window,"dragstart",U)}function ji(){a(window,"dragstart",U)}var Qr,ti;function zi(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(ar(),Qr=e,ti=e.style.outlineStyle,e.style.outlineStyle="none",te(window,"keydown",ar))}function ar(){Qr&&(Qr.style.outlineStyle=ti,Qr=void 0,ti=void 0,a(window,"keydown",ar))}function ei(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Ni(e){var s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth||1,y:s.height/e.offsetHeight||1,boundingClientRect:s}}var Fs={__proto__:null,TRANSFORM:Jr,TRANSITION:Un,TRANSITION_END:ko,get:Lo,getStyle:sr,create:ue,remove:Me,empty:Sr,toFront:Gn,toBack:Zn,hasClass:Yr,addClass:ee,removeClass:Ae,setClass:Ii,getClass:Er,setOpacity:en,testProp:Xr,setTransform:Bn,setPosition:Pe,getPosition:fn,get disableTextSelection(){return Tr},get enableTextSelection(){return Or},disableImageDrag:Rr,enableImageDrag:ji,preventOutline:zi,restoreOutline:ar,getSizedParentNode:ei,getScale:Ni};function te(e,s,u,p){if(s&&typeof s=="object")for(var v in s)w(e,v,s[v],u);else{s=T(s);for(var P=0,Z=s.length;P<Z;P++)w(e,s[P],u,p)}return this}var r="_leaflet_events";function a(e,s,u,p){if(arguments.length===1)d(e),delete e[r];else if(s&&typeof s=="object")for(var v in s)A(e,v,s[v],u);else if(s=T(s),arguments.length===2)d(e,function(tt){return M(s,tt)!==-1});else for(var P=0,Z=s.length;P<Z;P++)A(e,s[P],u,p);return this}function d(e,s){for(var u in e[r]){var p=u.split(/\d/)[0];(!s||s(p))&&A(e,p,null,null,u)}}var _={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function w(e,s,u,p){var v=s+m(u)+(p?"_"+m(p):"");if(e[r]&&e[r][v])return this;var P=function(tt){return u.call(p||e,tt||window.event)},Z=P;!Ht.touchNative&&Ht.pointer&&s.indexOf("touch")===0?P=bo(e,s,P):Ht.touch&&s==="dblclick"?P=Pr(e,P):"addEventListener"in e?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?e.addEventListener(_[s]||s,P,Ht.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(P=function(tt){tt=tt||window.event,Ut(e,tt)&&Z(tt)},e.addEventListener(_[s],P,!1)):e.addEventListener(s,Z,!1):e.attachEvent("on"+s,P),e[r]=e[r]||{},e[r][v]=P}function A(e,s,u,p,v){v=v||s+m(u)+(p?"_"+m(p):"");var P=e[r]&&e[r][v];if(!P)return this;!Ht.touchNative&&Ht.pointer&&s.indexOf("touch")===0?zs(e,s,P):Ht.touch&&s==="dblclick"?Hs(e,P):"removeEventListener"in e?e.removeEventListener(_[s]||s,P,!1):e.detachEvent("on"+s,P),e[r][v]=null}function z(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function $(e){return w(e,"wheel",z),this}function F(e){return te(e,"mousedown touchstart dblclick contextmenu",z),e._leaflet_disable_click=!0,this}function U(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function X(e){return U(e),z(e),this}function ft(e){if(e.composedPath)return e.composedPath();for(var s=[],u=e.target;u;)s.push(u),u=u.parentNode;return s}function ut(e,s){if(!s)return new wt(e.clientX,e.clientY);var u=Ni(s),p=u.boundingClientRect;return new wt((e.clientX-p.left)/u.x-s.clientLeft,(e.clientY-p.top)/u.y-s.clientTop)}var Mt=Ht.linux&&Ht.chrome?window.devicePixelRatio:Ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Rt(e){return Ht.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Mt:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Ut(e,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==e;)u=u.parentNode}catch{return!1}return u!==e}var ne={__proto__:null,on:te,off:a,stopPropagation:z,disableScrollPropagation:$,disableClickPropagation:F,preventDefault:U,stop:X,getPropagationPath:ft,getMousePosition:ut,getWheelDelta:Rt,isExternalTarget:Ut,addListener:te,removeListener:a},we=Ft.extend({run:function(e,s,u,p){this.stop(),this._el=e,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=fn(e),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pt(this._animate,this),this._step()},_step:function(e){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),e):(this._runFrame(1),this._complete())},_runFrame:function(e,s){var u=this._startPos.add(this._offset.multiplyBy(e));s&&u._round(),Pe(this._el,u),this.fire("step")},_complete:function(){ot(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),$t=Ft.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,s){s=C(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(Nt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Un&&Ht.any3d&&!Ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),te(this._proxy,ko,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),e=this._limitCenter(Nt(e),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=l({animate:u.animate},u.zoom),u.pan=l({animate:u.animate,duration:u.duration},u.pan));var p=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,s,u.zoom):this._tryAnimatedPan(e,u.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(e,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(e,s){return this._loaded?this.setView(this.getCenter(),e,{zoom:s}):(this._zoom=e,this)},zoomIn:function(e,s){return e=e||(Ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,s)},zoomOut:function(e,s){return e=e||(Ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,s)},setZoomAround:function(e,s,u){var p=this.getZoomScale(s),v=this.getSize().divideBy(2),P=e instanceof wt?e:this.latLngToContainerPoint(e),Z=P.subtract(v).multiplyBy(1-1/p),tt=this.containerPointToLatLng(v.add(Z));return this.setView(tt,s,{zoom:u})},_getBoundsCenterZoom:function(e,s){s=s||{},e=e.getBounds?e.getBounds():fe(e);var u=Dt(s.paddingTopLeft||s.padding||[0,0]),p=Dt(s.paddingBottomRight||s.padding||[0,0]),v=this.getBoundsZoom(e,!1,u.add(p));if(v=typeof s.maxZoom=="number"?Math.min(s.maxZoom,v):v,v===1/0)return{center:e.getCenter(),zoom:v};var P=p.subtract(u).divideBy(2),Z=this.project(e.getSouthWest(),v),tt=this.project(e.getNorthEast(),v),st=this.unproject(Z.add(tt).divideBy(2).add(P),v);return{center:st,zoom:v}},fitBounds:function(e,s){if(e=fe(e),!e.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(e,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,s){return this.setView(e,this._zoom,{pan:s})},panBy:function(e,s){if(e=Dt(e).round(),s=s||{},!e.x&&!e.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new we,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){ee(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,s,u){if(u=u||{},u.animate===!1||!Ht.any3d)return this.setView(e,s,u);this._stop();var p=this.project(this.getCenter()),v=this.project(e),P=this.getSize(),Z=this._zoom;e=Nt(e),s=s===void 0?Z:s;var tt=Math.max(P.x,P.y),st=tt*this.getZoomScale(Z,s),kt=v.distanceTo(p)||1,Bt=1.42,qt=Bt*Bt;function le(je){var zo=je?-1:1,uf=je?st:tt,hf=st*st-tt*tt+zo*qt*qt*kt*kt,df=2*uf*qt*kt,Xs=hf/df,tc=Math.sqrt(Xs*Xs+1)-Xs,ff=tc<1e-9?-18:Math.log(tc);return ff}function Ye(je){return(Math.exp(je)-Math.exp(-je))/2}function Ue(je){return(Math.exp(je)+Math.exp(-je))/2}function gn(je){return Ye(je)/Ue(je)}var nn=le(0);function ai(je){return tt*(Ue(nn)/Ue(nn+Bt*je))}function sf(je){return tt*(Ue(nn)*gn(nn+Bt*je)-Ye(nn))/qt}function af(je){return 1-Math.pow(1-je,1.5)}var lf=Date.now(),Xl=(le(1)-nn)/Bt,cf=u.duration?1e3*u.duration:1e3*Xl*.8;function Ql(){var je=(Date.now()-lf)/cf,zo=af(je)*Xl;je<=1?(this._flyToFrame=pt(Ql,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(sf(zo)/kt)),Z),this.getScaleZoom(tt/ai(zo),Z),{flyTo:!0})):this._move(e,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Ql.call(this),this},flyToBounds:function(e,s){var u=this._getBoundsCenterZoom(e,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(e){return e=fe(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var s=this.options.minZoom;return this.options.minZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var s=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,s){this._enforcingBounds=!0;var u=this.getCenter(),p=this._limitCenter(u,this._zoom,fe(e));return u.equals(p)||this.panTo(p,s),this._enforcingBounds=!1,this},panInside:function(e,s){s=s||{};var u=Dt(s.paddingTopLeft||s.padding||[0,0]),p=Dt(s.paddingBottomRight||s.padding||[0,0]),v=this.project(this.getCenter()),P=this.project(e),Z=this.getPixelBounds(),tt=Vt([Z.min.add(u),Z.max.subtract(p)]),st=tt.getSize();if(!tt.contains(P)){this._enforcingBounds=!0;var kt=P.subtract(tt.getCenter()),Bt=tt.extend(P).getSize().subtract(st);v.x+=kt.x<0?-Bt.x:Bt.x,v.y+=kt.y<0?-Bt.y:Bt.y,this.panTo(this.unproject(v),s),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=l({animate:!1,pan:!0},e===!0?{animate:!0}:e);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),p=s.divideBy(2).round(),v=u.divideBy(2).round(),P=p.subtract(v);return!P.x&&!P.y?this:(e.animate&&e.pan?this.panBy(P):(e.pan&&this._rawPanBy(P),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=l({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=h(this._handleGeolocationResponse,this),u=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,e):navigator.geolocation.getCurrentPosition(s,u,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var s=e.code,u=e.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var s=e.coords.latitude,u=e.coords.longitude,p=new ie(s,u),v=p.toBounds(e.coords.accuracy*2),P=this._locateOptions;if(P.setView){var Z=this.getBoundsZoom(v);this.setView(p,P.maxZoom?Math.min(Z,P.maxZoom):Z)}var tt={latlng:p,bounds:v,timestamp:e.timestamp};for(var st in e.coords)typeof e.coords[st]=="number"&&(tt[st]=e.coords[st]);this.fire("locationfound",tt)}},addHandler:function(e,s){if(!s)return this;var u=this[e]=new s(this);return this._handlers.push(u),this.options[e]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ot(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Me(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,s){var u="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),p=ue("div",u,s||this._mapPane);return e&&(this._panes[e]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),s=this.unproject(e.getBottomLeft()),u=this.unproject(e.getTopRight());return new Le(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,s,u){e=fe(e),u=Dt(u||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),P=this.getMaxZoom(),Z=e.getNorthWest(),tt=e.getSouthEast(),st=this.getSize().subtract(u),kt=Vt(this.project(tt,p),this.project(Z,p)).getSize(),Bt=Ht.any3d?this.options.zoomSnap:1,qt=st.x/kt.x,le=st.y/kt.y,Ye=s?Math.max(qt,le):Math.min(qt,le);return p=this.getScaleZoom(Ye,p),Bt&&(p=Math.round(p/(Bt/100))*(Bt/100),p=s?Math.ceil(p/Bt)*Bt:Math.floor(p/Bt)*Bt),Math.max(v,Math.min(P,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new wt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,s){var u=this._getTopLeftPoint(e,s);return new At(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(e)/u.scale(s)},getScaleZoom:function(e,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var p=u.zoom(e*u.scale(s));return isNaN(p)?1/0:p},project:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(Nt(e),s)},unproject:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Dt(e),s)},layerPointToLatLng:function(e){var s=Dt(e).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(e){var s=this.project(Nt(e))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Nt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(fe(e))},distance:function(e,s){return this.options.crs.distance(Nt(e),Nt(s))},containerPointToLayerPoint:function(e){return Dt(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Dt(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var s=this.containerPointToLayerPoint(Dt(e));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Nt(e)))},mouseEventToContainerPoint:function(e){return ut(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var s=this._container=Lo(e);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");te(s,"scroll",this._onScroll,this),this._containerId=m(s)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ht.any3d,ee(e,"leaflet-container"+(Ht.touch?" leaflet-touch":"")+(Ht.retina?" leaflet-retina":"")+(Ht.ielt9?" leaflet-oldie":"")+(Ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=sr(e,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pe(this._mapPane,new wt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ee(e.markerPane,"leaflet-zoom-hide"),ee(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,s,u){Pe(this._mapPane,new wt(0,0));var p=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var v=this._zoom!==s;this._moveStart(v,u)._move(e,s)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(e,s){return e&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(e,s,u,p){s===void 0&&(s=this._zoom);var v=this._zoom!==s;return this._zoom=s,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),p?u&&u.pinch&&this.fire("zoom",u):((v||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ot(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Pe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[m(this._container)]=this;var s=e?a:te;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Ht.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ot(this._resizeRequest),this._resizeRequest=pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,s){for(var u=[],p,v=s==="mouseout"||s==="mouseover",P=e.target||e.srcElement,Z=!1;P;){if(p=this._targets[m(P)],p&&(s==="click"||s==="preclick")&&this._draggableMoved(p)){Z=!0;break}if(p&&p.listens(s,!0)&&(v&&!Ut(P,e)||(u.push(p),v))||P===this._container)break;P=P.parentNode}return!u.length&&!Z&&!v&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var s=e.target||e.srcElement;if(!(!this._loaded||s._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(s))){var u=e.type;u==="mousedown"&&zi(s),this._fireDOMEvent(e,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,s,u){if(e.type==="click"){var p=l({},e);p.type="preclick",this._fireDOMEvent(p,p.type,u)}var v=this._findEventTargets(e,s);if(u){for(var P=[],Z=0;Z<u.length;Z++)u[Z].listens(s,!0)&&P.push(u[Z]);v=P.concat(v)}if(v.length){s==="contextmenu"&&U(e);var tt=v[0],st={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var kt=tt.getLatLng&&(!tt._radius||tt._radius<=10);st.containerPoint=kt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(e),st.layerPoint=this.containerPointToLayerPoint(st.containerPoint),st.latlng=kt?tt.getLatLng():this.layerPointToLatLng(st.layerPoint)}for(Z=0;Z<v.length;Z++)if(v[Z].fire(s,st,!0),st.originalEvent._stopped||v[Z].options.bubblingMouseEvents===!1&&M(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,s=this._handlers.length;e<s;e++)this._handlers[e].disable()},whenReady:function(e,s){return this._loaded?e.call(s||this,{target:this}):this.on("load",e,s),this},_getMapPanePos:function(){return fn(this._mapPane)||new wt(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,s){var u=e&&s!==void 0?this._getNewPixelOrigin(e,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,s){var u=this.getSize()._divideBy(2);return this.project(e,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,s,u){var p=this._getNewPixelOrigin(u,s);return this.project(e,s)._subtract(p)},_latLngBoundsToNewLayerBounds:function(e,s,u){var p=this._getNewPixelOrigin(u,s);return Vt([this.project(e.getSouthWest(),s)._subtract(p),this.project(e.getNorthWest(),s)._subtract(p),this.project(e.getSouthEast(),s)._subtract(p),this.project(e.getNorthEast(),s)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,s,u){if(!u)return e;var p=this.project(e,s),v=this.getSize().divideBy(2),P=new At(p.subtract(v),p.add(v)),Z=this._getBoundsOffset(P,u,s);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?e:this.unproject(p.add(Z),s)},_limitOffset:function(e,s){if(!s)return e;var u=this.getPixelBounds(),p=new At(u.min.add(e),u.max.add(e));return e.add(this._getBoundsOffset(p,s))},_getBoundsOffset:function(e,s,u){var p=Vt(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),v=p.min.subtract(e.min),P=p.max.subtract(e.max),Z=this._rebound(v.x,-P.x),tt=this._rebound(v.y,-P.y);return new wt(Z,tt)},_rebound:function(e,s){return e+s>0?Math.round(e-s)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(s))},_limitZoom:function(e){var s=this.getMinZoom(),u=this.getMaxZoom(),p=Ht.any3d?this.options.zoomSnap:1;return p&&(e=Math.round(e/p)*p),Math.max(s,Math.min(u,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,s){var u=this._getCenterOffset(e)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var e=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(s){var u=Jr,p=this._proxy.style[u];Bn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),p===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),s=this.getZoom();Bn(this._proxy,this.project(e,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(s),v=this._getCenterOffset(e)._divideBy(1-1/p);return u.animate!==!0&&!this.getSize().contains(v)?!1:(pt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(e,s,!0)},this),!0)},_animateZoom:function(e,s,u,p){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=s,ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:s,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function xe(e,s){return new $t(e,s)}var Ce=Lt.extend({options:{position:"topright"},initialize:function(e){C(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var s=this._map;return s&&s.removeControl(this),this.options.position=e,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var s=this._container=this.onAdd(e),u=this.getPosition(),p=e._controlCorners[u];return ee(s,"leaflet-control"),u.indexOf("bottom")!==-1?p.insertBefore(s,p.firstChild):p.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),$e=function(e){return new Ce(e)};$t.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},s="leaflet-",u=this._controlContainer=ue("div",s+"control-container",this._container);function p(v,P){var Z=s+v+" "+s+P;e[v+P]=ue("div",Z,u)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Me(this._controlCorners[e]);Me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kn=Ce.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,s,u,p){return u<p?-1:p<u?1:0}},initialize:function(e,s,u){C(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in e)this._addLayer(e[p],p);for(p in s)this._addLayer(s[p],p,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ce.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,s){return this._addLayer(e,s),this._map?this._update():this},addOverlay:function(e,s){return this._addLayer(e,s,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var s=this._getLayer(m(e));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Ae(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",s=this._container=ue("div",e),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),F(s),$(s);var p=this._section=ue("section",e+"-list");u&&(this._map.on("click",this.collapse,this),te(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=ue("a",e+"-toggle",s);v.href="#",v.title="Layers",v.setAttribute("role","button"),te(v,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){U(P),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ue("div",e+"-base",p),this._separator=ue("div",e+"-separator",p),this._overlaysList=ue("div",e+"-overlays",p),s.appendChild(p)},_getLayer:function(e){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&m(this._layers[s].layer)===e)return this._layers[s]},_addLayer:function(e,s,u){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(h(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Sr(this._baseLayersList),Sr(this._overlaysList),this._layerControlInputs=[];var e,s,u,p,v=0;for(u=0;u<this._layers.length;u++)p=this._layers[u],this._addItem(p),s=s||p.overlay,e=e||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(e=e&&v>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=s&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var s=this._getLayer(m(e.target)),u=s.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(e,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(s?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=u,p.firstChild},_addItem:function(e){var s=document.createElement("label"),u=this._map.hasLayer(e.layer),p;e.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=u):p=this._createRadioElement("leaflet-base-layers_"+m(this),u),this._layerControlInputs.push(p),p.layerId=m(e.layer),te(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+e.name;var P=document.createElement("span");s.appendChild(P),P.appendChild(p),P.appendChild(v);var Z=e.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,s,u,p=[],v=[];this._handlingClick=!0;for(var P=e.length-1;P>=0;P--)s=e[P],u=this._getLayer(s.layerId).layer,s.checked?p.push(u):s.checked||v.push(u);for(P=0;P<v.length;P++)this._map.hasLayer(v[P])&&this._map.removeLayer(v[P]);for(P=0;P<p.length;P++)this._map.hasLayer(p[P])||this._map.addLayer(p[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,s,u,p=this._map.getZoom(),v=e.length-1;v>=0;v--)s=e[v],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&p<u.options.minZoom||u.options.maxZoom!==void 0&&p>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,te(e,"click",U),this.expand();var s=this;setTimeout(function(){a(e,"click",U),s._preventClick=!1})}}),Mo=function(e,s,u){return new kn(e,s,u)},Ar=Ce.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var s="leaflet-control-zoom",u=ue("div",s+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,s,u,p,v){var P=ue("a",u,p);return P.innerHTML=e,P.href="#",P.title=s,P.setAttribute("role","button"),P.setAttribute("aria-label",s),F(P),te(P,"click",X),te(P,"click",v,this),te(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var e=this._map,s="leaflet-disabled";Ae(this._zoomInButton,s),Ae(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ee(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ee(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ar,this.addControl(this.zoomControl))});var qn=function(e){return new Ar(e)},Hi=Ce.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var s="leaflet-control-scale",u=ue("div",s),p=this.options;return this._addScales(p,s+"-line",u),e.on(p.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),u},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,s,u){e.metric&&(this._mScale=ue("div",s,u)),e.imperial&&(this._iScale=ue("div",s,u))},_update:function(){var e=this._map,s=e.getSize().y/2,u=e.distance(e.containerPointToLatLng([0,s]),e.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var s=this._getRoundNum(e),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/e)},_updateImperial:function(e){var s=e*3.2808399,u,p,v;s>5280?(u=s/5280,p=this._getRoundNum(u),this._updateScale(this._iScale,p+" mi",p/u)):(v=this._getRoundNum(s),this._updateScale(this._iScale,v+" ft",v/s))},_updateScale:function(e,s,u){e.style.width=Math.round(this.options.maxWidth*u)+"px",e.innerHTML=s},_getRoundNum:function(e){var s=Math.pow(10,(Math.floor(e)+"").length-1),u=e/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),Co=function(e){return new Hi(e)},Vs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Br=Ce.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ht.inlineSvg?Vs+" ":"")+"Leaflet</a>"},initialize:function(e){C(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),F(this._container);for(var s in e._layers)e._layers[s].getAttribution&&this.addAttribution(e._layers[s].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var s in this._attributions)this._attributions[s]&&e.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),e.length&&u.push(e.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new Br().addTo(this)});var $s=function(e){return new Br(e)};Ce.Layers=kn,Ce.Zoom=Ar,Ce.Scale=Hi,Ce.Attribution=Br,$e.layers=Mo,$e.zoom=qn,$e.scale=Co,$e.attribution=$s;var pn=Lt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pn.addTo=function(e,s){return e.addHandler(s,this),this};var Sd={Events:Ct},kl=Ht.touch?"touchstart mousedown":"mousedown",lr=Ft.extend({options:{clickTolerance:3},initialize:function(e,s,u,p){C(this,p),this._element=e,this._dragStartTarget=s||e,this._preventOutline=u},enable:function(){this._enabled||(te(this._dragStartTarget,kl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lr._dragging===this&&this.finishDrag(!0),a(this._dragStartTarget,kl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Yr(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){lr._dragging===this&&this.finishDrag();return}if(!(lr._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(lr._dragging=this,this._preventOutline&&zi(this._element),Rr(),Tr(),!this._moving)){this.fire("down");var s=e.touches?e.touches[0]:e,u=ei(this._element);this._startPoint=new wt(s.clientX,s.clientY),this._startPos=fn(this._element),this._parentScale=Ni(u);var p=e.type==="mousedown";te(document,p?"mousemove":"touchmove",this._onMove,this),te(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var s=e.touches&&e.touches.length===1?e.touches[0]:e,u=new wt(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,U(e),this._moved||(this.fire("dragstart"),this._moved=!0,ee(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Pe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Ae(document.body,"leaflet-dragging"),this._lastTarget&&(Ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),a(document,"mousemove touchmove",this._onMove,this),a(document,"mouseup touchend touchcancel",this._onUp,this),ji(),Or();var s=this._moved&&this._moving;this._moving=!1,lr._dragging=!1,s&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Ll(e,s,u){var p,v=[1,4,2,8],P,Z,tt,st,kt,Bt,qt,le;for(P=0,Bt=e.length;P<Bt;P++)e[P]._code=Ir(e[P],s);for(tt=0;tt<4;tt++){for(qt=v[tt],p=[],P=0,Bt=e.length,Z=Bt-1;P<Bt;Z=P++)st=e[P],kt=e[Z],st._code&qt?kt._code&qt||(le=Po(kt,st,qt,s,u),le._code=Ir(le,s),p.push(le)):(kt._code&qt&&(le=Po(kt,st,qt,s,u),le._code=Ir(le,s),p.push(le)),p.push(st));e=p}return e}function Ml(e,s){var u,p,v,P,Z,tt,st,kt,Bt;if(!e||e.length===0)throw new Error("latlngs not passed");mn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var qt=Nt([0,0]),le=fe(e),Ye=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());Ye<1700&&(qt=Us(e));var Ue=e.length,gn=[];for(u=0;u<Ue;u++){var nn=Nt(e[u]);gn.push(s.project(Nt([nn.lat-qt.lat,nn.lng-qt.lng])))}for(tt=st=kt=0,u=0,p=Ue-1;u<Ue;p=u++)v=gn[u],P=gn[p],Z=v.y*P.x-P.y*v.x,st+=(v.x+P.x)*Z,kt+=(v.y+P.y)*Z,tt+=Z*3;tt===0?Bt=gn[0]:Bt=[st/tt,kt/tt];var ai=s.unproject(Dt(Bt));return Nt([ai.lat+qt.lat,ai.lng+qt.lng])}function Us(e){for(var s=0,u=0,p=0,v=0;v<e.length;v++){var P=Nt(e[v]);s+=P.lat,u+=P.lng,p++}return Nt([s/p,u/p])}var Ed={__proto__:null,clipPolygon:Ll,polygonCenter:Ml,centroid:Us};function Cl(e,s){if(!s||!e.length)return e.slice();var u=s*s;return e=Rd(e,u),e=Od(e,u),e}function Pl(e,s,u){return Math.sqrt(Fi(e,s,u,!0))}function Td(e,s,u){return Fi(e,s,u)}function Od(e,s){var u=e.length,p=typeof Uint8Array!=void 0+""?Uint8Array:Array,v=new p(u);v[0]=v[u-1]=1,Gs(e,v,s,0,u-1);var P,Z=[];for(P=0;P<u;P++)v[P]&&Z.push(e[P]);return Z}function Gs(e,s,u,p,v){var P=0,Z,tt,st;for(tt=p+1;tt<=v-1;tt++)st=Fi(e[tt],e[p],e[v],!0),st>P&&(Z=tt,P=st);P>u&&(s[Z]=1,Gs(e,s,u,p,Z),Gs(e,s,u,Z,v))}function Rd(e,s){for(var u=[e[0]],p=1,v=0,P=e.length;p<P;p++)Ad(e[p],e[v])>s&&(u.push(e[p]),v=p);return v<P-1&&u.push(e[P-1]),u}var Sl;function El(e,s,u,p,v){var P=p?Sl:Ir(e,u),Z=Ir(s,u),tt,st,kt;for(Sl=Z;;){if(!(P|Z))return[e,s];if(P&Z)return!1;tt=P||Z,st=Po(e,s,tt,u,v),kt=Ir(st,u),tt===P?(e=st,P=kt):(s=st,Z=kt)}}function Po(e,s,u,p,v){var P=s.x-e.x,Z=s.y-e.y,tt=p.min,st=p.max,kt,Bt;return u&8?(kt=e.x+P*(st.y-e.y)/Z,Bt=st.y):u&4?(kt=e.x+P*(tt.y-e.y)/Z,Bt=tt.y):u&2?(kt=st.x,Bt=e.y+Z*(st.x-e.x)/P):u&1&&(kt=tt.x,Bt=e.y+Z*(tt.x-e.x)/P),new wt(kt,Bt,v)}function Ir(e,s){var u=0;return e.x<s.min.x?u|=1:e.x>s.max.x&&(u|=2),e.y<s.min.y?u|=4:e.y>s.max.y&&(u|=8),u}function Ad(e,s){var u=s.x-e.x,p=s.y-e.y;return u*u+p*p}function Fi(e,s,u,p){var v=s.x,P=s.y,Z=u.x-v,tt=u.y-P,st=Z*Z+tt*tt,kt;return st>0&&(kt=((e.x-v)*Z+(e.y-P)*tt)/st,kt>1?(v=u.x,P=u.y):kt>0&&(v+=Z*kt,P+=tt*kt)),Z=e.x-v,tt=e.y-P,p?Z*Z+tt*tt:new wt(v,P)}function mn(e){return!H(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Tl(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(e)}function Ol(e,s){var u,p,v,P,Z,tt,st,kt;if(!e||e.length===0)throw new Error("latlngs not passed");mn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Bt=Nt([0,0]),qt=fe(e),le=qt.getNorthWest().distanceTo(qt.getSouthWest())*qt.getNorthEast().distanceTo(qt.getNorthWest());le<1700&&(Bt=Us(e));var Ye=e.length,Ue=[];for(u=0;u<Ye;u++){var gn=Nt(e[u]);Ue.push(s.project(Nt([gn.lat-Bt.lat,gn.lng-Bt.lng])))}for(u=0,p=0;u<Ye-1;u++)p+=Ue[u].distanceTo(Ue[u+1])/2;if(p===0)kt=Ue[0];else for(u=0,P=0;u<Ye-1;u++)if(Z=Ue[u],tt=Ue[u+1],v=Z.distanceTo(tt),P+=v,P>p){st=(P-p)/v,kt=[tt.x-st*(tt.x-Z.x),tt.y-st*(tt.y-Z.y)];break}var nn=s.unproject(Dt(kt));return Nt([nn.lat+Bt.lat,nn.lng+Bt.lng])}var Bd={__proto__:null,simplify:Cl,pointToSegmentDistance:Pl,closestPointOnSegment:Td,clipSegment:El,_getEdgeIntersection:Po,_getBitCode:Ir,_sqClosestPointOnSegment:Fi,isFlat:mn,_flat:Tl,polylineCenter:Ol},Zs={project:function(e){return new wt(e.lng,e.lat)},unproject:function(e){return new ie(e.y,e.x)},bounds:new At([-180,-90],[180,90])},qs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new At([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var s=Math.PI/180,u=this.R,p=e.lat*s,v=this.R_MINOR/u,P=Math.sqrt(1-v*v),Z=P*Math.sin(p),tt=Math.tan(Math.PI/4-p/2)/Math.pow((1-Z)/(1+Z),P/2);return p=-u*Math.log(Math.max(tt,1e-10)),new wt(e.lng*s*u,p)},unproject:function(e){for(var s=180/Math.PI,u=this.R,p=this.R_MINOR/u,v=Math.sqrt(1-p*p),P=Math.exp(-e.y/u),Z=Math.PI/2-2*Math.atan(P),tt=0,st=.1,kt;tt<15&&Math.abs(st)>1e-7;tt++)kt=v*Math.sin(Z),kt=Math.pow((1-kt)/(1+kt),v/2),st=Math.PI/2-2*Math.atan(P*kt)-Z,Z+=st;return new ie(Z*s,e.x*s/u)}},Id={__proto__:null,LonLat:Zs,Mercator:qs,SphericalMercator:jt},Dd=l({},Pt,{code:"EPSG:3395",projection:qs,transformation:function(){var e=.5/(Math.PI*qs.R);return V(e,.5,-e,.5)}()}),Rl=l({},Pt,{code:"EPSG:4326",projection:Zs,transformation:V(1/180,1,-1/180,.5)}),jd=l({},ht,{projection:Zs,transformation:V(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,s){var u=s.lng-e.lng,p=s.lat-e.lat;return Math.sqrt(u*u+p*p)},infinite:!0});ht.Earth=Pt,ht.EPSG3395=Dd,ht.EPSG3857=q,ht.EPSG900913=Y,ht.EPSG4326=Rl,ht.Simple=jd;var Ln=Ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[m(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[m(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var s=e.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var s=m(e);return this._layers[s]?this:(this._layers[s]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var s=m(e);return this._layers[s]?(this._loaded&&e.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return m(e)in this._layers},eachLayer:function(e,s){for(var u in this._layers)e.call(s,this._layers[u]);return this},_addLayers:function(e){e=e?H(e)?e:[e]:[];for(var s=0,u=e.length;s<u;s++)this.addLayer(e[s])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[m(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var s=m(e);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,s=-1/0,u=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;e=v.minZoom===void 0?e:Math.min(e,v.minZoom),s=v.maxZoom===void 0?s:Math.max(s,v.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=e===1/0?void 0:e,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ni=Ln.extend({initialize:function(e,s){C(this,s),this._layers={};var u,p;if(e)for(u=0,p=e.length;u<p;u++)this.addLayer(e[u])},addLayer:function(e){var s=this.getLayerId(e);return this._layers[s]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var s=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(e){var s=typeof e=="number"?e:this.getLayerId(e);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var s=Array.prototype.slice.call(arguments,1),u,p;for(u in this._layers)p=this._layers[u],p[e]&&p[e].apply(p,s);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,s){for(var u in this._layers)e.call(s,this._layers[u]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return m(e)}}),zd=function(e,s){return new ni(e,s)},Kn=ni.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),ni.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),ni.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Le;for(var s in this._layers){var u=this._layers[s];e.extend(u.getBounds?u.getBounds():u.getLatLng())}return e}}),Nd=function(e,s){return new Kn(e,s)},ri=Lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){C(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,s){var u=this._getIconUrl(e);if(!u){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(p,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(e,s){var u=this.options,p=u[s+"Size"];typeof p=="number"&&(p=[p,p]);var v=Dt(p),P=Dt(s==="shadow"&&u.shadowAnchor||u.iconAnchor||v&&v.divideBy(2,!0));e.className="leaflet-marker-"+s+" "+(u.className||""),P&&(e.style.marginLeft=-P.x+"px",e.style.marginTop=-P.y+"px"),v&&(e.style.width=v.x+"px",e.style.height=v.y+"px")},_createImg:function(e,s){return s=s||document.createElement("img"),s.src=e,s},_getIconUrl:function(e){return Ht.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Hd(e){return new ri(e)}var Vi=ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Vi.imagePath!="string"&&(Vi.imagePath=this._detectIconPath()),(this.options.imagePath||Vi.imagePath)+ri.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var s=function(u,p,v){var P=p.exec(u);return P&&P[v]};return e=s(e,/^url\((['"])?(.+)\1\)$/,2),e&&s(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ue("div","leaflet-default-icon-path",document.body),s=sr(e,"background-image")||sr(e,"backgroundImage");if(document.body.removeChild(e),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Al=pn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new lr(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ee(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var s=this._marker,u=s._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,P=fn(s._icon),Z=u.getPixelBounds(),tt=u.getPixelOrigin(),st=Vt(Z.min._subtract(tt).add(v),Z.max._subtract(tt).subtract(v));if(!st.contains(P)){var kt=Dt((Math.max(st.max.x,P.x)-st.max.x)/(Z.max.x-st.max.x)-(Math.min(st.min.x,P.x)-st.min.x)/(Z.min.x-st.min.x),(Math.max(st.max.y,P.y)-st.max.y)/(Z.max.y-st.max.y)-(Math.min(st.min.y,P.y)-st.min.y)/(Z.min.y-st.min.y)).multiplyBy(p);u.panBy(kt,{animate:!1}),this._draggable._newPos._add(kt),this._draggable._startPos._add(kt),Pe(s._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=pt(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(ot(this._panRequest),this._panRequest=pt(this._adjustPan.bind(this,e)))},_onDrag:function(e){var s=this._marker,u=s._shadow,p=fn(s._icon),v=s._map.layerPointToLatLng(p);u&&Pe(u,p),s._latlng=v,e.latlng=v,e.oldLatLng=this._oldLatLng,s.fire("move",e).fire("drag",e)},_onDragEnd:function(e){ot(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),So=Ln.extend({options:{icon:new Vi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,s){C(this,s),this._latlng=Nt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var s=this._latlng;return this._latlng=Nt(e),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=e.icon.createIcon(this._icon),p=!1;u!==this._icon&&(this._icon&&this._removeIcon(),p=!0,e.title&&(u.title=e.title),u.tagName==="IMG"&&(u.alt=e.alt||"")),ee(u,s),e.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&te(u,"focus",this._panOnFocus,this);var v=e.icon.createShadow(this._shadow),P=!1;v!==this._shadow&&(this._removeShadow(),P=!0),v&&(ee(v,s),v.alt=""),this._shadow=v,e.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&P&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&a(this._icon,"focus",this._panOnFocus,this),Me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Me(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Pe(this._icon,e),this._shadow&&Pe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Al)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Al(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&en(this._icon,e),this._shadow&&en(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var s=this.options.icon.options,u=s.iconSize?Dt(s.iconSize):Dt(0,0),p=s.iconAnchor?Dt(s.iconAnchor):Dt(0,0);e.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:u.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Fd(e,s){return new So(e,s)}var cr=Ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return C(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Eo=cr.extend({options:{fill:!0,radius:10},initialize:function(e,s){C(this,s),this._latlng=Nt(e),this._radius=this.options.radius},setLatLng:function(e){var s=this._latlng;return this._latlng=Nt(e),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var s=e&&e.radius||this._radius;return cr.prototype.setStyle.call(this,e),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,s=this._radiusY||e,u=this._clickTolerance(),p=[e+u,s+u];this._pxBounds=new At(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vd(e,s){return new Eo(e,s)}var Ks=Eo.extend({initialize:function(e,s,u){if(typeof s=="number"&&(s=l({},u,{radius:s})),C(this,s),this._latlng=Nt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Le(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:cr.prototype.setStyle,_project:function(){var e=this._latlng.lng,s=this._latlng.lat,u=this._map,p=u.options.crs;if(p.distance===Pt.distance){var v=Math.PI/180,P=this._mRadius/Pt.R/v,Z=u.project([s+P,e]),tt=u.project([s-P,e]),st=Z.add(tt).divideBy(2),kt=u.unproject(st).lat,Bt=Math.acos((Math.cos(P*v)-Math.sin(s*v)*Math.sin(kt*v))/(Math.cos(s*v)*Math.cos(kt*v)))/v;(isNaN(Bt)||Bt===0)&&(Bt=P/Math.cos(Math.PI/180*s)),this._point=st.subtract(u.getPixelOrigin()),this._radius=isNaN(Bt)?0:st.x-u.project([kt,e-Bt]).x,this._radiusY=st.y-Z.y}else{var qt=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(qt).x}this._updateBounds()}});function $d(e,s,u){return new Ks(e,s,u)}var Wn=cr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,s){C(this,s),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var s=1/0,u=null,p=Fi,v,P,Z=0,tt=this._parts.length;Z<tt;Z++)for(var st=this._parts[Z],kt=1,Bt=st.length;kt<Bt;kt++){v=st[kt-1],P=st[kt];var qt=p(e,v,P,!0);qt<s&&(s=qt,u=p(e,v,P))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ol(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,s){return s=s||this._defaultShape(),e=Nt(e),s.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Le,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var s=[],u=mn(e),p=0,v=e.length;p<v;p++)u?(s[p]=Nt(e[p]),this._bounds.extend(s[p])):s[p]=this._convertLatLngs(e[p]);return s},_project:function(){var e=new At;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),s=new wt(e,e);this._rawPxBounds&&(this._pxBounds=new At([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(e,s,u){var p=e[0]instanceof ie,v=e.length,P,Z;if(p){for(Z=[],P=0;P<v;P++)Z[P]=this._map.latLngToLayerPoint(e[P]),u.extend(Z[P]);s.push(Z)}else for(P=0;P<v;P++)this._projectLatlngs(e[P],s,u)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,p,v,P,Z,tt,st;for(u=0,v=0,P=this._rings.length;u<P;u++)for(st=this._rings[u],p=0,Z=st.length;p<Z-1;p++)tt=El(st[p],st[p+1],e,p,!0),tt&&(s[v]=s[v]||[],s[v].push(tt[0]),(tt[1]!==st[p+1]||p===Z-2)&&(s[v].push(tt[1]),v++))}},_simplifyPoints:function(){for(var e=this._parts,s=this.options.smoothFactor,u=0,p=e.length;u<p;u++)e[u]=Cl(e[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,s){var u,p,v,P,Z,tt,st=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(u=0,P=this._parts.length;u<P;u++)for(tt=this._parts[u],p=0,Z=tt.length,v=Z-1;p<Z;v=p++)if(!(!s&&p===0)&&Pl(e,tt[v],tt[p])<=st)return!0;return!1}});function Ud(e,s){return new Wn(e,s)}Wn._flat=Tl;var ii=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ml(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var s=Wn.prototype._convertLatLngs.call(this,e),u=s.length;return u>=2&&s[0]instanceof ie&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(e){Wn.prototype._setLatLngs.call(this,e),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,s=this.options.weight,u=new wt(s,s);if(e=new At(e.min.subtract(u),e.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,P;p<v;p++)P=Ll(this._rings[p],e,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var s=!1,u,p,v,P,Z,tt,st,kt;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(P=0,st=this._parts.length;P<st;P++)for(u=this._parts[P],Z=0,kt=u.length,tt=kt-1;Z<kt;tt=Z++)p=u[Z],v=u[tt],p.y>e.y!=v.y>e.y&&e.x<(v.x-p.x)*(e.y-p.y)/(v.y-p.y)+p.x&&(s=!s);return s||Wn.prototype._containsPoint.call(this,e,!0)}});function Gd(e,s){return new ii(e,s)}var Jn=Kn.extend({initialize:function(e,s){C(this,s),this._layers={},e&&this.addData(e)},addData:function(e){var s=H(e)?e:e.features,u,p,v;if(s){for(u=0,p=s.length;u<p;u++)v=s[u],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var P=this.options;if(P.filter&&!P.filter(e))return this;var Z=To(e,P);return Z?(Z.feature=Ao(e),Z.defaultOptions=Z.options,this.resetStyle(Z),P.onEachFeature&&P.onEachFeature(e,Z),this.addLayer(Z)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=l({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(s){this._setLayerStyle(s,e)},this)},_setLayerStyle:function(e,s){e.setStyle&&(typeof s=="function"&&(s=s(e.feature)),e.setStyle(s))}});function To(e,s){var u=e.type==="Feature"?e.geometry:e,p=u?u.coordinates:null,v=[],P=s&&s.pointToLayer,Z=s&&s.coordsToLatLng||Ws,tt,st,kt,Bt;if(!p&&!u)return null;switch(u.type){case"Point":return tt=Z(p),Bl(P,e,tt,s);case"MultiPoint":for(kt=0,Bt=p.length;kt<Bt;kt++)tt=Z(p[kt]),v.push(Bl(P,e,tt,s));return new Kn(v);case"LineString":case"MultiLineString":return st=Oo(p,u.type==="LineString"?0:1,Z),new Wn(st,s);case"Polygon":case"MultiPolygon":return st=Oo(p,u.type==="Polygon"?1:2,Z),new ii(st,s);case"GeometryCollection":for(kt=0,Bt=u.geometries.length;kt<Bt;kt++){var qt=To({geometry:u.geometries[kt],type:"Feature",properties:e.properties},s);qt&&v.push(qt)}return new Kn(v);case"FeatureCollection":for(kt=0,Bt=u.features.length;kt<Bt;kt++){var le=To(u.features[kt],s);le&&v.push(le)}return new Kn(v);default:throw new Error("Invalid GeoJSON object.")}}function Bl(e,s,u,p){return e?e(s,u):new So(u,p&&p.markersInheritOptions&&p)}function Ws(e){return new ie(e[1],e[0],e[2])}function Oo(e,s,u){for(var p=[],v=0,P=e.length,Z;v<P;v++)Z=s?Oo(e[v],s-1,u):(u||Ws)(e[v]),p.push(Z);return p}function Js(e,s){return e=Nt(e),e.alt!==void 0?[S(e.lng,s),S(e.lat,s),S(e.alt,s)]:[S(e.lng,s),S(e.lat,s)]}function Ro(e,s,u,p){for(var v=[],P=0,Z=e.length;P<Z;P++)v.push(s?Ro(e[P],mn(e[P])?0:s-1,u,p):Js(e[P],p));return!s&&u&&v.length>0&&v.push(v[0].slice()),v}function oi(e,s){return e.feature?l({},e.feature,{geometry:s}):Ao(s)}function Ao(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Ys={toGeoJSON:function(e){return oi(this,{type:"Point",coordinates:Js(this.getLatLng(),e)})}};So.include(Ys),Ks.include(Ys),Eo.include(Ys),Wn.include({toGeoJSON:function(e){var s=!mn(this._latlngs),u=Ro(this._latlngs,s?1:0,!1,e);return oi(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),ii.include({toGeoJSON:function(e){var s=!mn(this._latlngs),u=s&&!mn(this._latlngs[0]),p=Ro(this._latlngs,u?2:s?1:0,!0,e);return s||(p=[p]),oi(this,{type:(u?"Multi":"")+"Polygon",coordinates:p})}}),ni.include({toMultiPoint:function(e){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(e).geometry.coordinates)}),oi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(e){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(e);var u=s==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var P=v.toGeoJSON(e);if(u)p.push(P.geometry);else{var Z=Ao(P);Z.type==="FeatureCollection"?p.push.apply(p,Z.features):p.push(Z)}}}),u?oi(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Il(e,s){return new Jn(e,s)}var Zd=Il,Bo=Ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,s,u){this._url=e,this._bounds=fe(s),C(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Gn(this._image),this},bringToBack:function(){return this._map&&Zn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=fe(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",s=this._image=e?this._url:ue("img");if(ee(s,"leaflet-image-layer"),this._zoomAnimated&&ee(s,"leaflet-zoom-animated"),this.options.className&&ee(s,this.options.className),s.onselectstart=k,s.onmousemove=k,s.onload=h(this.fire,this,"load"),s.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(e){var s=this._map.getZoomScale(e.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Bn(this._image,u,s)},_reset:function(){var e=this._image,s=new At(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();Pe(e,s.min),e.style.width=u.x+"px",e.style.height=u.y+"px"},_updateOpacity:function(){en(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),qd=function(e,s,u){return new Bo(e,s,u)},Dl=Bo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",s=this._image=e?this._url:ue("video");if(ee(s,"leaflet-image-layer"),this._zoomAnimated&&ee(s,"leaflet-zoom-animated"),this.options.className&&ee(s,this.options.className),s.onselectstart=k,s.onmousemove=k,s.onloadeddata=h(this.fire,this,"load"),e){for(var u=s.getElementsByTagName("source"),p=[],v=0;v<u.length;v++)p.push(u[v].src);this._url=u.length>0?p:[s.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var Z=ue("source");Z.src=this._url[P],s.appendChild(Z)}}});function Kd(e,s,u){return new Dl(e,s,u)}var jl=Bo.extend({_initImage:function(){var e=this._image=this._url;ee(e,"leaflet-image-layer"),this._zoomAnimated&&ee(e,"leaflet-zoom-animated"),this.options.className&&ee(e,this.options.className),e.onselectstart=k,e.onmousemove=k}});function Wd(e,s,u){return new jl(e,s,u)}var Dn=Ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,s){e&&(e instanceof ie||H(e))?(this._latlng=Nt(e),C(this,s)):(C(this,e),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&en(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&en(this._container,1),this.bringToFront(),this.options.interactive&&(ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(en(this._container,0),this._removeTimeout=setTimeout(h(Me,void 0,this._container),200)):Me(this._container),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Nt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gn(this._container),this},bringToBack:function(){return this._map&&Zn(this._container),this},_prepareOpen:function(e){var s=this._source;if(!s._map)return!1;if(s instanceof Kn){s=null;var u=this._source._layers;for(var p in u)if(u[p]._map){s=u[p];break}if(!s)return!1;this._source=s}if(!e)if(s.getCenter)e=s.getCenter();else if(s.getLatLng)e=s.getLatLng();else if(s.getBounds)e=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")e.innerHTML=s;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),s=Dt(this.options.offset),u=this._getAnchor();this._zoomAnimated?Pe(this._container,e.add(u)):s=s.add(e).add(u);var p=this._containerBottom=-s.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(e,s,u,p){var v=s;return v instanceof e||(v=new e(p).setContent(s)),u&&v.setLatLng(u),v}}),Ln.include({_initOverlay:function(e,s,u,p){var v=u;return v instanceof e?(C(v,p),v._source=this):(v=s&&!p?s:new e(p,this),v.setContent(u)),v}});var Io=Dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Dn.prototype.openOn.call(this,e)},onAdd:function(e){Dn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof cr||this._source.on("preclick",z))},onRemove:function(e){Dn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof cr||this._source.off("preclick",z))},getEvents:function(){var e=Dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",s=this._container=ue("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ue("div",e+"-content-wrapper",s);if(this._contentNode=ue("div",e+"-content",u),F(s),$(this._contentNode),te(s,"contextmenu",z),this._tipContainer=ue("div",e+"-tip-container",s),this._tip=ue("div",e+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ue("a",e+"-close-button",s);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',te(p,"click",function(v){U(v),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,s=e.style;s.width="",s.whiteSpace="nowrap";var u=e.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var p=e.offsetHeight,v=this.options.maxHeight,P="leaflet-popup-scrolled";v&&p>v?(s.height=v+"px",ee(e,P)):Ae(e,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),u=this._getAnchor();Pe(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,s=parseInt(sr(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,p=this._containerWidth,v=new wt(this._containerLeft,-u-this._containerBottom);v._add(fn(this._container));var P=e.layerPointToContainerPoint(v),Z=Dt(this.options.autoPanPadding),tt=Dt(this.options.autoPanPaddingTopLeft||Z),st=Dt(this.options.autoPanPaddingBottomRight||Z),kt=e.getSize(),Bt=0,qt=0;P.x+p+st.x>kt.x&&(Bt=P.x+p-kt.x+st.x),P.x-Bt-tt.x<0&&(Bt=P.x-tt.x),P.y+u+st.y>kt.y&&(qt=P.y+u-kt.y+st.y),P.y-qt-tt.y<0&&(qt=P.y-tt.y),(Bt||qt)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([Bt,qt]))}},_getAnchor:function(){return Dt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jd=function(e,s){return new Io(e,s)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(e,s,u){return this._initOverlay(Io,e,s,u).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ln.include({bindPopup:function(e,s){return this._popup=this._initOverlay(Io,this._popup,e,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){X(e);var s=e.layer||e.target;if(this._popup._source===s&&!(s instanceof cr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=s,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Do=Dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Dn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Dn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Dn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",s=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var s,u,p=this._map,v=this._container,P=p.latLngToContainerPoint(p.getCenter()),Z=p.layerPointToContainerPoint(e),tt=this.options.direction,st=v.offsetWidth,kt=v.offsetHeight,Bt=Dt(this.options.offset),qt=this._getAnchor();tt==="top"?(s=st/2,u=kt):tt==="bottom"?(s=st/2,u=0):tt==="center"?(s=st/2,u=kt/2):tt==="right"?(s=0,u=kt/2):tt==="left"?(s=st,u=kt/2):Z.x<P.x?(tt="right",s=0,u=kt/2):(tt="left",s=st+(Bt.x+qt.x)*2,u=kt/2),e=e.subtract(Dt(s,u,!0)).add(Bt).add(qt),Ae(v,"leaflet-tooltip-right"),Ae(v,"leaflet-tooltip-left"),Ae(v,"leaflet-tooltip-top"),Ae(v,"leaflet-tooltip-bottom"),ee(v,"leaflet-tooltip-"+tt),Pe(v,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&en(this._container,e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(s)},_getAnchor:function(){return Dt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Yd=function(e,s){return new Do(e,s)};$t.include({openTooltip:function(e,s,u){return this._initOverlay(Do,e,s,u).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ln.include({bindTooltip:function(e,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Do,this._tooltip,e,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var s=e?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&(te(s,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),te(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var s=e.latlng,u,p;this._tooltip.options.sticky&&e.originalEvent&&(u=this._map.mouseEventToContainerPoint(e.originalEvent),p=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(s)}});var zl=ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var s=e&&e.tagName==="DIV"?e:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Sr(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var p=Dt(u.bgPos);s.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Xd(e){return new zl(e)}ri.Default=Vi;var $i=Ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){C(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Me(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof wt?e:new wt(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var s=this.getPane().children,u=-e(-1/0,1/0),p=0,v=s.length,P;p<v;p++)P=s[p].style.zIndex,s[p]!==this._container&&P&&(u=e(u,+P));isFinite(u)&&(this.options.zIndex=u+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ht.ielt9){en(this._container,this.options.opacity);var e=+new Date,s=!1,u=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var P=Math.min(1,(e-v.loaded)/200);en(v.el,P),P<1?s=!0:(v.active?u=!0:this._onOpaqueTile(v),v.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(ot(this._fadeFrame),this._fadeFrame=pt(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,s=this.options.maxZoom;if(e!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===e?(this._levels[u].el.style.zIndex=s-Math.abs(e-u),this._onUpdateLevel(u)):(Me(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var p=this._levels[e],v=this._map;return p||(p=this._levels[e]={},p.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=s,p.origin=v.project(v.unproject(v.getPixelOrigin()),e).round(),p.zoom=e,this._setZoomTransform(p,v.getCenter(),v.getZoom()),k(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var e,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)s=this._tiles[e],s.retain=s.current;for(e in this._tiles)if(s=this._tiles[e],s.current&&!s.active){var p=s.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var s in this._tiles)this._tiles[s].coords.z===e&&this._removeTile(s)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Me(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,s,u,p){var v=Math.floor(e/2),P=Math.floor(s/2),Z=u-1,tt=new wt(+v,+P);tt.z=+Z;var st=this._tileCoordsToKey(tt),kt=this._tiles[st];return kt&&kt.active?(kt.retain=!0,!0):(kt&&kt.loaded&&(kt.retain=!0),Z>p?this._retainParent(v,P,Z,p):!1)},_retainChildren:function(e,s,u,p){for(var v=2*e;v<2*e+2;v++)for(var P=2*s;P<2*s+2;P++){var Z=new wt(v,P);Z.z=u+1;var tt=this._tileCoordsToKey(Z),st=this._tiles[tt];if(st&&st.active){st.retain=!0;continue}else st&&st.loaded&&(st.retain=!0);u+1<p&&this._retainChildren(v,P,u+1,p)}},_resetView:function(e){var s=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var s=this.options;return s.minNativeZoom!==void 0&&e<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<e?s.maxNativeZoom:e},_setView:function(e,s,u,p){var v=Math.round(s);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var P=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||P)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(e),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(e,s)},_setZoomTransforms:function(e,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],e,s)},_setZoomTransform:function(e,s,u){var p=this._map.getZoomScale(u,e.zoom),v=e.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(s,u)).round();Ht.any3d?Bn(e.el,v,p):Pe(e.el,v)},_resetGrid:function(){var e=this._map,s=e.options.crs,u=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,s.wrapLng[0]],p).x/u.x),Math.ceil(e.project([0,s.wrapLng[1]],p).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([s.wrapLat[0],0],p).y/u.x),Math.ceil(e.project([s.wrapLat[1],0],p).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),p=s.getZoomScale(u,this._tileZoom),v=s.project(e,this._tileZoom).floor(),P=s.getSize().divideBy(p*2);return new At(v.subtract(P),v.add(P))},_update:function(e){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(e===void 0&&(e=s.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(e),v=this._pxBoundsToTileRange(p),P=v.getCenter(),Z=[],tt=this.options.keepBuffer,st=new At(v.getBottomLeft().subtract([tt,-tt]),v.getTopRight().add([tt,-tt]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var kt in this._tiles){var Bt=this._tiles[kt].coords;(Bt.z!==this._tileZoom||!st.contains(new wt(Bt.x,Bt.y)))&&(this._tiles[kt].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(e,u);return}for(var qt=v.min.y;qt<=v.max.y;qt++)for(var le=v.min.x;le<=v.max.x;le++){var Ye=new wt(le,qt);if(Ye.z=this._tileZoom,!!this._isValidTile(Ye)){var Ue=this._tiles[this._tileCoordsToKey(Ye)];Ue?Ue.current=!0:Z.push(Ye)}}if(Z.sort(function(nn,ai){return nn.distanceTo(P)-ai.distanceTo(P)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gn=document.createDocumentFragment();for(le=0;le<Z.length;le++)this._addTile(Z[le],gn);this._level.el.appendChild(gn)}}}},_isValidTile:function(e){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(e.x<u.min.x||e.x>u.max.x)||!s.wrapLat&&(e.y<u.min.y||e.y>u.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(e);return fe(this.options.bounds).overlaps(p)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var s=this._map,u=this.getTileSize(),p=e.scaleBy(u),v=p.add(u),P=s.unproject(p,e.z),Z=s.unproject(v,e.z);return[P,Z]},_tileCoordsToBounds:function(e){var s=this._tileCoordsToNwSe(e),u=new Le(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var s=e.split(":"),u=new wt(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(e){var s=this._tiles[e];s&&(Me(s.el),delete this._tiles[e],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ee(e,"leaflet-tile");var s=this.getTileSize();e.style.width=s.x+"px",e.style.height=s.y+"px",e.onselectstart=k,e.onmousemove=k,Ht.ielt9&&this.options.opacity<1&&en(e,this.options.opacity)},_addTile:function(e,s){var u=this._getTilePos(e),p=this._tileCoordsToKey(e),v=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(v),this.createTile.length<2&&pt(h(this._tileReady,this,e,null,v)),Pe(v,u),this._tiles[p]={el:v,coords:e,current:!0},s.appendChild(v),this.fire("tileloadstart",{tile:v,coords:e})},_tileReady:function(e,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:e});var p=this._tileCoordsToKey(e);u=this._tiles[p],u&&(u.loaded=+new Date,this._map._fadeAnimated?(en(u.el,0),ot(this._fadeFrame),this._fadeFrame=pt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(ee(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ht.ielt9||!this._map._fadeAnimated?pt(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var s=new wt(this._wrapX?y(e.x,this._wrapX):e.x,this._wrapY?y(e.y,this._wrapY):e.y);return s.z=e.z,s},_pxBoundsToTileRange:function(e){var s=this.getTileSize();return new At(e.min.unscaleBy(s).floor(),e.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Qd(e){return new $i(e)}var si=$i.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,s){this._url=e,s=C(this,s),s.detectRetina&&Ht.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,s){return this._url===e&&s===void 0&&(s=!0),this._url=e,s||this.redraw(),this},createTile:function(e,s){var u=document.createElement("img");return te(u,"load",h(this._tileOnLoad,this,s,u)),te(u,"error",h(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(e),u},getTileUrl:function(e){var s={r:Ht.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-e.y;this.options.tms&&(s.y=u),s["-y"]=u}return R(this._url,l(s,this.options))},_tileOnLoad:function(e,s){Ht.ielt9?setTimeout(h(e,this,null,s),0):e(null,s)},_tileOnError:function(e,s,u){var p=this.options.errorTileUrl;p&&s.getAttribute("src")!==p&&(s.src=p),e(u,s)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,p=this.options.zoomOffset;return u&&(e=s-e),e+p},_getSubdomain:function(e){var s=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var e,s;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(s=this._tiles[e].el,s.onload=k,s.onerror=k,!s.complete)){s.src=I;var u=this._tiles[e].coords;Me(s),delete this._tiles[e],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(e){var s=this._tiles[e];if(s)return s.el.setAttribute("src",I),$i.prototype._removeTile.call(this,e)},_tileReady:function(e,s,u){if(!(!this._map||u&&u.getAttribute("src")===I))return $i.prototype._tileReady.call(this,e,s,u)}});function Nl(e,s){return new si(e,s)}var Hl=si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,s){this._url=e;var u=l({},this.defaultWmsParams);for(var p in s)p in this.options||(u[p]=s[p]);s=C(this,s);var v=s.detectRetina&&Ht.retina?2:1,P=this.getTileSize();u.width=P.x*v,u.height=P.y*v,this.wmsParams=u},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,si.prototype.onAdd.call(this,e)},getTileUrl:function(e){var s=this._tileCoordsToNwSe(e),u=this._crs,p=Vt(u.project(s[0]),u.project(s[1])),v=p.min,P=p.max,Z=(this._wmsVersion>=1.3&&this._crs===Rl?[v.y,v.x,P.y,P.x]:[v.x,v.y,P.x,P.y]).join(","),tt=si.prototype.getTileUrl.call(this,e);return tt+G(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(e,s){return l(this.wmsParams,e),s||this.redraw(),this}});function tf(e,s){return new Hl(e,s)}si.WMS=Hl,Nl.wms=tf;var Yn=Ln.extend({options:{padding:.1},initialize:function(e){C(this,e),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,s){var u=this._map.getZoomScale(s,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,s),P=p.multiplyBy(-u).add(v).subtract(this._map._getNewPixelOrigin(e,s));Ht.any3d?Bn(this._container,P,u):Pe(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-e)).round();this._bounds=new At(u,u.add(s.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fl=Yn.extend({options:{tolerance:0},getEvents:function(){var e=Yn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");te(e,"mousemove",this._onMouseMove,this),te(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),te(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){ot(this._redrawRequest),delete this._ctx,Me(this._container),a(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var s in this._layers)e=this._layers[s],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var e=this._bounds,s=this._container,u=e.getSize(),p=Ht.retina?2:1;Pe(s,e.min),s.width=p*u.x,s.height=p*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",Ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[m(e)]=e;var s=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var s=e._order,u=s.next,p=s.prev;u?u.prev=p:this._drawLast=p,p?p.next=u:this._drawFirst=u,delete e._order,delete this._layers[m(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var s=e.options.dashArray.split(/[, ]+/),u=[],p,v;for(v=0;v<s.length;v++){if(p=Number(s[v]),isNaN(p))return;u.push(p)}e.options._dashArray=u}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||pt(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var s=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new At,this._redrawBounds.extend(e._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(e._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var s=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)e=p.layer,(!s||e._pxBounds&&e._pxBounds.intersects(s))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,s){if(this._drawing){var u,p,v,P,Z=e._parts,tt=Z.length,st=this._ctx;if(tt){for(st.beginPath(),u=0;u<tt;u++){for(p=0,v=Z[u].length;p<v;p++)P=Z[u][p],st[p?"lineTo":"moveTo"](P.x,P.y);s&&st.closePath()}this._fillStroke(st,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var s=e._point,u=this._ctx,p=Math.max(Math.round(e._radius),1),v=(Math.max(Math.round(e._radiusY),1)||p)/p;v!==1&&(u.save(),u.scale(1,v)),u.beginPath(),u.arc(s.x,s.y/v,p,0,Math.PI*2,!1),v!==1&&u.restore(),this._fillStroke(u,e)}},_fillStroke:function(e,s){var u=s.options;u.fill&&(e.globalAlpha=u.fillOpacity,e.fillStyle=u.fillColor||u.color,e.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(e.setLineDash&&e.setLineDash(s.options&&s.options._dashArray||[]),e.globalAlpha=u.opacity,e.lineWidth=u.weight,e.strokeStyle=u.color,e.lineCap=u.lineCap,e.lineJoin=u.lineJoin,e.stroke())},_onClick:function(e){for(var s=this._map.mouseEventToLayerPoint(e),u,p,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(s)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(u))&&(p=u);this._fireEvent(p?[p]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,s)}},_handleMouseOut:function(e){var s=this._hoveredLayer;s&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([s],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,s){if(!this._mouseHoverThrottled){for(var u,p,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(s)&&(p=u);p!==this._hoveredLayer&&(this._handleMouseOut(e),p&&(ee(this._container,"leaflet-interactive"),this._fireEvent([p],e,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,s,u){this._map._fireDOMEvent(s,u||s.type,e)},_bringToFront:function(e){var s=e._order;if(s){var u=s.next,p=s.prev;if(u)u.prev=p;else return;p?p.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(e)}},_bringToBack:function(e){var s=e._order;if(s){var u=s.next,p=s.prev;if(p)p.next=u;else return;u?u.prev=p:p&&(this._drawLast=p),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(e)}}});function Vl(e){return Ht.canvas?new Fl(e):null}var Ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ef={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var s=e._container=Ui("shape");ee(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",e._path=Ui("path"),s.appendChild(e._path),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){var s=e._container;this._container.appendChild(s),e.options.interactive&&e.addInteractiveTarget(s)},_removePath:function(e){var s=e._container;Me(s),e.removeInteractiveTarget(s),delete this._layers[m(e)]},_updateStyle:function(e){var s=e._stroke,u=e._fill,p=e.options,v=e._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(s||(s=e._stroke=Ui("stroke")),v.appendChild(s),s.weight=p.weight+"px",s.color=p.color,s.opacity=p.opacity,p.dashArray?s.dashStyle=H(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=p.lineCap.replace("butt","flat"),s.joinstyle=p.lineJoin):s&&(v.removeChild(s),e._stroke=null),p.fill?(u||(u=e._fill=Ui("fill")),v.appendChild(u),u.color=p.fillColor||p.color,u.opacity=p.fillOpacity):u&&(v.removeChild(u),e._fill=null)},_updateCircle:function(e){var s=e._point.round(),u=Math.round(e._radius),p=Math.round(e._radiusY||u);this._setPath(e,e._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+p+" 0,"+65535*360)},_setPath:function(e,s){e._path.v=s},_bringToFront:function(e){Gn(e._container)},_bringToBack:function(e){Zn(e._container)}},jo=Ht.vml?Ui:dt,Gi=Yn.extend({_initContainer:function(){this._container=jo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=jo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Me(this._container),a(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var e=this._bounds,s=e.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),Pe(u,e.min),u.setAttribute("viewBox",[e.min.x,e.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(e){var s=e._path=jo("path");e.options.className&&ee(s,e.options.className),e.options.interactive&&ee(s,"leaflet-interactive"),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Me(e._path),e.removeInteractiveTarget(e._path),delete this._layers[m(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var s=e._path,u=e.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(e,s){this._setPath(e,gt(e._parts,s))},_updateCircle:function(e){var s=e._point,u=Math.max(Math.round(e._radius),1),p=Math.max(Math.round(e._radiusY),1)||u,v="a"+u+","+p+" 0 1,0 ",P=e._empty()?"M0 0":"M"+(s.x-u)+","+s.y+v+u*2+",0 "+v+-u*2+",0 ";this._setPath(e,P)},_setPath:function(e,s){e._path.setAttribute("d",s)},_bringToFront:function(e){Gn(e._path)},_bringToBack:function(e){Zn(e._path)}});Ht.vml&&Gi.include(ef);function $l(e){return Ht.svg||Ht.vml?new Gi(e):null}$t.include({getRenderer:function(e){var s=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var s=this._paneRenderers[e];return s===void 0&&(s=this._createRenderer({pane:e}),this._paneRenderers[e]=s),s},_createRenderer:function(e){return this.options.preferCanvas&&Vl(e)||$l(e)}});var Ul=ii.extend({initialize:function(e,s){ii.prototype.initialize.call(this,this._boundsToLatLngs(e),s)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=fe(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function nf(e,s){return new Ul(e,s)}Gi.create=jo,Gi.pointsToPath=gt,Jn.geometryToLayer=To,Jn.coordsToLatLng=Ws,Jn.coordsToLatLngs=Oo,Jn.latLngToCoords=Js,Jn.latLngsToCoords=Ro,Jn.getFeature=oi,Jn.asFeature=Ao,$t.mergeOptions({boxZoom:!0});var Gl=pn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){a(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tr(),Rr(),this._startPoint=this._map.mouseEventToContainerPoint(e),te(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var s=new At(this._point,this._startPoint),u=s.getSize();Pe(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Me(this._box),Ae(this._container,"leaflet-crosshair")),Or(),ji(),a(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var s=new Le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",Gl),$t.mergeOptions({doubleClickZoom:!0});var Zl=pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var s=this._map,u=s.getZoom(),p=s.options.zoomDelta,v=e.originalEvent.shiftKey?u-p:u+p;s.options.doubleClickZoom==="center"?s.setZoom(v):s.setZoomAround(e.containerPoint,v)}});$t.addInitHook("addHandler","doubleClickZoom",Zl),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ql=pn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new lr(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ae(this._map._container,"leaflet-grab"),Ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=fe(this._map.options.maxBounds);this._offsetLimit=Vt(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,s){return e-(e-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;e.x<s.min.x&&(e.x=this._viscousLimit(e.x,s.min.x)),e.y<s.min.y&&(e.y=this._viscousLimit(e.y,s.min.y)),e.x>s.max.x&&(e.x=this._viscousLimit(e.x,s.max.x)),e.y>s.max.y&&(e.y=this._viscousLimit(e.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,s=Math.round(e/2),u=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-s+u)%e+s-u,P=(p+s+u)%e-s-u,Z=Math.abs(v+u)<Math.abs(P+u)?v:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(e){var s=this._map,u=s.options,p=!u.inertia||e.noInertia||this._times.length<2;if(s.fire("dragend",e),p)s.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,Z=u.easeLinearity,tt=v.multiplyBy(Z/P),st=tt.distanceTo([0,0]),kt=Math.min(u.inertiaMaxSpeed,st),Bt=tt.multiplyBy(kt/st),qt=kt/(u.inertiaDeceleration*Z),le=Bt.multiplyBy(-qt/2).round();!le.x&&!le.y?s.fire("moveend"):(le=s._limitOffset(le,s.options.maxBounds),pt(function(){s.panBy(le,{duration:qt,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",ql),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kl=pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),te(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),a(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,s=document.documentElement,u=e.scrollTop||s.scrollTop,p=e.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(p,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var s=this._panKeys={},u=this.keyCodes,p,v;for(p=0,v=u.left.length;p<v;p++)s[u.left[p]]=[-1*e,0];for(p=0,v=u.right.length;p<v;p++)s[u.right[p]]=[e,0];for(p=0,v=u.down.length;p<v;p++)s[u.down[p]]=[0,e];for(p=0,v=u.up.length;p<v;p++)s[u.up[p]]=[0,-1*e]},_setZoomDelta:function(e){var s=this._zoomKeys={},u=this.keyCodes,p,v;for(p=0,v=u.zoomIn.length;p<v;p++)s[u.zoomIn[p]]=e;for(p=0,v=u.zoomOut.length;p<v;p++)s[u.zoomOut[p]]=-e},_addHooks:function(){te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){a(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var s=e.keyCode,u=this._map,p;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(p=this._panKeys[s],e.shiftKey&&(p=Dt(p).multiplyBy(3)),u.options.maxBounds&&(p=u._limitOffset(Dt(p),u.options.maxBounds)),u.options.worldCopyJump){var v=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(p)));u.panTo(v)}else u.panBy(p)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;X(e)}}});$t.addInitHook("addHandler","keyboard",Kl),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wl=pn.extend({addHooks:function(){te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){a(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var s=Rt(e),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var p=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),p),X(e)},_performZoom:function(){var e=this._map,s=e.getZoom(),u=this._map.options.zoomSnap||0;e._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,P=u?Math.ceil(v/u)*u:v,Z=e._limitZoom(s+(this._delta>0?P:-P))-s;this._delta=0,this._startTime=null,Z&&(e.options.scrollWheelZoom==="center"?e.setZoom(s+Z):e.setZoomAround(this._lastMousePos,s+Z))}});$t.addInitHook("addHandler","scrollWheelZoom",Wl);var rf=600;$t.mergeOptions({tapHold:Ht.touchNative&&Ht.safari&&Ht.mobile,tapTolerance:15});var Jl=pn.extend({addHooks:function(){te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){a(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var s=e.touches[0];this._startPos=this._newPos=new wt(s.clientX,s.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(te(document,"touchend",U),te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),rf),te(document,"touchend touchcancel contextmenu",this._cancel,this),te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){a(document,"touchend",U),a(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),a(document,"touchend touchcancel contextmenu",this._cancel,this),a(document,"touchmove",this._onMove,this)},_onMove:function(e){var s=e.touches[0];this._newPos=new wt(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,s){var u=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});$t.addInitHook("addHandler","tapHold",Jl),$t.mergeOptions({touchZoom:Ht.touch,bounceAtZoomLimits:!0});var Yl=pn.extend({addHooks:function(){ee(this._map._container,"leaflet-touch-zoom"),te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),a(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var s=this._map;if(!(!e.touches||e.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(e.touches[0]),p=s.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(p)._divideBy(2))),this._startDist=u.distanceTo(p),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),te(document,"touchmove",this._onTouchMove,this),te(document,"touchend touchcancel",this._onTouchEnd,this),U(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(e.touches[0]),p=s.mouseEventToContainerPoint(e.touches[1]),v=u.distanceTo(p)/this._startDist;if(this._zoom=s.getScaleZoom(v,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&v<1||this._zoom>s.getMaxZoom()&&v>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var P=u._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&P.x===0&&P.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ot(this._animRequest);var Z=h(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pt(Z,this,!0),U(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ot(this._animRequest),a(document,"touchmove",this._onTouchMove,this),a(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",Yl),$t.BoxZoom=Gl,$t.DoubleClickZoom=Zl,$t.Drag=ql,$t.Keyboard=Kl,$t.ScrollWheelZoom=Wl,$t.TapHold=Jl,$t.TouchZoom=Yl,i.Bounds=At,i.Browser=Ht,i.CRS=ht,i.Canvas=Fl,i.Circle=Ks,i.CircleMarker=Eo,i.Class=Lt,i.Control=Ce,i.DivIcon=zl,i.DivOverlay=Dn,i.DomEvent=ne,i.DomUtil=Fs,i.Draggable=lr,i.Evented=Ft,i.FeatureGroup=Kn,i.GeoJSON=Jn,i.GridLayer=$i,i.Handler=pn,i.Icon=ri,i.ImageOverlay=Bo,i.LatLng=ie,i.LatLngBounds=Le,i.Layer=Ln,i.LayerGroup=ni,i.LineUtil=Bd,i.Map=$t,i.Marker=So,i.Mixin=Sd,i.Path=cr,i.Point=wt,i.PolyUtil=Ed,i.Polygon=ii,i.Polyline=Wn,i.Popup=Io,i.PosAnimation=we,i.Projection=Id,i.Rectangle=Ul,i.Renderer=Yn,i.SVG=Gi,i.SVGOverlay=jl,i.TileLayer=si,i.Tooltip=Do,i.Transformation=ae,i.Util=bt,i.VideoOverlay=Dl,i.bind=h,i.bounds=Vt,i.canvas=Vl,i.circle=$d,i.circleMarker=Vd,i.control=$e,i.divIcon=Xd,i.extend=l,i.featureGroup=Nd,i.geoJSON=Il,i.geoJson=Zd,i.gridLayer=Qd,i.icon=Hd,i.imageOverlay=qd,i.latLng=Nt,i.latLngBounds=fe,i.layerGroup=zd,i.map=xe,i.marker=Fd,i.point=Dt,i.polygon=Gd,i.polyline=Ud,i.popup=Jd,i.rectangle=nf,i.setOptions=C,i.stamp=m,i.svg=$l,i.svgOverlay=Wd,i.tileLayer=Nl,i.tooltip=Yd,i.transformation=V,i.version=o,i.videoOverlay=Kd;var of=window.L;i.noConflict=function(){return window.L=of,this},window.L=i})})($a,$a.exports);var kw=$a.exports;const Mn=xw(kw),Lw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Mw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Cw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",Pw={className:"bg-map-asserted bg-opacity-50 rounded-full",iconSize:[8,8],iconAnchor:[4,4]},Sw={className:"bg-map-collection-object bg-opacity-50 rounded-full",iconSize:[8,8],iconAnchor:[4,4]},Md={className:"bg-map-georeference bg-opacity-50 rounded-full",iconSize:[8,8],iconAnchor:[4,4]},Ew={className:"bg-map-type-material bg-opacity-50 rounded-full",iconSize:[8,8],iconAnchor:[4,4]},Tw=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:Pw,CollectionObject:Sw,Georeference:Md,TypeMaterial:Ew},Symbol.toStringTag,{value:"Module"})),Ow={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:.25},Rw={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:.25},Aw={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:.25},Bw={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:.25},bu=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:Ow,AssertedDistribution:Rw,CollectionObject:Aw,TypeMaterial:Bw},Symbol.toStringTag,{value:"Module"})),wu=["TypeMaterial","CollectionObject","AssertedDistribution","Georeference","Aggregate"],xu={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function ku(t){const n=t.map(i=>i.type);return n.sort((i,o)=>wu.indexOf(i)-wu.indexOf(o)),n[0]}const Iw=t=>({onEachFeature:(n,i)=>{const o=(n.properties.base||[]).map(c=>c.label).filter(Boolean);if(!o.length)return;const l=`
      <div class="max-h-32 overflow-y-auto text-xs">
        <ul>
        ${o.map(c=>`
              <li 
                class="py-2 last:border-0 truncate border-b"
                title="${c}"
              >
                ${c}
              </li>
              `).join("")}
        </ul>
      </div>`;i.pm.setOptions(xu),i.pm.disable(),i.bindPopup(l)},pointToLayer:(n,i)=>{const o=ku(n.properties.base),l=Tw[o]||Md,c=t.marker(i,{icon:t.divIcon(l)});return c.pm.setOptions(xu),c},style:n=>{var o;const i=ku((o=n.properties)==null?void 0:o.base);if(bu[i])return bu[i]}});(()=>{var t={9705:(o,l,c)=>{var h=c(1540);function f(m){var g=[1/0,1/0,-1/0,-1/0];return h.coordEach(m,function(y){g[0]>y[0]&&(g[0]=y[0]),g[1]>y[1]&&(g[1]=y[1]),g[2]<y[0]&&(g[2]=y[0]),g[3]<y[1]&&(g[3]=y[1])}),g}f.default=f,l.Z=f},4102:(o,l)=>{function c(E,R,H){H===void 0&&(H={});var M={type:"Feature"};return(H.id===0||H.id)&&(M.id=H.id),H.bbox&&(M.bbox=H.bbox),M.properties=R||{},M.geometry=E,M}function h(E,R,H){if(H===void 0&&(H={}),!E)throw new Error("coordinates is required");if(!Array.isArray(E))throw new Error("coordinates must be an Array");if(E.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!G(E[0])||!G(E[1]))throw new Error("coordinates must contain numbers");return c({type:"Point",coordinates:E},R,H)}function f(E,R,H){H===void 0&&(H={});for(var M=0,I=E;M<I.length;M++){var K=I[M];if(K.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var nt=0;nt<K[K.length-1].length;nt++)if(K[K.length-1][nt]!==K[0][nt])throw new Error("First and last Position are not equivalent.")}return c({type:"Polygon",coordinates:E},R,H)}function m(E,R,H){if(H===void 0&&(H={}),E.length<2)throw new Error("coordinates must be an array of two or more positions");return c({type:"LineString",coordinates:E},R,H)}function g(E,R){R===void 0&&(R={});var H={type:"FeatureCollection"};return R.id&&(H.id=R.id),R.bbox&&(H.bbox=R.bbox),H.features=E,H}function y(E,R,H){return H===void 0&&(H={}),c({type:"MultiLineString",coordinates:E},R,H)}function k(E,R,H){return H===void 0&&(H={}),c({type:"MultiPoint",coordinates:E},R,H)}function S(E,R,H){return H===void 0&&(H={}),c({type:"MultiPolygon",coordinates:E},R,H)}function j(E,R){R===void 0&&(R="kilometers");var H=l.factors[R];if(!H)throw new Error(R+" units is invalid");return E*H}function T(E,R){R===void 0&&(R="kilometers");var H=l.factors[R];if(!H)throw new Error(R+" units is invalid");return E/H}function C(E){return 180*(E%(2*Math.PI))/Math.PI}function G(E){return!isNaN(E)&&E!==null&&!Array.isArray(E)}Object.defineProperty(l,"__esModule",{value:!0}),l.earthRadius=63710088e-1,l.factors={centimeters:100*l.earthRadius,centimetres:100*l.earthRadius,degrees:l.earthRadius/111325,feet:3.28084*l.earthRadius,inches:39.37*l.earthRadius,kilometers:l.earthRadius/1e3,kilometres:l.earthRadius/1e3,meters:l.earthRadius,metres:l.earthRadius,miles:l.earthRadius/1609.344,millimeters:1e3*l.earthRadius,millimetres:1e3*l.earthRadius,nauticalmiles:l.earthRadius/1852,radians:1,yards:1.0936*l.earthRadius},l.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/l.earthRadius,yards:1.0936133},l.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},l.feature=c,l.geometry=function(E,R,H){switch(E){case"Point":return h(R).geometry;case"LineString":return m(R).geometry;case"Polygon":return f(R).geometry;case"MultiPoint":return k(R).geometry;case"MultiLineString":return y(R).geometry;case"MultiPolygon":return S(R).geometry;default:throw new Error(E+" is invalid")}},l.point=h,l.points=function(E,R,H){return H===void 0&&(H={}),g(E.map(function(M){return h(M,R)}),H)},l.polygon=f,l.polygons=function(E,R,H){return H===void 0&&(H={}),g(E.map(function(M){return f(M,R)}),H)},l.lineString=m,l.lineStrings=function(E,R,H){return H===void 0&&(H={}),g(E.map(function(M){return m(M,R)}),H)},l.featureCollection=g,l.multiLineString=y,l.multiPoint=k,l.multiPolygon=S,l.geometryCollection=function(E,R,H){return H===void 0&&(H={}),c({type:"GeometryCollection",geometries:E},R,H)},l.round=function(E,R){if(R===void 0&&(R=0),R&&!(R>=0))throw new Error("precision must be a positive number");var H=Math.pow(10,R||0);return Math.round(E*H)/H},l.radiansToLength=j,l.lengthToRadians=T,l.lengthToDegrees=function(E,R){return C(T(E,R))},l.bearingToAzimuth=function(E){var R=E%360;return R<0&&(R+=360),R},l.radiansToDegrees=C,l.degreesToRadians=function(E){return E%360*Math.PI/180},l.convertLength=function(E,R,H){if(R===void 0&&(R="kilometers"),H===void 0&&(H="kilometers"),!(E>=0))throw new Error("length must be a positive number");return j(T(E,R),H)},l.convertArea=function(E,R,H){if(R===void 0&&(R="meters"),H===void 0&&(H="kilometers"),!(E>=0))throw new Error("area must be a positive number");var M=l.areaFactors[R];if(!M)throw new Error("invalid original units");var I=l.areaFactors[H];if(!I)throw new Error("invalid final units");return E/M*I},l.isNumber=G,l.isObject=function(E){return!!E&&E.constructor===Object},l.validateBBox=function(E){if(!E)throw new Error("bbox is required");if(!Array.isArray(E))throw new Error("bbox must be an Array");if(E.length!==4&&E.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");E.forEach(function(R){if(!G(R))throw new Error("bbox must only contain numbers")})},l.validateId=function(E){if(!E)throw new Error("id is required");if(["string","number"].indexOf(typeof E)===-1)throw new Error("id must be a number or a string")}},1540:(o,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});var h=c(4102);function f(T,C,G){if(T!==null)for(var E,R,H,M,I,K,nt,J,et=0,ct=0,pt=T.type,ot=pt==="FeatureCollection",bt=pt==="Feature",Lt=ot?T.features.length:1,Et=0;Et<Lt;Et++){I=(J=!!(nt=ot?T.features[Et].geometry:bt?T.geometry:T)&&nt.type==="GeometryCollection")?nt.geometries.length:1;for(var Ct=0;Ct<I;Ct++){var Ft=0,wt=0;if((M=J?nt.geometries[Ct]:nt)!==null){K=M.coordinates;var de=M.type;switch(et=!G||de!=="Polygon"&&de!=="MultiPolygon"?0:1,de){case null:break;case"Point":if(C(K,ct,Et,Ft,wt)===!1)return!1;ct++,Ft++;break;case"LineString":case"MultiPoint":for(E=0;E<K.length;E++){if(C(K[E],ct,Et,Ft,wt)===!1)return!1;ct++,de==="MultiPoint"&&Ft++}de==="LineString"&&Ft++;break;case"Polygon":case"MultiLineString":for(E=0;E<K.length;E++){for(R=0;R<K[E].length-et;R++){if(C(K[E][R],ct,Et,Ft,wt)===!1)return!1;ct++}de==="MultiLineString"&&Ft++,de==="Polygon"&&wt++}de==="Polygon"&&Ft++;break;case"MultiPolygon":for(E=0;E<K.length;E++){for(wt=0,R=0;R<K[E].length;R++){for(H=0;H<K[E][R].length-et;H++){if(C(K[E][R][H],ct,Et,Ft,wt)===!1)return!1;ct++}wt++}Ft++}break;case"GeometryCollection":for(E=0;E<M.geometries.length;E++)if(f(M.geometries[E],C,G)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function m(T,C){var G;switch(T.type){case"FeatureCollection":for(G=0;G<T.features.length&&C(T.features[G].properties,G)!==!1;G++);break;case"Feature":C(T.properties,0)}}function g(T,C){if(T.type==="Feature")C(T,0);else if(T.type==="FeatureCollection")for(var G=0;G<T.features.length&&C(T.features[G],G)!==!1;G++);}function y(T,C){var G,E,R,H,M,I,K,nt,J,et,ct=0,pt=T.type==="FeatureCollection",ot=T.type==="Feature",bt=pt?T.features.length:1;for(G=0;G<bt;G++){for(I=pt?T.features[G].geometry:ot?T.geometry:T,nt=pt?T.features[G].properties:ot?T.properties:{},J=pt?T.features[G].bbox:ot?T.bbox:void 0,et=pt?T.features[G].id:ot?T.id:void 0,M=(K=!!I&&I.type==="GeometryCollection")?I.geometries.length:1,R=0;R<M;R++)if((H=K?I.geometries[R]:I)!==null)switch(H.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(C(H,ct,nt,J,et)===!1)return!1;break;case"GeometryCollection":for(E=0;E<H.geometries.length;E++)if(C(H.geometries[E],ct,nt,J,et)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(C(null,ct,nt,J,et)===!1)return!1;ct++}}function k(T,C){y(T,function(G,E,R,H,M){var I,K=G===null?null:G.type;switch(K){case null:case"Point":case"LineString":case"Polygon":return C(h.feature(G,R,{bbox:H,id:M}),E,0)!==!1&&void 0}switch(K){case"MultiPoint":I="Point";break;case"MultiLineString":I="LineString";break;case"MultiPolygon":I="Polygon"}for(var nt=0;nt<G.coordinates.length;nt++){var J={type:I,coordinates:G.coordinates[nt]};if(C(h.feature(J,R),E,nt)===!1)return!1}})}function S(T,C){k(T,function(G,E,R){var H=0;if(G.geometry){var M=G.geometry.type;if(M!=="Point"&&M!=="MultiPoint"){var I,K=0,nt=0,J=0;return f(G,function(et,ct,pt,ot,bt){if(I===void 0||E>K||ot>nt||bt>J)return I=et,K=E,nt=ot,J=bt,void(H=0);var Lt=h.lineString([I,et],G.properties);if(C(Lt,E,R,bt,H)===!1)return!1;H++,I=et})!==!1&&void 0}}})}function j(T,C){if(!T)throw new Error("geojson is required");k(T,function(G,E,R){if(G.geometry!==null){var H=G.geometry.type,M=G.geometry.coordinates;switch(H){case"LineString":if(C(G,E,R,0,0)===!1)return!1;break;case"Polygon":for(var I=0;I<M.length;I++)if(C(h.lineString(M[I],G.properties),E,R,I)===!1)return!1}}})}l.coordAll=function(T){var C=[];return f(T,function(G){C.push(G)}),C},l.coordEach=f,l.coordReduce=function(T,C,G,E){var R=G;return f(T,function(H,M,I,K,nt){R=M===0&&G===void 0?H:C(R,H,M,I,K,nt)},E),R},l.featureEach=g,l.featureReduce=function(T,C,G){var E=G;return g(T,function(R,H){E=H===0&&G===void 0?R:C(E,R,H)}),E},l.findPoint=function(T,C){if(C=C||{},!h.isObject(C))throw new Error("options is invalid");var G,E=C.featureIndex||0,R=C.multiFeatureIndex||0,H=C.geometryIndex||0,M=C.coordIndex||0,I=C.properties;switch(T.type){case"FeatureCollection":E<0&&(E=T.features.length+E),I=I||T.features[E].properties,G=T.features[E].geometry;break;case"Feature":I=I||T.properties,G=T.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":G=T;break;default:throw new Error("geojson is invalid")}if(G===null)return null;var K=G.coordinates;switch(G.type){case"Point":return h.point(K,I,C);case"MultiPoint":return R<0&&(R=K.length+R),h.point(K[R],I,C);case"LineString":return M<0&&(M=K.length+M),h.point(K[M],I,C);case"Polygon":return H<0&&(H=K.length+H),M<0&&(M=K[H].length+M),h.point(K[H][M],I,C);case"MultiLineString":return R<0&&(R=K.length+R),M<0&&(M=K[R].length+M),h.point(K[R][M],I,C);case"MultiPolygon":return R<0&&(R=K.length+R),H<0&&(H=K[R].length+H),M<0&&(M=K[R][H].length-M),h.point(K[R][H][M],I,C)}throw new Error("geojson is invalid")},l.findSegment=function(T,C){if(C=C||{},!h.isObject(C))throw new Error("options is invalid");var G,E=C.featureIndex||0,R=C.multiFeatureIndex||0,H=C.geometryIndex||0,M=C.segmentIndex||0,I=C.properties;switch(T.type){case"FeatureCollection":E<0&&(E=T.features.length+E),I=I||T.features[E].properties,G=T.features[E].geometry;break;case"Feature":I=I||T.properties,G=T.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":G=T;break;default:throw new Error("geojson is invalid")}if(G===null)return null;var K=G.coordinates;switch(G.type){case"Point":case"MultiPoint":return null;case"LineString":return M<0&&(M=K.length+M-1),h.lineString([K[M],K[M+1]],I,C);case"Polygon":return H<0&&(H=K.length+H),M<0&&(M=K[H].length+M-1),h.lineString([K[H][M],K[H][M+1]],I,C);case"MultiLineString":return R<0&&(R=K.length+R),M<0&&(M=K[R].length+M-1),h.lineString([K[R][M],K[R][M+1]],I,C);case"MultiPolygon":return R<0&&(R=K.length+R),H<0&&(H=K[R].length+H),M<0&&(M=K[R][H].length-M-1),h.lineString([K[R][H][M],K[R][H][M+1]],I,C)}throw new Error("geojson is invalid")},l.flattenEach=k,l.flattenReduce=function(T,C,G){var E=G;return k(T,function(R,H,M){E=H===0&&M===0&&G===void 0?R:C(E,R,H,M)}),E},l.geomEach=y,l.geomReduce=function(T,C,G){var E=G;return y(T,function(R,H,M,I,K){E=H===0&&G===void 0?R:C(E,R,H,M,I,K)}),E},l.lineEach=j,l.lineReduce=function(T,C,G){var E=G;return j(T,function(R,H,M,I){E=H===0&&G===void 0?R:C(E,R,H,M,I)}),E},l.propEach=m,l.propReduce=function(T,C,G){var E=G;return m(T,function(R,H){E=H===0&&G===void 0?R:C(E,R,H)}),E},l.segmentEach=S,l.segmentReduce=function(T,C,G){var E=G,R=!1;return S(T,function(H,M,I,K,nt){E=R===!1&&G===void 0?H:C(E,H,M,I,K,nt),R=!0}),E}},5975:(o,l,c)=>{c(7107);var h=c(2492),f=c.n(h);const m=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),g=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex lschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer lschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Lnge","segmentLength":"Segment Lnge","area":"Flche","radius":"Radius","perimeter":"Umfang","height":"Hhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),y=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),k=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),S=JSON.parse('{"tooltips":{"placeMarker":"Adaug un punct","firstVertex":"Apas aici pentru a aduga primul Vertex","continueLine":"Apas aici pentru a continua desenul","finishLine":"Apas pe orice obiect pentru a finisa desenul","finishPoly":"Apas pe primul obiect pentru a finisa","finishRect":"Apas pentru a finisa","startCircle":"Apas pentru a desena un cerc","finishCircle":"Apas pentru a finisa un cerc","placeCircleMarker":"Adaug un punct"},"actions":{"finish":"Termin","cancel":"Anuleaz","removeLastVertex":"terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug o bulin","drawPolyButton":"Deseneaz un poligon","drawLineButton":"Deseneaz o linie","drawCircleButton":"Deseneaz un cerc","drawRectButton":"Deseneaz un dreptunghi","editButton":"Editeaz straturile","dragButton":"Mut straturile","cutButton":"Taie straturile","deleteButton":"terge straturile","drawCircleMarkerButton":"Deseneaz marcatorul cercului","snappingButton":"Fixai marcatorul glisat pe alte straturi i vrfuri","pinningButton":"Fixai vrfurile partajate mpreun"}}'),j=JSON.parse('{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":"     ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   "}}'),T=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vrtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del crculo","finishCircle":"Presiona para finalizar el crculo","placeCircleMarker":"Presiona para colocar un marcador de crculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polgono","drawLineButton":"Dibujar Lnea","drawCircleButton":"Dibujar Crculo","drawRectButton":"Dibujar Rectngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Crculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vrtices","pinningButton":"Fijar juntos los vrtices compartidos"}}'),C=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beindigen","finishPoly":"Klik op het eerst punt om te beindigen","finishRect":"Klik om te beindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),G=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer  dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"diter des calques","dragButton":"Dplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"pingler ensemble les sommets partags","rotateButton":"Tourner des calques"}}`),E=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),R=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),H={en:m,de:g,it:y,id:k,ro:S,ru:j,es:T,nl:C,fr:G,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vrtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do crculo","finishCircle":"Clique para fechar o crculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um crculo","drawRectButton":"Desenhar um retngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de crculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vrtices","pinningButton":"Vrtices compartilhados de pinos juntos"}}'),zh:E,zh_tw:R,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi znacznik","firstVertex":"Kliknij, aby ustawi pierwszy punkt","continueLine":"Kliknij, aby kontynuowa rysowanie","finishLine":"Kliknij dowolny punkt, aby zakoczy","finishPoly":"Kliknij pierwszy punkt, aby zakoczy","finishRect":"Kliknij, aby zakoczy","startCircle":"Kliknij, aby ustawi rodek koa","finishCircle":"Kliknij, aby zakoczy rysowanie koa","placeCircleMarker":"Kliknij, aby ustawi okrgy znacznik"},"actions":{"finish":"Zakocz","cancel":"Anuluj","removeLastVertex":"Usu ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokt","drawLineButton":"Narysuj ciek","drawCircleButton":"Narysuj koo","drawRectButton":"Narysuj prostokt","editButton":"Edytuj","dragButton":"Przesu","cutButton":"Wytnij","deleteButton":"Usu","drawCircleMarkerButton":"Narysuj okrgy znacznik","snappingButton":"Snap przecignity marker na inne warstwy i wierzchoki","pinningButton":"Sworze wsplne wierzchoki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka fr att placera markr","firstVertex":"Klicka fr att placera frsta hrnet","continueLine":"Klicka fr att fortstta rita","finishLine":"Klicka p en existerande punkt fr att slutfra","finishPoly":"Klicka p den frsta punkten fr att slutfra","finishRect":"Klicka fr att slutfra","startCircle":"Klicka fr att placera cirkelns centrum","finishCircle":"Klicka fr att slutfra cirkeln","placeCircleMarker":"Klicka fr att placera cirkelmarkr"},"actions":{"finish":"Slutfr","cancel":"Avbryt","removeLastVertex":"Ta bort sista hrnet"},"buttonTitles":{"drawMarkerButton":"Rita Markr","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkr","snappingButton":"Snpp dra markren till andra lager och hrn","pinningButton":"Fst delade hrn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"     ","firstVertex":"       ","continueLine":"      ","finishLine":"        ","finishPoly":"       ","finishRect":"    ","startCircle":"      ","finishCircle":"      ","placeCircleMarker":"      "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"        ","pinningButton":"   "}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jell elhelyezshez","firstVertex":"Kattintson az els pont elhelyezshez","continueLine":"Kattintson a kvetkez pont elhelyezshez","finishLine":"A befejezshez kattintson egy meglv pontra","finishPoly":"A befejezshez kattintson az els pontra","finishRect":"Kattintson a befejezshez","startCircle":"Kattintson a kr kzppontjnak elhelyezshez","finishCircle":"Kattintson a kr befejezshez","placeCircleMarker":"Kattintson a krjell elhelyezshez"},"actions":{"finish":"Befejezs","cancel":"Mgse","removeLastVertex":"Utols pont eltvoltsa"},"buttonTitles":{"drawMarkerButton":"Jell rajzolsa","drawPolyButton":"Poligon rajzolsa","drawLineButton":"Vonal rajzolsa","drawCircleButton":"Kr rajzolsa","drawRectButton":"Ngyzet rajzolsa","editButton":"Elemek szerkesztse","dragButton":"Elemek mozgatsa","cutButton":"Elemek vgsa","deleteButton":"Elemek trlse","drawCircleMarkerButton":"Kr jell rajzolsa","snappingButton":"Kapcsolja a jelltt msik elemhez vagy ponthoz","pinningButton":"Kzs pontok sszektse"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markr","firstVertex":"Tryk for at placere det frste punkt","continueLine":"Tryk for at fortstte linjen","finishLine":"Tryk p et eksisterende punkt for at afslutte","finishPoly":"Tryk p det frste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkr"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markr","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Trk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkr","snappingButton":"Fastgr trukket markr til andre elementer","pinningButton":"Sammenlg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for  plassere punkt","firstVertex":"Klikk for  plassere frste punkt","continueLine":"Klikk for  tegne videre","finishLine":"Klikk p et eksisterende punkt for  fullfre","finishPoly":"Klikk frste punkt for  fullfre","finishRect":"Klikk for  fullfre","startCircle":"Klikk for  sette sirkel midtpunkt","finishCircle":"Klikk for  fullfre sirkel","placeCircleMarker":"Klikk for  plassere sirkel"},"actions":{"finish":"Fullfr","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"   ","firstVertex":"    ","continueLine":"   ","finishLine":"      ","finishPoly":"     ","finishRect":"  ","startCircle":"    ","finishCircle":"    ","placeCircleMarker":"    ","placeText":"   "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"      ","rotateButton":" ","drawTextButton":" "}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":" -    ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"'   "}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"areti yerletirmek iin tklayn","firstVertex":"lk tepe noktasn yerletirmek iin tklayn","continueLine":"izime devam etmek iin tklayn","finishLine":"Bitirmek iin mevcut herhangi bir iaretiyi tklayn","finishPoly":"Bitirmek iin ilk iaretiyi tklayn","finishRect":"Bitirmek iin tklayn","startCircle":"Daire merkezine yerletirmek iin tklayn","finishCircle":"Daireyi bitirmek iin tklayn","placeCircleMarker":"Daire iaretisi yerletirmek iin tklayn"},"actions":{"finish":"Bitir","cancel":"ptal","removeLastVertex":"Son keyi kaldr"},"buttonTitles":{"drawMarkerButton":"izim aretisi","drawPolyButton":"okgenler iz","drawLineButton":"oklu izgi iz","drawCircleButton":"ember iz","drawRectButton":"Dikdrtgen iz","editButton":"Katmanlar dzenle","dragButton":"Katmanlar srkle","cutButton":"Katmanlar kes","deleteButton":"Katmanlar kaldr","drawCircleMarkerButton":"Daire iaretisi iz","snappingButton":"Srklenen iaretiyi dier katmanlara ve kelere yaptr","pinningButton":"Paylalan keleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutm vytvote znaku","firstVertex":"Kliknutm vytvote prvn objekt","continueLine":"Kliknutm pokraujte v kreslen","finishLine":"Kliknut na libovolnou existujc znaku pro dokonen","finishPoly":"Vyberte prvn bod pro dokonen","finishRect":"Kliknte pro dokonen","startCircle":"Kliknutm pidejte sted kruhu","finishCircle":",   ","placeCircleMarker":"Kliknutm nastavte polomr"},"actions":{"finish":"Dokonit","cancel":"Zruit","removeLastVertex":"Zruit posledn akci"},"buttonTitles":{"drawMarkerButton":"Pidat znaku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit kivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdlnk","editButton":"Upravit vrstvu","dragButton":"Peneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Pidat kruhovou znaku","snappingButton":"Navzat tanou znaku k dalm vrstvm a vrcholm","pinningButton":"Spojit spolen body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":"","placeText":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":"","rotateButton":"","drawTextButton":""}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtmist","finishLine":"Klikkaa olemassa olevaa merkki lopettaaksesi","finishPoly":"Klikkaa ensimmist merkki lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrn keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrn","placeCircleMarker":"Klikkaa asettaaksesi ympyrmerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr merkkej","drawPolyButton":"Piirr monikulmioita","drawLineButton":"Piirr viivoja","drawCircleButton":"Piirr ympyr","drawRectButton":"Piirr neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr ympyrmerkki","snappingButton":"Kiinnit siirrettv merkki toisiin muotoihin","pinningButton":"Kiinnit jaetut muodot yhteen","rotateButton":"Knn","drawTextButton":"Piirr teksti"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"  ","firstVertex":"   ","continueLine":"  ","finishLine":"   ","finishPoly":"   ","finishRect":" ","startCircle":"    ","finishCircle":"  ","placeCircleMarker":"   ","placeText":"  "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   ","rotateButton":" ","drawTextButton":" "}}')};function M(r,a){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),d.push.apply(d,_)}return d}function I(r){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?M(Object(d),!0).forEach(function(_){K(r,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):M(Object(d)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(d,_))})}return r}function K(r,a,d){return a in r?Object.defineProperty(r,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[a]=d,r}const nt={_globalEditModeEnabled:!1,enableGlobalEditMode:function(r){var a=I({},r);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(d){d.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode:function(){var r=this._addedLayers;for(var a in this._addedLayers={},r){var d=r[a];this._isRelevantForEdit(d)&&this.globalEditModeEnabled()&&d.pm.enable(I({},this.globalOptions))}},_layerAdded:function(r){var a=r.layer;this._addedLayers[L.stamp(a)]=a},_isRelevantForEdit:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},J={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(function(a){a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(function(a){a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var r=this._addedLayersDrag;for(var a in this._addedLayersDrag={},r){var d=r[a];this._isRelevantForDrag(d)&&this.globalDragModeEnabled()&&d.pm.enableLayerDrag()}},_layerAddedDrag:function(r){var a=r.layer;this._addedLayersDrag[L.stamp(a)]=a},_isRelevantForDrag:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},et={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(a){r._isRelevantForRemoval(a)&&(a.pm.disable(),a.on("click",r.removeLayer,r))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(a){a.off("click",r.removeLayer,r)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(r){var a=r.layer;this._isRelevantForRemoval(a)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(r){var a=r.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval}},ct={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var r=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(a){return a instanceof L.Polyline}).forEach(function(a){r._isRelevantForRotate(a)&&a.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(r){return r instanceof L.Polyline}).forEach(function(r){r.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(r){var a=r.layer;this._isRelevantForRotate(a)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation}};function pt(r,a){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),d.push.apply(d,_)}return d}function ot(r){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?pt(Object(d),!0).forEach(function(_){bt(r,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):pt(Object(d)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(d,_))})}return r}function bt(r,a,d){return a in r?Object.defineProperty(r,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[a]=d,r}var Lt={_fireDrawStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,a)},_fireDrawEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},r,a)},_fireCreate:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},a,d)},_fireCenterPlaced:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=r==="Draw"?this._layer:void 0,_=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:d,layer:_,latlng:this._layer.getLatLng()},r,a)},_fireCut:function(r,a,d){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:cut",{shape:this._shape,layer:a,originalLayer:d},_,w)},_fireEdit:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},a,d)},_fireEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,a)},_fireUpdate:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,a)},_fireMarkerDragStart:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},d,_)},_fireMarkerDrag:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},d,_)},_fireMarkerDragEnd:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a,intersectionReset:d},_,w)},_fireDragStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,a)},_fireDrag:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",ot(ot({},r),{},{shape:this.getShape()}),a,d)},_fireDragEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,a)},_fireRemove:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:a,shape:this.getShape()},d,_)},_fireVertexAdded:function(r,a,d){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:a,latlng:d,shape:this.getShape()},_,w)},_fireVertexRemoved:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:a,shape:this.getShape()},d,_)},_fireVertexClick:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},d,_)},_fireIntersect:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},a,d)},_fireLayerReset:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},d,_)},_fireChange:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},a,d)},_fireTextChange:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},a,d)},_fireTextFocus:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,a)},_fireTextBlur:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,a)},_fireSnapDrag:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snapdrag",a,d,_)},_fireSnap:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snap",a,d,_)},_fireUnsnap:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:unsnap",a,d,_)},_fireRotationEnable:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},d,_)},_fireRotationDisable:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,d)},_fireRotationStart:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},d,_)},_fireRotation:function(r,a,d){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(r,"pm:rotate",{layer:_,helpLayer:this._layer,startAngle:this._startAngle,angle:_.pm.getAngle(),angleDiff:a,oldLatLngs:d,newLatLngs:_.getLatLngs()},w,A)},_fireRotationEnd:function(r,a,d){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:d,newLatLngs:this._rotationLayer.getLatLngs()},_,w)},_fireActionClick:function(r,a,d){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:a,button:d},_,w)},_fireButtonClick:function(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:r,button:a},d,_)},_fireLangChange:function(r,a,d,_){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:a,fallback:d,translations:_},w,A)},_fireGlobalDragModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},a,d)},_fireGlobalEditModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},a,d)},_fireGlobalRemovalModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},a,d)},_fireGlobalCutModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,a)},_fireGlobalDrawModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,a)},_fireGlobalRotateModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,a)},_fireRemoveLayerGroup:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:a,shape:void 0},d,_)},_fireKeyeventEvent:function(r,a,d){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:r,eventType:a,focusOn:d},_,w)},__fire:function(r,a,d,_){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};d=f()(d,w,{source:_}),L.PM.Utils._fireEvent(r,a,d)}};const Et=Lt,Ct={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(r){var a="document";this.map.getContainer().contains(r.target)&&(a="map");var d={event:r,eventType:r.type,focusOn:a};this._lastEvents[r.type]=d,this._lastEvents.current=d,this.map.pm._fireKeyeventEvent(r,r.type,a)},_onBlur:function(r){r.altKey=!1;var a={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=a,this._lastEvents.current=a},getLastKeyEvent:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[r]},isShiftKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.shiftKey},isAltKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.altKey},isCtrlKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.ctrlKey},isMetaKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.metaKey},getPressedKey:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.key}};var Ft=c(7361),wt=c.n(Ft),de=c(8721),Dt=c.n(de);function At(r){var a=L.PM.activeLang;return Dt()(H,a)||(a="en"),wt()(H[a],r)}function Vt(r){for(var a=0;a<r.length;a+=1){var d=r[a];if(Array.isArray(d)){if(Vt(d))return!0}else if(d!=null&&d!=="")return!0}return!1}function Le(r){return r.reduce(function(a,d){if(d.length!==0){var _=Array.isArray(d)?Le(d):d;Array.isArray(_)?_.length!==0&&a.push(_):a.push(_)}return a},[])}function fe(r,a,d){for(var _,w,A,z=6378137,$=63567523142e-4,F=.0033528106647474805,U=r.lng,X=r.lat,ft=d,ut=Math.PI,Mt=a*ut/180,Rt=Math.sin(Mt),Ut=Math.cos(Mt),ne=(1-F)*Math.tan(X*ut/180),we=1/Math.sqrt(1+ne*ne),$t=ne*we,xe=Math.atan2(ne,Ut),Ce=we*Rt,$e=1-Ce*Ce,kn=$e*(z*z-$*$)/($*$),Mo=1+kn/16384*(4096+kn*(kn*(320-175*kn)-768)),Ar=kn/1024*(256+kn*(kn*(74-47*kn)-128)),qn=ft/($*Mo),Hi=2*Math.PI;Math.abs(qn-Hi)>1e-12;)_=Math.cos(2*xe+qn),Hi=qn,qn=ft/($*Mo)+Ar*(w=Math.sin(qn))*(_+Ar/4*((A=Math.cos(qn))*(2*_*_-1)-Ar/6*_*(4*w*w-3)*(4*_*_-3)));var Co=$t*w-we*A*Ut,Vs=Math.atan2($t*A+we*w*Ut,(1-F)*Math.sqrt(Ce*Ce+Co*Co)),Br=F/16*$e*(4+F*(4-3*$e)),$s=U+180*(Math.atan2(w*Rt,we*A-$t*w*Ut)-(1-Br)*F*Ce*(qn+Br*w*(_+Br*A*(2*_*_-1))))/ut,pn=180*Vs/ut;return L.latLng($s,pn)}function ie(r,a,d,_){for(var w,A,z=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],$=[],F=0;F<d;F+=1){if(z)w=fe(r,360*F/d+_,a),A=L.latLng(w.lng,w.lat);else{var U=r.lat+Math.cos(2*F*Math.PI/d)*a,X=r.lng+Math.sin(2*F*Math.PI/d)*a;A=L.latLng(U,X)}$.push(A)}return $}function Nt(r,a,d,_){var w=function(A,z,$){var F=A.latLngToContainerPoint(z),U=A.latLngToContainerPoint($),X=180*Math.atan2(U.y-F.y,U.x-F.x)/Math.PI+90;return X+(X<0?360:0)}(r,a,d);return function(A,z,$){z=(z+360)%360;var F=Math.PI/180,U=180/Math.PI,X=6378137,ft=A.lng*F,ut=A.lat*F,Mt=z*F,Rt=Math.sin(ut),Ut=Math.cos(ut),ne=Math.cos($/X),we=Math.sin($/X),$t=Math.asin(Rt*ne+Ut*we*Math.cos(Mt)),xe=ft+Math.atan2(Math.sin(Mt)*we*Ut,ne-Rt*Math.sin($t));return xe=(xe*=U)>180?xe-360:xe<-180?xe+360:xe,L.latLng([$t*U,xe])}(a,w,_)}function ht(r,a){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!a||Object.keys(a).length===0)return function(F,U){return F-U};for(var _,w=Object.keys(a),A=w.length-1,z={};A>=0;)_=w[A],z[_.toLowerCase()]=a[_],A-=1;function $(F){return F instanceof L.Marker?"Marker":F instanceof L.Circle?"Circle":F instanceof L.CircleMarker?"CircleMarker":F instanceof L.Rectangle?"Rectangle":F instanceof L.Polygon?"Polygon":F instanceof L.Polyline?"Line":void 0}return function(F,U){var X,ft;if(r==="instanceofShape"){if(X=$(F.layer).toLowerCase(),ft=$(U.layer).toLowerCase(),!X||!ft)return 0}else{if(!F.hasOwnProperty(r)||!U.hasOwnProperty(r))return 0;X=F[r].toLowerCase(),ft=U[r].toLowerCase()}var ut=X in z?z[X]:Number.MAX_SAFE_INTEGER,Mt=ft in z?z[ft]:Number.MAX_SAFE_INTEGER,Rt=0;return ut<Mt?Rt=-1:ut>Mt&&(Rt=1),d==="desc"?-1*Rt:Rt}}function Pt(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.getLatLngs();return r instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function St(r,a){var d,_;if((d=a.options.crs)!==null&&d!==void 0&&(_=d.projection)!==null&&_!==void 0&&_.MAX_LATITUDE){var w,A,z=(w=a.options.crs)===null||w===void 0||(A=w.projection)===null||A===void 0?void 0:A.MAX_LATITUDE;r.lat=Math.max(Math.min(z,r.lat),-z)}return r}function jt(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}const ae=L.Class.extend({includes:[nt,J,et,ct,Et],initialize:function(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=Ct,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(r)},setLang:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",a=arguments.length>1?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",_=L.PM.activeLang;a&&(H[r]=f()(H[d],a)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(_,r,d,H[r])},addControls:function(r){this.Toolbar.addControls(r)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",a=arguments.length>1?arguments[1]:void 0;r==="Poly"&&(r="Polygon"),this.Draw.enable(r,a)},disableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions:function(r){var a=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=d.ignoreShapes||[],w=d.merge||!1;this.map.pm.Draw.shapes.forEach(function(A){_.indexOf(A)===-1&&a.map.pm.Draw[A].setPathOptions(r,w)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(r){var a=this,d=f()(this.globalOptions,r),_=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!d.editable&&(this.map.pm.Draw.CircleMarker.disable(),_=!0),this.map.pm.Draw.shapes.forEach(function(w){a.map.pm.Draw[w].setOptions(d)}),_&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(w){w.pm.setOptions(d)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=d,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode:function(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map);if(!r)return a;var d=L.featureGroup();return d._pmTempLayer=!0,a.forEach(function(_){d.addLayer(_)}),d},getGeomanDrawLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map).filter(function(_){return _._drawnByGeoman===!0});if(!r)return a;var d=L.featureGroup();return d._pmTempLayer=!0,a.forEach(function(_){d.addLayer(_)}),d},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(r){jt(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick:function(r){var a="";r.type==="touchstart"||r.type==="pointerdown"?a="mousedown":r.type==="touchend"||r.type==="pointerup"?a="mouseup":r.type!=="touchcancel"&&r.type!=="pointercancel"||(a="mouseup"),a&&jt(this.map)._onClick(this._createMouseEvent(a,r))},_createMouseEvent:function(r,a){var d,_=a.touches[0]||a.changedTouches[0];try{d=new MouseEvent(r,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:_.detail,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{(d=document.createEvent("MouseEvents")).initMouseEvent(r,a.bubbles,a.cancelable,a.view,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return d}}),V=L.Control.extend({includes:[Et],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(r){this._button=L.Util.extend({},this.options,r)},onAdd:function(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(r){return this._button.toggleStatus=typeof r=="boolean"?r:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(r){r&&r.preventDefault(),this._button.disabled||(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton:function(r){var a=this,d=this.options.position.indexOf("right")>-1?"pos-right":"",_=L.DomUtil.create("div","button-container  ".concat(d),this._container);r.title&&_.setAttribute("title",r.title);var w=L.DomUtil.create("a","leaflet-buttons-control-button",_);w.setAttribute("role","button"),w.setAttribute("tabindex","0"),w.href="#";var A=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(d),_),z=r.actions,$={cancel:{text:At("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:At("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:At("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:At("actions.finish"),onClick:function(U){this._map.pm.Draw[r.jsClass]._finishShape(U)}}};z.forEach(function(U){var X,ft=typeof U=="string"?U:U.name;if($[ft])X=$[ft];else{if(!U.text)return;X=U}var ut=L.DomUtil.create("a","leaflet-pm-action ".concat(d," action-").concat(ft),A);ut.setAttribute("role","button"),ut.setAttribute("tabindex","0"),ut.href="#",ut.innerHTML=X.text,L.DomEvent.disableClickPropagation(ut),L.DomEvent.on(ut,"click",L.DomEvent.stop),!r.disabled&&X.onClick&&(L.DomEvent.addListener(ut,"click",function(Mt){Mt.preventDefault();var Rt="",Ut=a._map.pm.Toolbar.buttons;for(var ne in Ut)if(Ut[ne]._button===r){Rt=ne;break}a._fireActionClick(X,Rt,r)},a),L.DomEvent.addListener(ut,"click",X.onClick,a))}),r.toggleStatus&&L.DomUtil.addClass(_,"active");var F=L.DomUtil.create("div","control-icon",w);return r.iconUrl&&F.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass(F,r.className),L.DomEvent.disableClickPropagation(w),L.DomEvent.on(w,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(w,"click",this._onBtnClick,this),L.DomEvent.addListener(w,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(w,"pm-disabled"),w.setAttribute("aria-disabled","true")),_},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var r="",a=this._map.pm.Toolbar.buttons;for(var d in a)if(a[d]._button===this._button){r=d;break}this._fireButtonClick(r,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var r="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,r),a.setAttribute("aria-disabled","true"),L.DomEvent.off(a,"click",this._triggerClick,this),L.DomEvent.off(a,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(a,r),a.setAttribute("aria-disabled","false"),L.DomEvent.on(a,"click",this._triggerClick,this),L.DomEvent.on(a,"click",this._onBtnClick,this))}}});function q(r,a){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),d.push.apply(d,_)}return d}function Y(r){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?q(Object(d),!0).forEach(function(_){dt(r,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):q(Object(d)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(d,_))})}return r}function dt(r,a,d){return a in r?Object.defineProperty(r,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[a]=d,r}function gt(r){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gt(r)}L.Control.PMButton=V;const xt=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(r){this.init(r)},reinit:function(){var r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init:function(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(r){var a="".concat(r,"Container");return this[a]||(this[a]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(r," leaflet-bar leaflet-control"))),this[a]},getButtons:function(){return this.buttons},addControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var r=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var d in r){var _=r[d];L.Util.setOptions(_,{className:a.geomanIcons[d]})}},removeControls:function(){var r=this.getButtons();for(var a in r)r[a].remove();this.isVisible=!1},toggleControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(r)},_addButton:function(r,a){return this.buttons[r]=a,this.options[r]=this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons:function(r){for(var a in this.buttons){var d=this.buttons[a];d._button.disableByOtherButtons&&d!==r&&d.toggled()&&d._triggerClick()}},toggleButton:function(r,a){var d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode"),d&&this.triggerClickOnToggledButtons(this.buttons[r]),!!this.buttons[r]&&this.buttons[r].toggle(a)},_defineButtons:function(){var r=this,a={className:"control-icon leaflet-pm-icon-marker",title:At("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},d={title:At("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},_={className:"control-icon leaflet-pm-icon-polyline",title:At("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},w={title:At("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},A={title:At("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},z={title:At("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},$={title:At("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},F={title:At("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},U={title:At("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},X={title:At("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ft={title:At("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ut={className:"control-icon leaflet-pm-icon-text",title:At("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(a)),this._addButton("drawPolyline",new L.Control.PMButton(_)),this._addButton("drawRectangle",new L.Control.PMButton(z)),this._addButton("drawPolygon",new L.Control.PMButton(d)),this._addButton("drawCircle",new L.Control.PMButton(w)),this._addButton("drawCircleMarker",new L.Control.PMButton(A)),this._addButton("drawText",new L.Control.PMButton(ut)),this._addButton("editMode",new L.Control.PMButton($)),this._addButton("dragMode",new L.Control.PMButton(F)),this._addButton("cutPolygon",new L.Control.PMButton(U)),this._addButton("removalMode",new L.Control.PMButton(X)),this._addButton("rotateMode",new L.Control.PMButton(ft))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var r=this.getButtons(),a=[];for(var d in this.options.drawControls===!1&&(a=a.concat(Object.keys(r).filter(function(w){return!r[w]._button.tool}))),this.options.editControls===!1&&(a=a.concat(Object.keys(r).filter(function(w){return r[w]._button.tool==="edit"}))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(r).filter(function(w){return r[w]._button.tool==="options"}))),this.options.customControls===!1&&(a=a.concat(Object.keys(r).filter(function(w){return r[w]._button.tool==="custom"}))),r)if(this.options[d]&&a.indexOf(d)===-1){var _=r[d]._button.tool;_||(_="draw"),r[d].setPosition(this._getBtnPosition(_)),r[d].addTo(this.map)}}},_getBtnPosition:function(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition:function(r,a){this.options.positions[r]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(r,a){if(!a)throw new TypeError("Button has no name");gt(a)!=="object"&&(a={name:a});var d=this._btnNameMapping(r);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");var _=this.map.pm.Draw.createNewDrawInstance(a.name,d);return a=Y(Y({},this.buttons[d]._button),a),{drawInstance:_,control:this.createCustomControl(a)}},createCustomControl:function(r){var a,d;if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=function(){}),r.afterClick||(r.afterClick=function(){}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),r.block&&r.block!=="draw"||(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className="control-icon ".concat(r.className)):r.className="control-icon";var _={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:(a=r.disableOtherButtons)===null||a===void 0||a,disableByOtherButtons:(d=r.disableByOtherButtons)===null||d===void 0||d,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);var w=this._addButton(r.name,new L.Control.PMButton(_));return this.changeControlOrder(),w},changeControlOrder:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=this._shapeMapping(),d=[];r.forEach(function(U){a[U]?d.push(a[U]):d.push(U)});var _=this.getButtons(),w={};d.forEach(function(U){_[U]&&(w[U]=_[U])});var A=Object.keys(_).filter(function(U){return!_[U]._button.tool});A.forEach(function(U){d.indexOf(U)===-1&&(w[U]=_[U])});var z=Object.keys(_).filter(function(U){return _[U]._button.tool==="edit"});z.forEach(function(U){d.indexOf(U)===-1&&(w[U]=_[U])});var $=Object.keys(_).filter(function(U){return _[U]._button.tool==="options"});$.forEach(function(U){d.indexOf(U)===-1&&(w[U]=_[U])});var F=Object.keys(_).filter(function(U){return _[U]._button.tool==="custom"});F.forEach(function(U){d.indexOf(U)===-1&&(w[U]=_[U])}),Object.keys(_).forEach(function(U){d.indexOf(U)===-1&&(w[U]=_[U])}),this.map.pm.Toolbar.buttons=w,this._showHideButtons()},getControlOrder:function(){var r=this.getButtons(),a=[];for(var d in r)a.push(d);return a},changeActionsOfControl:function(r,a){var d=this._btnNameMapping(r);if(!d)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[d])throw new TypeError("Button with this name not exists");this.buttons[d]._button.actions=a,this.changeControlOrder()},setButtonDisabled:function(r,a){var d=this._btnNameMapping(r);a?this.buttons[d].disable():this.buttons[d].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(r){var a=this._shapeMapping();return a[r]?a[r]:r}});function Ot(r,a){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),d.push.apply(d,_)}return d}function B(r){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?Ot(Object(d),!0).forEach(function(_){b(r,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):Ot(Object(d)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(d,_))})}return r}function b(r,a,d){return a in r?Object.defineProperty(r,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[a]=d,r}var x={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(r){var a=this;r.forEach(function(d){Array.isArray(d)?a._assignEvents(d):(d.off("drag",a._handleSnapping,a),d.on("drag",a._handleSnapping,a),d.off("dragend",a._cleanupSnapping,a),d.on("dragend",a._cleanupSnapping,a))})},_cleanupSnapping:function(r){r&&(r.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(a){a.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(r){var a=this,d=r.target;if(d._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var _=this._calcClosestLayer(d.getLatLng(),this._snapList);if(Object.keys(_).length===0)return!1;var w,A=_.layer instanceof L.Marker||_.layer instanceof L.CircleMarker||!this.options.snapSegment;w=A?_.latlng:this._checkPrioritiySnapping(_);var z=this.options.snapDistance,$={marker:d,shape:this._shape,snapLatLng:w,segment:_.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:_.layer,distance:_.distance};if(this._fireSnapDrag($.marker,$),this._fireSnapDrag(this._layer,$),_.distance<z){d._orgLatLng=d.getLatLng(),d.setLatLng(w),d._snapped=!0,d._snapInfo=$;var F=this._snapLatLng||{},U=w||{};F.lat===U.lat&&F.lng===U.lng||(a._snapLatLng=w,a._fireSnap(d,$),a._fireSnap(a._layer,$))}else this._snapLatLng&&(this._unsnap($),d._snapped=!1,d._snapInfo=void 0,this._fireUnsnap($.marker,$),this._fireUnsnap(this._layer,$));return!0},_createSnapList:function(){var r=this,a=[],d=[],_=this._map;_.off("pm:remove",this._handleSnapLayerRemoval,this),_.on("pm:remove",this._handleSnapLayerRemoval,this),_.eachLayer(function(w){if((w instanceof L.Polyline||w instanceof L.Marker||w instanceof L.CircleMarker||w instanceof L.ImageOverlay)&&w.options.snapIgnore!==!0){if(w.options.snapIgnore===void 0&&(!L.PM.optIn&&w.options.pmIgnore===!0||L.PM.optIn&&w.options.pmIgnore!==!1))return;(w instanceof L.Circle||w instanceof L.CircleMarker)&&w.pm&&w.pm._hiddenPolyCircle?a.push(w.pm._hiddenPolyCircle):w instanceof L.ImageOverlay&&(w=L.rectangle(w.getBounds())),a.push(w);var A=L.polyline([],{color:"red",pmIgnore:!0});A._pmTempLayer=!0,d.push(A),(w instanceof L.Circle||w instanceof L.CircleMarker)&&d.push(A)}}),a=(a=(a=a.filter(function(w){return r._layer!==w})).filter(function(w){return w._latlng||w._latlngs&&Vt(w._latlngs)})).filter(function(w){return!w._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var w=L.polyline([],{color:"red",pmIgnore:!0});w._pmTempLayer=!0,d.push(w)}),this._snapList=a.concat(this._otherSnapLayers)):this._snapList=a,this.debugIndicatorLines=d},_handleSnapLayerRemoval:function(r){var a=r.layer,d=this._snapList.findIndex(function(_){return _._leaflet_id===a._leaflet_id});this._snapList.splice(d,1)},_calcClosestLayer:function(r,a){return this._calcClosestLayers(r,a,1)[0]},_calcClosestLayers:function(r,a){var d=this,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=[],A={};a.forEach(function($,F){if(!$._parentCopy||$._parentCopy!==d._layer){var U=d._calcLayerDistances(r,$);if(U.distance=Math.floor(U.distance),d.debugIndicatorLines){if(!d.debugIndicatorLines[F]){var X=L.polyline([],{color:"red",pmIgnore:!0});X._pmTempLayer=!0,d.debugIndicatorLines[F]=X}d.debugIndicatorLines[F].setLatLngs([r,U.latlng])}_===1&&(A.distance===void 0||U.distance<=A.distance)?(U.distance<A.distance&&(w=[]),(A=U).layer=$,w.push(A)):_!==1&&(A={},(A=U).layer=$,w.push(A))}}),_!==1&&(w=w.sort(function($,F){return $.distance-F.distance})),_===-1&&(_=w.length);var z=this._getClosestLayerByPriority(w,_);return L.Util.isArray(z)?z:[z]},_calcLayerDistances:function(r,a){var d=this._map,_=a instanceof L.Marker||a instanceof L.CircleMarker,w=a instanceof L.Polygon,A=r;if(_){var z=a.getLatLng();return{latlng:B({},z),distance:this._getDistance(d,z,A)}}return this._calcLatLngDistances(A,a.getLatLngs(),d,w)},_calcLatLngDistances:function(r,a,d){var _,w,A,z=this,$=arguments.length>3&&arguments[3]!==void 0&&arguments[3],F=function X(ft){ft.forEach(function(ut,Mt){if(Array.isArray(ut))X(ut);else if(z.options.snapSegment){var Rt,Ut=ut;Rt=$?Mt+1===ft.length?0:Mt+1:Mt+1===ft.length?void 0:Mt+1;var ne=ft[Rt];if(ne){var we=z._getDistanceToSegment(d,r,Ut,ne);(w===void 0||we<w)&&(w=we,A=[Ut,ne])}}else{var $t=z._getDistance(d,r,ut);(w===void 0||$t<w)&&(w=$t,_=ut)}})};if(F(a),this.options.snapSegment){var U=this._getClosestPointOnSegment(d,r,A[0],A[1]);return{latlng:B({},U),segment:A,distance:w}}return{latlng:_,distance:w}},_getClosestLayerByPriority:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;r=r.sort(function(z,$){return z._leaflet_id-$._leaflet_id});var d=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],_=this._map.pm.globalOptions.snappingOrder||[],w=0,A={};return _.concat(d).forEach(function(z){A[z]||(w+=1,A[z]=w)}),r.sort(ht("instanceofShape",A)),a===1?r[0]||{}:r.slice(0,a)},_checkPrioritiySnapping:function(r){var a=this._map,d=r.segment[0],_=r.segment[1],w=r.latlng,A=this._getDistance(a,d,w),z=this._getDistance(a,_,w),$=A<z?d:_,F=A<z?A:z;if(this.options.snapMiddle){var U=L.PM.Utils.calcMiddleLatLng(a,d,_),X=this._getDistance(a,U,w);X<A&&X<z&&($=U,F=X)}return B({},F<this.options.snapDistance?$:w)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(r,a,d,_){var w=r.getMaxZoom();w===1/0&&(w=r.getZoom());var A=r.project(a,w),z=r.project(d,w),$=r.project(_,w),F=L.LineUtil.closestPointOnSegment(A,z,$);return r.unproject(F,w)},_getDistanceToSegment:function(r,a,d,_){var w=r.latLngToLayerPoint(a),A=r.latLngToLayerPoint(d),z=r.latLngToLayerPoint(_);return L.LineUtil.pointToSegmentDistance(w,A,z)},_getDistance:function(r,a,d){return r.latLngToLayerPoint(a).distanceTo(r.latLngToLayerPoint(d))}};const O=x,D=L.Class.extend({includes:[O,Et],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(r){var a=this,d=new L.Icon.Default;d.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=d,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(_){a[_]=new L.PM.Draw[_](a._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=a?f()(this.options.pathOptions,r):r},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(r,a){if(!r)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[r].enable(a)},disable:function(){var r=this;this.shapes.forEach(function(a){r[a].disable()})},addControls:function(){var r=this;this.shapes.forEach(function(a){r[a].addButton()})},getActiveShape:function(){var r,a=this;return this.shapes.forEach(function(d){a[d]._enabled&&(r=d)}),r},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var r=L.PM.Utils.findLayers(this._map);this._enabled?r.forEach(function(a){L.PM.Utils.disablePopup(a)}):r.forEach(function(a){L.PM.Utils.enablePopup(a)})},createNewDrawInstance:function(r,a){var d=this._getShapeFromBtnName(a);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[d])throw new TypeError("There is no class L.PM.Draw.".concat(d));return this[r]=new L.PM.Draw[d](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[a]&&this[r].setOptions(this[a].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName:function(r){var a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[r]?a[r]:this[r]?this[r]._shape:r},_finishLayer:function(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp:function(r){r._drawnByGeoman=!0},_setPane:function(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});D.Marker=D.extend({initialize:function(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(r){var a=this;L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(d){a.isRelevantMarker(d)&&d.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(a){r.isRelevantMarker(a)&&a.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker:function(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(r){if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),d=new L.Marker(a,this.options.markerStyle);this._setPane(d,"markerPane"),this._finishLayer(d),d.pm||(d.options.draggable=!1),d.addTo(this._map.pm._getContainingLayer()),d.pm&&this.options.markerEditable?d.pm.enable():d.dragging&&d.dragging.disable(),this._fireCreate(d),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var r,a;(r=this.options.markerStyle)!==null&&r!==void 0&&r.icon&&((a=this._hintMarker)===null||a===void 0||a.setIcon(this.options.markerStyle.icon))}});var N=63710088e-1,Q={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*N,kilometers:6371.0088,kilometres:6371.0088,meters:N,metres:N,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:N/1852,radians:1,yards:6967335223679999e-9};function rt(r,a,d){d===void 0&&(d={});var _={type:"Feature"};return(d.id===0||d.id)&&(_.id=d.id),d.bbox&&(_.bbox=d.bbox),_.properties=a||{},_.geometry=r,_}function yt(r,a,d){if(d===void 0&&(d={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ye(r[0])||!ye(r[1]))throw new Error("coordinates must contain numbers");return rt({type:"Point",coordinates:r},a,d)}function Tt(r,a,d){if(d===void 0&&(d={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return rt({type:"LineString",coordinates:r},a,d)}function zt(r,a){a===void 0&&(a={});var d={type:"FeatureCollection"};return a.id&&(d.id=a.id),a.bbox&&(d.bbox=a.bbox),d.features=r,d}function Zt(r,a){a===void 0&&(a="kilometers");var d=Q[a];if(!d)throw new Error(a+" units is invalid");return r*d}function Yt(r,a){a===void 0&&(a="kilometers");var d=Q[a];if(!d)throw new Error(a+" units is invalid");return r/d}function ve(r){return 180*(r%(2*Math.PI))/Math.PI}function Jt(r){return r%360*Math.PI/180}function ye(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function ce(r){var a,d,_={type:"FeatureCollection",features:[]};if((d=r.type==="Feature"?r.geometry:r).type==="LineString")a=[d.coordinates];else if(d.type==="MultiLineString")a=d.coordinates;else if(d.type==="MultiPolygon")a=[].concat.apply([],d.coordinates);else{if(d.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");a=d.coordinates}return a.forEach(function(w){a.forEach(function(A){for(var z=0;z<w.length-1;z++)for(var $=z;$<A.length-1;$++)if(!(w===A&&(Math.abs(z-$)===1||z===0&&$===w.length-2&&w[z][0]===w[w.length-1][0]&&w[z][1]===w[w.length-1][1]))){var F=be(w[z][0],w[z][1],w[z+1][0],w[z+1][1],A[$][0],A[$][1],A[$+1][0],A[$+1][1]);F&&_.features.push(yt([F[0],F[1]]))}})}),_}function be(r,a,d,_,w,A,z,$){var F,U,X,ft,ut={x:null,y:null,onLine1:!1,onLine2:!1};return(F=($-A)*(d-r)-(z-w)*(_-a))===0?ut.x!==null&&ut.y!==null&&ut:(ft=(d-r)*(U=a-A)-(_-a)*(X=r-w),U=((z-w)*U-($-A)*X)/F,X=ft/F,ut.x=r+U*(d-r),ut.y=a+U*(_-a),U>=0&&U<=1&&(ut.onLine1=!0),X>=0&&X<=1&&(ut.onLine2=!0),!(!ut.onLine1||!ut.onLine2)&&[ut.x,ut.y])}function Re(r,a){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),d.push.apply(d,_)}return d}function Ze(r){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?Re(Object(d),!0).forEach(function(_){qe(r,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):Re(Object(d)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(d,_))})}return r}function qe(r,a,d){return a in r?Object.defineProperty(r,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[a]=d,r}function dn(r,a){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),d.push.apply(d,_)}return d}function an(r){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?dn(Object(d),!0).forEach(function(_){We(r,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):dn(Object(d)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(d,_))})}return r}function We(r,a,d){return a in r?Object.defineProperty(r,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[a]=d,r}function ln(r,a){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),d.push.apply(d,_)}return d}function xn(r){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?ln(Object(d),!0).forEach(function(_){$n(r,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):ln(Object(d)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(d,_))})}return r}function $n(r,a,d){return a in r?Object.defineProperty(r,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[a]=d,r}function Ke(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ne(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function On(r){return r.type==="Feature"?r.geometry:r}function qr(r,a){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function Si(r,a,d){if(r!==null)for(var _,w,A,z,$,F,U,X,ft=0,ut=0,Mt=r.type,Rt=Mt==="FeatureCollection",Ut=Mt==="Feature",ne=Rt?r.features.length:1,we=0;we<ne;we++){$=(X=!!(U=Rt?r.features[we].geometry:Ut?r.geometry:r)&&U.type==="GeometryCollection")?U.geometries.length:1;for(var $t=0;$t<$;$t++){var xe=0,Ce=0;if((z=X?U.geometries[$t]:U)!==null){F=z.coordinates;var $e=z.type;switch(ft=!d||$e!=="Polygon"&&$e!=="MultiPolygon"?0:1,$e){case null:break;case"Point":if(a(F,ut,we,xe,Ce)===!1)return!1;ut++,xe++;break;case"LineString":case"MultiPoint":for(_=0;_<F.length;_++){if(a(F[_],ut,we,xe,Ce)===!1)return!1;ut++,$e==="MultiPoint"&&xe++}$e==="LineString"&&xe++;break;case"Polygon":case"MultiLineString":for(_=0;_<F.length;_++){for(w=0;w<F[_].length-ft;w++){if(a(F[_][w],ut,we,xe,Ce)===!1)return!1;ut++}$e==="MultiLineString"&&xe++,$e==="Polygon"&&Ce++}$e==="Polygon"&&xe++;break;case"MultiPolygon":for(_=0;_<F.length;_++){for(Ce=0,w=0;w<F[_].length;w++){for(A=0;A<F[_][w].length-ft;A++){if(a(F[_][w][A],ut,we,xe,Ce)===!1)return!1;ut++}Ce++}xe++}break;case"GeometryCollection":for(_=0;_<z.geometries.length;_++)if(Si(z.geometries[_],a,d)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Mr(r,a){if(r.type==="Feature")a(r,0);else if(r.type==="FeatureCollection")for(var d=0;d<r.features.length&&a(r.features[d],d)!==!1;d++);}function js(r,a){var d,_,w,A,z,$,F,U,X,ft,ut=0,Mt=r.type==="FeatureCollection",Rt=r.type==="Feature",Ut=Mt?r.features.length:1;for(d=0;d<Ut;d++){for($=Mt?r.features[d].geometry:Rt?r.geometry:r,U=Mt?r.features[d].properties:Rt?r.properties:{},X=Mt?r.features[d].bbox:Rt?r.bbox:void 0,ft=Mt?r.features[d].id:Rt?r.id:void 0,z=(F=!!$&&$.type==="GeometryCollection")?$.geometries.length:1,w=0;w<z;w++)if((A=F?$.geometries[w]:$)!==null)switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(a(A,ut,U,X,ft)===!1)return!1;break;case"GeometryCollection":for(_=0;_<A.geometries.length;_++)if(a(A.geometries[_],ut,U,X,ft)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(a(null,ut,U,X,ft)===!1)return!1;ut++}}function Ei(r,a){js(r,function(d,_,w,A,z){var $,F=d===null?null:d.type;switch(F){case null:case"Point":case"LineString":case"Polygon":return a(rt(d,w,{bbox:A,id:z}),_,0)!==!1&&void 0}switch(F){case"MultiPoint":$="Point";break;case"MultiLineString":$="LineString";break;case"MultiPolygon":$="Polygon"}for(var U=0;U<d.coordinates.length;U++){var X=d.coordinates[U];if(a(rt({type:$,coordinates:X},w),_,U)===!1)return!1}})}D.Line=D.extend({initialize:function(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Ze(Ze({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._layer.getLatLngs();if(r.length>0){var a=r[r.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var d=this._layer._defaultShape().slice();d.push(this._hintMarker.getLatLng()),this._change(d)},hasSelfIntersection:function(){return ce(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(r,a){var d=L.polyline(this._layer.getLatLngs());r&&(a||(a=this._hintMarker.getLatLng()),d.addLatLng(a));var _=ce(d.toGeoJSON(15));this._doesSelfIntersect=_.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(r){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,r.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),d=this._layer.getLatLngs(),_=d[d.length-1];if(a.equals(d[0])||d.length>0&&a.equals(_))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);var w=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(w,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)}}},_setHintLineAfterNewVertex:function(r){this._hintline.setLatLngs([r,r])},_removeLastVertex:function(){var r=this._markers;if(r.length<=1)this.disable();else{var a=this._layer.getLatLngs(),d=r[r.length-1],_=L.PM.Utils.findDeepMarkerIndex(r,d).indexPath;r.pop(),this._layerGroup.removeLayer(d);var w=r[r.length-1],A=a.indexOf(w.getLatLng());a=a.slice(0,A+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(d,_,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=1)){var a=L.polyline(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(r){var a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText:function(){var r="";r=At(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change:function(r){this._fireChange(r,"Draw")},setStyle:function(){var r,a;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),D.Polygon=D.Line.extend({initialize:function(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker:function(r){var a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",function(){return 1}),a},_setTooltipText:function(){var r="";r=At(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=2)){var a=L.polygon(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),D.Rectangle=D.extend({initialize:function(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var a=0;a<2;a+=1){var d=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this._layerGroup.addLayer(d),this._styleMarkers.push(d)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(d){L.DomUtil.addClass(d._icon,"visible"),d.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(At("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}var d=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(d,"Draw")},_syncRectangleSize:function(){var r=this,a=St(this._startMarker.getLatLng(),this._map),d=St(this._hintMarker.getLatLng(),this._map),_=L.PM.Utils._getRotatedRectangle(a,d,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(_),this.options.cursorMarker&&this._styleMarkers){var w=[];_.forEach(function(A){A.equals(a,1e-8)||A.equals(d,1e-8)||w.push(A)}),w.forEach(function(A,z){try{r._styleMarkers[z].setLatLng(A)}catch{}})}},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_finishShape:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),d=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var _=L.rectangle([d,a],this.options.pathOptions);if(this.options.rectangleAngle){var w=L.PM.Utils._getRotatedRectangle(d,a,this.options.rectangleAngle||0,this._map);_.setLatLngs(w),_.pm&&_.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),this._fireCreate(_),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var r;(r=this._layer)===null||r===void 0||r.setStyle(this.options.pathOptions)}}),D.Circle=D.extend({initialize:function(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(r){L.Util.setOptions(this,r),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),an(an({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,a])},_syncCircleRadius:function(){var r,a=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng();r=this._map.options.crs===L.CRS.Simple?this._map.distance(a,d):a.distanceTo(d),this.options.minRadiusCircle&&r<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&r>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var d=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(d,"Draw")},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(At("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a,d=this._centerMarker.getLatLng(),_=this._hintMarker.getLatLng();a=this._map.options.crs===L.CRS.Simple?this._map.distance(d,_):d.distanceTo(_),this.options.minRadiusCircle&&a<this.options.minRadiusCircle?a=this.options.minRadiusCircle:this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(a=this.options.maxRadiusCircle);var w=an(an({},this.options.pathOptions),{},{radius:a}),A=L.circle(d,w);this._setPane(A,"layerPane"),this._finishLayer(A),A.addTo(this._map.pm._getContainingLayer()),A.pm&&A.pm._updateHiddenPolyCircle(),this._fireCreate(A),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return r;var a=this._centerMarker.getLatLng(),d=a.distanceTo(r);return this.options.minRadiusCircle&&d<this.options.minRadiusCircle?r=Nt(this._map,a,r,this.options.minRadiusCircle):this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle&&(r=Nt(this._map,a,r,this.options.maxRadiusCircle)),r},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),d=r.distanceTo(a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&d<this.options.minRadiusCircle||this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var r,a;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),D.CircleMarker=D.Marker.extend({initialize:function(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(r){var a=this;if(L.Util.setOptions(this,r),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var d={};L.extend(d,this.options.templineStyle),d.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),d),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(_){a.isRelevantMarker(_)&&_.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(a){r.isRelevantMarker(a)&&a.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(At("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,a])},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(d)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var d=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(d,"Draw")},isRelevantMarker:function(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker:function(r){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&r.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),d=L.circleMarker(a,this.options.pathOptions);this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),d.pm&&this.options.markerEditable&&d.pm.enable(),this._fireCreate(d),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng(),_=this._map.project(a).distanceTo(this._map.project(d));this.options.editable&&(this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?_=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker&&(_=this.options.maxRadiusCircleMarker));var w=xn(xn({},this.options.pathOptions),{},{radius:_}),A=L.circleMarker(a,w);this._setPane(A,"layerPane"),this._finishLayer(A),A.addTo(this._map.pm._getContainingLayer()),A.pm&&A.pm._updateHiddenPolyCircle(),this._fireCreate(A),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return r;var a=this._centerMarker.getLatLng(),d=this._map.project(a).distanceTo(this._map.project(r));this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker?r=Nt(this._map,a,r,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker&&(r=Nt(this._map,a,r,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return r},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(a));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(r){var a=this._centerMarker.getLatLng(),d=this._map.project(a),_=L.point(d.x+r,d.y);return this._map.unproject(_).distanceTo(a)},setStyle:function(){var r,a,d={};L.extend(d,this.options.templineStyle),this.options.editable&&(d.radius=0),(r=this._layer)===null||r===void 0||r.setStyle(d),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}});const tn=function(r){if(!r)throw new Error("geojson is required");var a=[];return Ei(r,function(d){(function(_,w){var A=[],z=_.geometry;if(z!==null){switch(z.type){case"Polygon":A=Ne(z);break;case"LineString":A=[Ne(z)]}A.forEach(function($){var F=function(U,X){var ft=[];return U.reduce(function(ut,Mt){var Rt,Ut,ne,we,$t,xe,Ce=Tt([ut,Mt],X);return Ce.bbox=(Ut=Mt,ne=(Rt=ut)[0],we=Rt[1],$t=Ut[0],xe=Ut[1],[ne<$t?ne:$t,we<xe?we:xe,ne>$t?ne:$t,we>xe?we:xe]),ft.push(Ce),Mt}),ft}($,_.properties);F.forEach(function(U){U.id=w.length,w.push(U)})})}})(d,a)}),zt(a)};var Ht=c(1787);function Ti(r,a){var d=Ne(r),_=Ne(a);if(d.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(_.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var w=d[0][0],A=d[0][1],z=d[1][0],$=d[1][1],F=_[0][0],U=_[0][1],X=_[1][0],ft=_[1][1],ut=(ft-U)*(z-w)-(X-F)*($-A),Mt=(X-F)*(A-U)-(ft-U)*(w-F),Rt=(z-w)*(A-U)-($-A)*(w-F);if(ut===0)return null;var Ut=Mt/ut,ne=Rt/ut;return Ut>=0&&Ut<=1&&ne>=0&&ne<=1?yt([w+Ut*(z-w),A+Ut*($-A)]):null}const Rn=function(r,a){var d={},_=[];if(r.type==="LineString"&&(r=rt(r)),a.type==="LineString"&&(a=rt(a)),r.type==="Feature"&&a.type==="Feature"&&r.geometry!==null&&a.geometry!==null&&r.geometry.type==="LineString"&&a.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var w=Ti(r,a);return w&&_.push(w),zt(_)}var A=Ht();return A.load(tn(a)),Mr(tn(r),function(z){Mr(A.search(z),function($){var F=Ti(z,$);if(F){var U=Ne(F).join(",");d[U]||(d[U]=!0,_.push(F))}})}),zt(_)},An=function(r,a,d){d===void 0&&(d={});var _=Ke(r),w=Ke(a),A=Jt(w[1]-_[1]),z=Jt(w[0]-_[0]),$=Jt(_[1]),F=Jt(w[1]),U=Math.pow(Math.sin(A/2),2)+Math.pow(Math.sin(z/2),2)*Math.cos($)*Math.cos(F);return Zt(2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U)),d.units)},vo=function(r){var a=r[0],d=r[1],_=r[2],w=r[3];if(An(r.slice(0,2),[_,d])>=An(r.slice(0,2),[a,w])){var A=(d+w)/2;return[a,A-(_-a)/2,_,A+(_-a)/2]}var z=(a+_)/2;return[z-(w-d)/2,d,z+(w-d)/2,w]};function Cr(r){var a=[1/0,1/0,-1/0,-1/0];return Si(r,function(d){a[0]>d[0]&&(a[0]=d[0]),a[1]>d[1]&&(a[1]=d[1]),a[2]<d[0]&&(a[2]=d[0]),a[3]<d[1]&&(a[3]=d[1])}),a}Cr.default=Cr;const ir=Cr,or=function(r,a){a===void 0&&(a={});var d=a.precision,_=a.coordinates,w=a.mutate;if(d=d==null||isNaN(d)?6:d,_=_==null||isNaN(_)?3:_,!r)throw new Error("<geojson> is required");if(typeof d!="number")throw new Error("<precision> must be a number");if(typeof _!="number")throw new Error("<coordinates> must be a number");w!==!1&&w!==void 0||(r=JSON.parse(JSON.stringify(r)));var A=Math.pow(10,d);return Si(r,function(z){(function($,F,U){$.length>U&&$.splice(U,$.length);for(var X=0;X<$.length;X++)$[X]=Math.round($[X]*F)/F})(z,A,_)}),r};function Oi(r,a,d){if(d===void 0&&(d={}),d.final===!0)return function(ft,ut){var Mt=Oi(ut,ft);return Mt=(Mt+180)%360}(r,a);var _=Ke(r),w=Ke(a),A=Jt(_[0]),z=Jt(w[0]),$=Jt(_[1]),F=Jt(w[1]),U=Math.sin(z-A)*Math.cos(F),X=Math.cos($)*Math.sin(F)-Math.sin($)*Math.cos(F)*Math.cos(z-A);return ve(Math.atan2(U,X))}function bo(r,a,d,_){_===void 0&&(_={});var w=Ke(r),A=Jt(w[0]),z=Jt(w[1]),$=Jt(d),F=Yt(a,_.units),U=Math.asin(Math.sin(z)*Math.cos(F)+Math.cos(z)*Math.sin(F)*Math.cos($));return yt([ve(A+Math.atan2(Math.sin($)*Math.sin(F)*Math.cos(z),Math.cos(F)-Math.sin(z)*Math.sin(U))),ve(U)],_.properties)}const zs=function(r,a,d){d===void 0&&(d={});var _=yt([1/0,1/0],{dist:1/0}),w=0;return Ei(r,function(A){for(var z=Ne(A),$=0;$<z.length-1;$++){var F=yt(z[$]);F.properties.dist=An(a,F,d);var U=yt(z[$+1]);U.properties.dist=An(a,U,d);var X=An(F,U,d),ft=Math.max(F.properties.dist,U.properties.dist),ut=Oi(F,U),Mt=bo(a,ft,ut+90,d),Rt=bo(a,ft,ut-90,d),Ut=Rn(Tt([Mt.geometry.coordinates,Rt.geometry.coordinates]),Tt([F.geometry.coordinates,U.geometry.coordinates])),ne=null;Ut.features.length>0&&((ne=Ut.features[0]).properties.dist=An(a,ne,d),ne.properties.location=w+An(F,ne,d)),F.properties.dist<_.properties.dist&&((_=F).properties.index=$,_.properties.location=w),U.properties.dist<_.properties.dist&&((_=U).properties.index=$+1,_.properties.location=w+X),ne&&ne.properties.dist<_.properties.dist&&((_=ne).properties.index=$),w+=X}}),_};function wo(r,a){var d=[],_=Ht();return Ei(a,function(w){if(d.forEach(function($,F){$.id=F}),d.length){var A=_.search(w);if(A.features.length){var z=Ai(w,A);d=d.filter(function($){return $.id!==z.id}),_.remove(z),Mr(Ri(z,w),function($){d.push($),_.insert($)})}}else(d=Ri(r,w).features).forEach(function($){$.bbox||($.bbox=vo(ir($)))}),_.load(zt(d))}),zt(d)}function Ri(r,a){var d=[],_=Ne(r)[0],w=Ne(r)[r.geometry.coordinates.length-1];if(Bi(_,Ke(a))||Bi(w,Ke(a)))return zt([r]);var A=Ht(),z=tn(r);A.load(z);var $=A.search(a);if(!$.features.length)return zt([r]);var F=Ai(a,$),U=function(X,ft,ut){var Mt=ut;return Mr(X,function(Rt,Ut){Mt=Ut===0&&ut===void 0?Rt:ft(Mt,Rt,Ut)}),Mt}(z,function(X,ft,ut){var Mt=Ne(ft)[1],Rt=Ke(a);return ut===F.id?(X.push(Rt),d.push(Tt(X)),Bi(Rt,Mt)?[Rt]:[Rt,Mt]):(X.push(Mt),X)},[_]);return U.length>1&&d.push(Tt(U)),zt(d)}function Ai(r,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var d,_=1/0;return Mr(a,function(w){var A=zs(w,r).properties.dist;A<_&&(d=w,_=A)}),d}function Bi(r,a){return r[0]===a[0]&&r[1]===a[1]}const Kr=function(r,a){if(!r)throw new Error("line is required");if(!a)throw new Error("splitter is required");var d=qr(r),_=qr(a);if(d!=="LineString")throw new Error("line must be LineString");if(_==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(_==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var w=or(a,{precision:7});switch(_){case"Point":return Ri(r,w);case"MultiPoint":return wo(r,w);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return wo(r,Rn(r,w))}};function Wr(r,a,d){if(d===void 0&&(d={}),!r)throw new Error("point is required");if(!a)throw new Error("polygon is required");var _=Ke(r),w=On(a),A=w.type,z=a.bbox,$=w.coordinates;if(z&&function(ut,Mt){return Mt[0]<=ut[0]&&Mt[1]<=ut[1]&&Mt[2]>=ut[0]&&Mt[3]>=ut[1]}(_,z)===!1)return!1;A==="Polygon"&&($=[$]);for(var F=!1,U=0;U<$.length&&!F;U++)if(xo(_,$[U][0],d.ignoreBoundary)){for(var X=!1,ft=1;ft<$[U].length&&!X;)xo(_,$[U][ft],!d.ignoreBoundary)&&(X=!0),ft++;X||(F=!0)}return F}function xo(r,a,d){var _=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var w=0,A=a.length-1;w<a.length;A=w++){var z=a[w][0],$=a[w][1],F=a[A][0],U=a[A][1];if(r[1]*(z-F)+$*(F-r[0])+U*(r[0]-z)==0&&(z-r[0])*(F-r[0])<=0&&($-r[1])*(U-r[1])<=0)return!d;$>r[1]!=U>r[1]&&r[0]<(F-z)*(r[1]-$)/(U-$)+z&&(_=!_)}return _}function Ns(r,a,d,_,w){var A=d[0],z=d[1],$=r[0],F=r[1],U=a[0],X=a[1],ft=U-$,ut=X-F,Mt=(d[0]-$)*ut-(d[1]-F)*ft;if(w!==null){if(Math.abs(Mt)>w)return!1}else if(Mt!==0)return!1;return _?_==="start"?Math.abs(ft)>=Math.abs(ut)?ft>0?$<A&&A<=U:U<=A&&A<$:ut>0?F<z&&z<=X:X<=z&&z<F:_==="end"?Math.abs(ft)>=Math.abs(ut)?ft>0?$<=A&&A<U:U<A&&A<=$:ut>0?F<=z&&z<X:X<z&&z<=F:_==="both"&&(Math.abs(ft)>=Math.abs(ut)?ft>0?$<A&&A<U:U<A&&A<$:ut>0?F<z&&z<X:X<z&&z<F):Math.abs(ft)>=Math.abs(ut)?ft>0?$<=A&&A<=U:U<=A&&A<=$:ut>0?F<=z&&z<=X:X<=z&&z<=F}const Pr=function(r,a,d){d===void 0&&(d={});for(var _=Ke(r),w=Ne(a),A=0;A<w.length-1;A++){var z=!1;if(d.ignoreEndVertices&&(A===0&&(z="start"),A===w.length-2&&(z="end"),A===0&&A+1===w.length-1&&(z="both")),Ns(w[A],w[A+1],_,z,typeof d.epsilon>"u"?null:d.epsilon))return!0}return!1};function Hs(r,a){var d=On(r),_=On(a),w=d.type,A=_.type,z=d.coordinates,$=_.coordinates;switch(w){case"Point":if(A==="Point")return Un(z,$);throw new Error("feature2 "+A+" geometry not supported");case"MultiPoint":switch(A){case"Point":return function(F,U){var X,ft=!1;for(X=0;X<F.coordinates.length;X++)if(Un(F.coordinates[X],U.coordinates)){ft=!0;break}return ft}(d,_);case"MultiPoint":return function(F,U){for(var X=0,ft=U.coordinates;X<ft.length;X++){for(var ut=ft[X],Mt=!1,Rt=0,Ut=F.coordinates;Rt<Ut.length;Rt++)if(Un(ut,Ut[Rt])){Mt=!0;break}if(!Mt)return!1}return!0}(d,_);default:throw new Error("feature2 "+A+" geometry not supported")}case"LineString":switch(A){case"Point":return Pr(_,d,{ignoreEndVertices:!0});case"LineString":return function(F,U){for(var X=!1,ft=0,ut=U.coordinates;ft<ut.length;ft++){var Mt=ut[ft];if(Pr({type:"Point",coordinates:Mt},F,{ignoreEndVertices:!0})&&(X=!0),!Pr({type:"Point",coordinates:Mt},F,{ignoreEndVertices:!1}))return!1}return X}(d,_);case"MultiPoint":return function(F,U){for(var X=!1,ft=0,ut=U.coordinates;ft<ut.length;ft++){var Mt=ut[ft];if(Pr(Mt,F,{ignoreEndVertices:!0})&&(X=!0),!Pr(Mt,F))return!1}return!!X}(d,_);default:throw new Error("feature2 "+A+" geometry not supported")}case"Polygon":switch(A){case"Point":return Wr(_,d,{ignoreBoundary:!0});case"LineString":return function(F,U){var X=!1,ft=0,ut=ir(F),Mt=ir(U);if(!Jr(ut,Mt))return!1;for(;ft<U.coordinates.length-1;ft++)if(Wr({type:"Point",coordinates:ko(U.coordinates[ft],U.coordinates[ft+1])},F,{ignoreBoundary:!0})){X=!0;break}return X}(d,_);case"Polygon":return function(F,U){if(F.type==="Feature"&&F.geometry===null||U.type==="Feature"&&U.geometry===null)return!1;var X=ir(F),ft=ir(U);if(!Jr(X,ft))return!1;for(var ut=On(U).coordinates,Mt=0,Rt=ut;Mt<Rt.length;Mt++)for(var Ut=0,ne=Rt[Mt];Ut<ne.length;Ut++)if(!Wr(ne[Ut],F))return!1;return!0}(d,_);case"MultiPoint":return function(F,U){for(var X=0,ft=U.coordinates;X<ft.length;X++)if(!Wr(ft[X],F,{ignoreBoundary:!0}))return!1;return!0}(d,_);default:throw new Error("feature2 "+A+" geometry not supported")}default:throw new Error("feature1 "+w+" geometry not supported")}}function Jr(r,a){return!(r[0]>a[0])&&!(r[2]<a[2])&&!(r[1]>a[1])&&!(r[3]<a[3])}function Un(r,a){return r[0]===a[0]&&r[1]===a[1]}function ko(r,a){return[(r[0]+a[0])/2,(r[1]+a[1])/2]}var Lo=c(2676),sr=c.n(Lo);function ue(r){var a={type:"Feature"};return a.geometry=r,a}function Me(r){return r.type==="Feature"?r.geometry:r}function Sr(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function Gn(r){return ue({type:"Polygon",coordinates:r})}function Zn(r){return ue({type:"MultiPolygon",coordinates:r})}function Yr(r){return Array.isArray(r)?1+Yr(r[0]):-1}function ee(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));var a=Sr(r),d=Yr(a),_=[];return d>1?a.forEach(function(w){_.push(function(A){return ue({type:"LineString",coordinates:A})}(w))}):_.push(r),_}function Ae(r){var a=[];return r.eachLayer(function(d){a.push(Sr(d.toGeoJSON(15)))}),function(d){return ue({type:"MultiLineString",coordinates:d})}(a)}function Ii(r,a){return function(d){if(Array.isArray(d))return d}(r)||function(d,_){var w=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(w!=null){var A,z,$=[],F=!0,U=!1;try{for(w=w.call(d);!(F=(A=w.next()).done)&&($.push(A.value),!_||$.length!==_);F=!0);}catch(X){U=!0,z=X}finally{try{F||w.return==null||w.return()}finally{if(U)throw z}}return $}}(r,a)||function(d,_){if(d){if(typeof d=="string")return Er(d,_);var w=Object.prototype.toString.call(d).slice(8,-1);if(w==="Object"&&d.constructor&&(w=d.constructor.name),w==="Map"||w==="Set")return Array.from(d);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return Er(d,_)}}(r,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Er(r,a){(a==null||a>r.length)&&(a=r.length);for(var d=0,_=new Array(a);d<a;d++)_[d]=r[d];return _}function en(r){return function(a){if(Array.isArray(a))return Di(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,d){if(a){if(typeof a=="string")return Di(a,d);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Di(a,d)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Di(r,a){(a==null||a>r.length)&&(a=r.length);for(var d=0,_=new Array(a);d<a;d++)_[d]=r[d];return _}D.Cut=D.Polygon.extend({initialize:function(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var r=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=2)){var d=L.polygon(a,this.options.pathOptions);d._latlngInfos=this._layer._latlngInfo,this.cut(d),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(_){var w=_.layer,A=_.originalLayer;r._fireCut(A,w,A),r._fireCut(r._map,w,A),A.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(r){var a=this,d=this._map._layers,_=r._latlngInfos||[];Object.keys(d).map(function(w){return d[w]}).filter(function(w){return w.pm}).filter(function(w){return!w._pmTempLayer}).filter(function(w){return!L.PM.optIn&&!w.options.pmIgnore||L.PM.optIn&&w.options.pmIgnore===!1}).filter(function(w){return w instanceof L.Polyline}).filter(function(w){return w!==r}).filter(function(w){return w.pm.options.allowCutting}).filter(function(w){return!(a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0)||a.options.layersToCut.indexOf(w)>-1}).filter(function(w){return!a._layerGroup.hasLayer(w)}).filter(function(w){try{var A=!!Rn(r.toGeoJSON(15),w.toGeoJSON(15)).features.length>0;return A||w instanceof L.Polyline&&!(w instanceof L.Polygon)?A:(z=r.toGeoJSON(15),$=w.toGeoJSON(15),F=Me(z),U=Me($),!((X=sr().intersection(F.coordinates,U.coordinates)).length===0||!(X.length===1?Gn(X[0]):Zn(X))))}catch{return w instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var z,$,F,U,X}).forEach(function(w){var A;if(w instanceof L.Polygon){var z=(A=L.polygon(w.getLatLngs())).getLatLngs();_.forEach(function(ut){if(ut&&ut.snapInfo){var Mt=ut.latlng,Rt=a._calcClosestLayer(Mt,[A]);if(Rt&&Rt.segment&&Rt.distance<a.options.snapDistance){var Ut=Rt.segment;if(Ut&&Ut.length===2){var ne=L.PM.Utils._getIndexFromSegment(z,Ut),we=ne.indexPath,$t=ne.parentPath,xe=ne.newIndex;(we.length>1?wt()(z,$t):z).splice(xe,0,Mt)}}}})}else A=w;var $=a._cutLayer(r,A),F=L.geoJSON($,w.options);if(F.getLayers().length===1){var U=F.getLayers();F=Ii(U,1)[0]}a._setPane(F,"layerPane");var X=F.addTo(a._map.pm._getContainingLayer());if(X.pm.enable(w.pm.options),X.pm.disable(),w._pmTempLayer=!0,r._pmTempLayer=!0,w.remove(),w.removeFrom(a._map.pm._getContainingLayer()),r.remove(),r.removeFrom(a._map.pm._getContainingLayer()),X.getLayers&&X.getLayers().length===0&&a._map.pm.removeLayer({target:X}),X instanceof L.LayerGroup&&X.eachLayer(function(ut){a._addDrawnLayerProp(ut)}),a._addDrawnLayerProp(X),a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0){var ft=a.options.layersToCut.indexOf(w);ft>-1&&a.options.layersToCut.splice(ft,1)}a._editedLayers.push({layer:X,originalLayer:w})})},_cutLayer:function(r,a){var d,_,w,A,z,$,F=L.geoJSON();if(a instanceof L.Polygon)_=a.toGeoJSON(15),w=r.toGeoJSON(15),A=Me(_),z=Me(w),d=($=sr().difference(A.coordinates,z.coordinates)).length===0?null:$.length===1?Gn($[0]):Zn($);else{var U=ee(a);U.forEach(function(X){var ft=Kr(X,r.toGeoJSON(15));(ft&&ft.features.length>0?L.geoJSON(ft):L.geoJSON(X)).getLayers().forEach(function(ut){Hs(r.toGeoJSON(15),ut.toGeoJSON(15))||ut.addTo(F)})}),d=U.length>1?Ae(F):F.toGeoJSON(15)}return d},_change:L.Util.falseFn}),D.Text=D.extend({initialize:function(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker:function(r){var a;if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var d=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(a=this.options.textOptions)!==null&&a!==void 0&&a.className){var _,w=this.options.textOptions.className.split(" ");(_=this.textArea.classList).add.apply(_,en(w))}var A=this._createTextIcon(this.textArea),z=new L.Marker(d,{textMarker:!0,_textMarkerOverPM:!0,icon:A});if(this._setPane(z,"markerPane"),this._finishLayer(z),z.pm||(z.options.draggable=!1),z.addTo(this._map.pm._getContainingLayer()),z.pm){var $,F,U,X,ft;z.pm.textArea=this.textArea,L.setOptions(z.pm,{removeIfEmpty:($=(F=this.options.textOptions)===null||F===void 0?void 0:F.removeIfEmpty)===null||$===void 0||$});var ut=(U=(X=this.options.textOptions)===null||X===void 0?void 0:X.focusAfterDraw)===null||U===void 0||U;z.pm._createTextMarker(ut),(ft=this.options.textOptions)!==null&&ft!==void 0&&ft.text&&z.pm.setText(this.options.textOptions.text)}this._fireCreate(z),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var r=document.createElement("textarea");return r.autofocus=!0,r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon:function(r){return L.divIcon({className:"pm-text-marker",html:r})}});const Xr={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,jt(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var r=this._getDOMElem();r&&(jt(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,jt(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var r=this._getDOMElem();r&&(jt(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(r){var a=r.touches?r.touches[0]:r,d={originalEvent:a,target:this._layer};return d.containerPoint=this._map.mouseEventToContainerPoint(a),d.latlng=this._map.containerPointToLatLng(d.containerPoint),this._dragMixinOnMouseDown(d),!1},_simulateMouseMoveEvent:function(r){var a=r.touches?r.touches[0]:r,d={originalEvent:a,target:this._layer};return d.containerPoint=this._map.mouseEventToContainerPoint(a),d.latlng=this._map.containerPointToLatLng(d.containerPoint),this._dragMixinOnMouseMove(d),!1},_simulateMouseUpEvent:function(r){var a={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown:function(r){if(!(r.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(r);var a=r._fromLayerSync,d=this._syncLayers("_dragMixinOnMouseDown",r);this._layer instanceof L.Marker&&(!this.options.snappable||a||d?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||a||d?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(r){this._overwriteEventIfItComesFromMarker(r);var a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(r){var a=this,d=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){a._dragging=!1,d&&L.DomUtil.removeClass(d,"leaflet-pm-dragging"),a._fireDragEnd(),a._fireEdit(),a._layerEdited=!0},10),!0)},_onLayerDrag:function(r){var a=r.latlng,d=a.lat-this._tempDragCoord.lat,_=a.lng-this._tempDragCoord.lng,w=function X(ft){return ft.map(function(ut){if(Array.isArray(ut))return X(ut);var Mt={lat:ut.lat+d,lng:ut.lng+_};return(ut.alt||ut.alt===0)&&(Mt.alt=ut.alt),Mt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var A=w([this._layer.getLatLng()]);this._layer.setLatLng(A[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var z=this._layer.getLatLng();this._layer._snapped&&(z=this._layer._orgLatLng);var $=w([z]);this._layer.setLatLng($[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var F=w([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(F),this._fireChange(this._layer.getBounds(),"Edit")}else{var U=w(this._layer.getLatLngs());this._layer.setLatLngs(U),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,r.layer=this._layer,this._fireDrag(r)},addDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem:function(){var r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker:function(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers:function(r,a){var d=this;if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;var _=[];if(L.Util.isArray(this.options.syncLayersOnDrag))_=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(z){z instanceof L.LayerGroup&&(_=_.concat(z.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var w in this._parentLayerGroup){var A=this._parentLayerGroup[w];A.pm&&(_=A.pm.getLayers(!0))}return L.Util.isArray(_)&&_.length>0&&(_=_.filter(function(z){return!!z.pm}).filter(function(z){return!!z.pm.options.draggable})).forEach(function(z){z!==d._layer&&z.pm[r]&&(z._snapped=!1,z.pm[r](a))}),_.length>0}return!1},_stopDOMImageDrag:function(r){return r.preventDefault(),!1}};function Bn(r,a,d){var _=d.getMaxZoom();if(_===1/0&&(_=d.getZoom()),L.Util.isArray(r)){var w=[];return r.forEach(function(A){w.push(Bn(A,a,d))}),w}return r instanceof L.LatLng?function(A,z,$,F){return $.unproject(z.transform($.project(A,F)),F)}(r,a,d,_):null}function Pe(r,a){a instanceof L.Layer&&(a=a.getLatLng());var d=r.getMaxZoom();return d===1/0&&(d=r.getZoom()),r.project(a,d)}function fn(r,a){var d=r.getMaxZoom();return d===1/0&&(d=r.getZoom()),r.unproject(a,d)}var Tr={_onRotateStart:function(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Pe(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Pe(this._map,r.target.getLatLng()),this._initialRotateLatLng=Pt(this._layer),this._startAngle=this.getAngle();var a=Pt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate:function(r){var a=Pe(this._map,r.target.getLatLng()),d=this._rotationStartPoint,_=this._rotationOriginPoint,w=Math.atan2(a.y-_.y,a.x-_.x)-Math.atan2(d.y-_.y,d.x-_.x);this._layer.setLatLngs(this._rotateLayer(w,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var A=this;(function U(X){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ut>-1&&ft.push(ut),L.Util.isArray(X[0]))X.forEach(function(Rt,Ut){return U(Rt,ft.slice(),Ut)});else{var Mt=wt()(A._markers,ft);X.forEach(function(Rt,Ut){Mt[Ut].setLatLng(Rt)})}})(this._layer.getLatLngs());var z=Pt(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(w,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var $=180*w/Math.PI,F=($=$<0?$+360:$)+this._startAngle;this._setAngle(F),this._rotationLayer.pm._setAngle(F),this._fireRotation(this._rotationLayer,$,z),this._fireRotation(this._map,$,z),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var a=Pt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Pt(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,a),this._fireRotationEnd(this._map,r,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(r,a,d,_,w){var A=Pe(w,d);return this._matrix=_.clone().rotate(r,A).flip(),Bn(a,this._matrix,w)},_setAngle:function(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter:function(){var r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=r.getCenter();return r.removeFrom(this._layer._map),a},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Pt(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(r){var a=this.getAngle(),d=this._layer.getLatLngs(),_=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(_,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(_,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var w=this.getAngle()-a;w=w<0?w+360:w,this._startAngle=a,this._fireRotation(this._layer,w,d,this._layer),this._fireRotation(this._map||this._layer._map,w,d,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(r){var a=r-this.getAngle();this.rotateLayer(a)},getAngle:function(){return this._angle||0},setInitAngle:function(r){this._setAngle(r)}};const Or=Tr,Be=L.Class.extend({includes:[Xr,O,Or,Et],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(r){L.Util.setOptions(this,r)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(r,a){var d=a.target,_={layer:this._layer,marker:d,event:a},w="";return r==="move"?w="moveVertexValidation":r==="add"?w="addVertexValidation":r==="remove"&&(w="removeVertexValidation"),this.options[w]&&typeof this.options[w]=="function"&&!this.options[w](_)?(r==="move"&&(d._cancelDragEventChain=d.getLatLng()),!1):(d._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(r){return!r._cancelDragEventChain||(r._latlng=r._cancelDragEventChain,r.update(),!1)},_vertexValidationDragEnd:function(r){return!r._cancelDragEventChain||(r._cancelDragEventChain=null,!1)}});function In(r){return function(a){if(Array.isArray(a))return Rr(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,d){if(a){if(typeof a=="string")return Rr(a,d);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Rr(a,d)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rr(r,a){(a==null||a>r.length)&&(a=r.length);for(var d=0,_=new Array(a);d<a;d++)_[d]=r[d];return _}Be.LayerGroup=L.Class.extend({initialize:function(r){var a=this;this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(d){return a._initLayer(d)}),this._layerGroup.on("layeradd",L.Util.throttle(function(d){if(!d.layer._pmTempLayer){a._layers=a.getLayers();var _=a._layers.filter(function(w){return!w.pm._parentLayerGroup||!(a._layerGroup._leaflet_id in w.pm._parentLayerGroup)});_.forEach(function(w){a._initLayer(w)}),_.length>0&&a._getMap()&&a._getMap().pm.globalEditModeEnabled()&&a.enabled()&&a.enable(a.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(d){a._removeLayerFromGroup(d.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(d){d.target._pmTempLayer||(a._layers=a.getLayers())},100,this),this)},enable:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(d){d instanceof L.LayerGroup?a.indexOf(d._leaflet_id)===-1&&(a.push(d._leaflet_id),d.pm.enable(r,a)):d.pm.enable(r)})},disable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(a){a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.disable(r)):a.pm.disable()})},enabled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers());var a=this._layers.find(function(d){return d instanceof L.LayerGroup?r.indexOf(d._leaflet_id)===-1&&(r.push(d._leaflet_id),d.pm.enabled(r)):d.pm.enabled()});return!!a},toggleEdit:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(d){d instanceof L.LayerGroup?a.indexOf(d._leaflet_id)===-1&&(a.push(d._leaflet_id),d.pm.toggleEdit(r,a)):d.pm.toggleEdit(r)})},_initLayer:function(r){var a=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup:function(r){if(r.pm&&r.pm._layerGroup){var a=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[a]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var r=this._layers.find(function(a){return a.pm.dragging()});return!!r}return!1},getOptions:function(){return this.options},_getMap:function(){var r;return this._map||((r=this._layers.find(function(a){return!!a._map}))===null||r===void 0?void 0:r._map)||null},getLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],w=[];return r?this._layerGroup.getLayers().forEach(function(A){w.push(A),A instanceof L.LayerGroup&&_.indexOf(A._leaflet_id)===-1&&(_.push(A._leaflet_id),w=w.concat(A.pm.getLayers(!0,!0,!0,_)))}):w=this._layerGroup.getLayers(),d&&(w=w.filter(function(A){return!(A instanceof L.LayerGroup)})),a&&(w=(w=(w=w.filter(function(A){return!!A.pm})).filter(function(A){return!A._pmTempLayer})).filter(function(A){return!L.PM.optIn&&!A.options.pmIgnore||L.PM.optIn&&A.options.pmIgnore===!1})),w},setOptions:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(function(d){d.pm&&(d instanceof L.LayerGroup?a.indexOf(d._leaflet_id)===-1&&(a.push(d._leaflet_id),d.pm.setOptions(r,a)):d.pm.setOptions(r))})}}),Be.Marker=Be.extend({_shape:"Marker",initialize:function(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(r){var a=r.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});const ji={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var r=[].concat(In(this._markerGroup.getLayers()),In(this.markerCache));this.markerCache=r.filter(function(a,d,_){return _.indexOf(a)===d})},renderLimits:function(r){var a=this;this.markerCache.forEach(function(d){r.includes(d)?a._markerGroup.addLayer(d):a._markerGroup.removeLayer(d)})},applyLimitFilters:function(r){var a=r.latlng,d=a===void 0?{lat:0,lng:0}:a;if(!this._preventRenderMarkers){var _=In(this._filterClosestMarkers(d));this.renderLimits(_)}},_filterClosestMarkers:function(r){var a=In(this.markerCache),d=this.options.limitMarkersToCount;return d===-1?a:(a.sort(function(_,w){return _._latlng.distanceTo(r)-w._latlng.distanceTo(r)}),a.filter(function(_,w){return!(d>-1)||w<d}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(r){this._preventRenderMarkers=!!r}};function Qr(r,a){return function(d){if(Array.isArray(d))return d}(r)||function(d,_){var w=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(w!=null){var A,z,$=[],F=!0,U=!1;try{for(w=w.call(d);!(F=(A=w.next()).done)&&($.push(A.value),!_||$.length!==_);F=!0);}catch(X){U=!0,z=X}finally{try{F||w.return==null||w.return()}finally{if(U)throw z}}return $}}(r,a)||function(d,_){if(d){if(typeof d=="string")return ti(d,_);var w=Object.prototype.toString.call(d).slice(8,-1);if(w==="Object"&&d.constructor&&(w=d.constructor.name),w==="Map"||w==="Set")return Array.from(d);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return ti(d,_)}}(r,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ti(r,a){(a==null||a>r.length)&&(a=r.length);for(var d=0,_=new Array(a);d<a;d++)_[d]=r[d];return _}function zi(r){return function(a){if(Array.isArray(a))return ar(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,d){if(a){if(typeof a=="string")return ar(a,d);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return ar(a,d)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ar(r,a){(a==null||a>r.length)&&(a=r.length);for(var d=0,_=new Array(a);d<a;d++)_[d]=r[d];return _}Be.Line=Be.extend({includes:[ji],_shape:"Line",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(r,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var r=this,a=this._map,d=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function _(w){if(Array.isArray(w[0]))return w.map(_,r);var A=w.map(r._createMarker,r);return r.options.hideMiddleMarkers!==!0&&w.map(function(z,$){var F=r.isPolygon()?($+1)%w.length:$+1;return r._createMiddleMarker(A[$],A[F])}),A}(d),this.filterMarkerGroup(),a.addLayer(this._markerGroup)},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker:function(r,a){if(!r||!a)return!1;var d=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),a.getLatLng()),_=this._createMarker(d),w=L.divIcon({className:"marker-icon marker-icon-middle"});return _.setIcon(w),_.leftM=r,_.rightM=a,r._middleMarkerNext=_,a._middleMarkerPrev=_,_.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),_.on("movestart",this._onMiddleMarkerMoveStart,this),_},_onMiddleMarkerClick:function(r){var a=r.target;if(this._vertexValidation("add",r)){var d=L.divIcon({className:"marker-icon"});a.setIcon(d),this._addMarker(a,a.leftM,a.rightM)}},_onMiddleMarkerMoveStart:function(r){var a=r.target;a.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",r)?(a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)):a.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(r){var a=r.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd:function(r){var a=r.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(a)){var d=L.divIcon({className:"marker-icon"});a.setIcon(d),setTimeout(function(){delete a._dragging},100)}},_addMarker:function(r,a,d){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var _=r.getLatLng(),w=this._layer._latlngs;delete r.leftM,delete r.rightM;var A=L.PM.Utils.findDeepMarkerIndex(this._markers,a),z=A.indexPath,$=A.index,F=A.parentPath,U=z.length>1?wt()(w,F):w,X=z.length>1?wt()(this._markers,F):this._markers;U.splice($+1,0,_),X.splice($+1,0,r),this._layer.setLatLngs(w),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,r),this._createMiddleMarker(r,d)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,_),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return ce(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(r){var a=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;r?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(ce(this._layer.toGeoJSON(15)))}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var r=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){r._layer.setStyle({color:r.cachedColor}),r.isRed=!1},200)},_updateDisabledMarkerStyle:function(r,a){var d=this;r.forEach(function(_){Array.isArray(_)?d._updateDisabledMarkerStyle(_,a):_._icon&&(a&&!d._checkMarkerAllowedToDrag(_)?L.DomUtil.addClass(_._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(_._icon,"vertexmarker-disabled"))})},_removeMarker:function(r){var a=r.target;if(this._vertexValidation("remove",r)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Pt(this._layer,this._layer.getLatLngs()));var d=this._layer.getLatLngs(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,a),w=_.indexPath,A=_.index,z=_.parentPath;if(w){var $=w.length>1?wt()(d,z):d,F=w.length>1?wt()(this._markers,z):this._markers;if(this.options.removeLayerBelowMinVertexCount||!($.length<=2||this.isPolygon()&&$.length<=3)){$.splice(A,1),this._layer.setLatLngs(d),this.isPolygon()&&$.length<=2&&$.splice(0,$.length);var U=!1;if($.length<=1&&($.splice(0,$.length),z.length>1&&w.length>1&&(d=Le(d)),this._layer.setLatLngs(d),this._initMarkers(),U=!0),Vt(d)||this._layer.remove(),d=Le(d),this._layer.setLatLngs(d),this._markers=Le(this._markers),!U&&(F=w.length>1?wt()(this._markers,z):this._markers,a._middleMarkerPrev&&this._markerGroup.removeLayer(a._middleMarkerPrev),a._middleMarkerNext&&this._markerGroup.removeLayer(a._middleMarkerNext),this._markerGroup.removeLayer(a),F)){var X,ft;if(this.isPolygon()?(X=(A+1)%F.length,ft=(A+(F.length-1))%F.length):(ft=A-1<0?void 0:A-1,X=A+1>=F.length?void 0:A+1),X!==ft){var ut=F[ft],Mt=F[X];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ut,Mt)}F.splice(A,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,w),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(r){var a=this._layer.getLatLngs(),d=r.getLatLng(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,r),w=_.indexPath,A=_.index,z=_.parentPath;(w.length>1?wt()(a,z):a).splice(A,1,d),this._layer.setLatLngs(a)},_getNeighborMarkers:function(r){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,r),d=a.indexPath,_=a.index,w=a.parentPath,A=d.length>1?wt()(this._markers,w):this._markers,z=(_+1)%A.length;return{prevMarker:A[(_+(A.length-1))%A.length],nextMarker:A[z]}},_checkMarkerAllowedToDrag:function(r){var a=this._getNeighborMarkers(r),d=a.prevMarker,_=a.nextMarker,w=L.polyline([d.getLatLng(),r.getLatLng()]),A=L.polyline([r.getLatLng(),_.getLatLng()]),z=Rn(this._layer.toGeoJSON(15),w.toGeoJSON(15)).features.length,$=Rn(this._layer.toGeoJSON(15),A.toGeoJSON(15)).features.length;return r.getLatLng()===this._markers[0][0].getLatLng()?$+=1:r.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(z+=1),!(z<=2&&$<=2)},_onMarkerDragStart:function(r){var a=r.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",r)){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireMarkerDragStart(r,d),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Pt(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null}},_onMarkerDrag:function(r){var a=r.target;if(this._vertexValidationDrag(a)){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,a),_=d.indexPath,w=d.index,A=d.parentPath;if(_){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(a);var z=_.length>1?wt()(this._markers,A):this._markers,$=(w+1)%z.length,F=(w+(z.length-1))%z.length,U=a.getLatLng(),X=z[F].getLatLng(),ft=z[$].getLatLng();if(a._middleMarkerNext){var ut=L.PM.Utils.calcMiddleLatLng(this._map,U,ft);a._middleMarkerNext.setLatLng(ut)}if(a._middleMarkerPrev){var Mt=L.PM.Utils.calcMiddleLatLng(this._map,U,X);a._middleMarkerPrev.setLatLng(Mt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,_),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(r){var a=r.target;if(this._vertexValidationDragEnd(a)){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath,_=this.hasSelfIntersection();_&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(_=!1);var w=!this.options.allowSelfIntersection&&_;if(this._fireMarkerDragEnd(r,d,w),w)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(r,d);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(r){var a=r.target;if(!a._dragging){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireVertexClick(r,d)}}}),Be.Polygon=Be.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(r){var a=this._getNeighborMarkers(r),d=a.prevMarker,_=a.nextMarker,w=L.polyline([d.getLatLng(),r.getLatLng()]),A=L.polyline([r.getLatLng(),_.getLatLng()]),z=Rn(this._layer.toGeoJSON(15),w.toGeoJSON(15)).features.length,$=Rn(this._layer.toGeoJSON(15),A.toGeoJSON(15)).features.length;return!(z<=2&&$<=2)}}),Be.Rectangle=Be.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var r=this,a=this._map,d=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,a.addLayer(this._markerGroup),this._markers=[],this._markers[0]=d.map(this._createMarker,this);var _=Qr(this._markers,1);this._cornerMarkers=_[0],this._layer.getLatLngs()[0].forEach(function(w,A){var z=r._cornerMarkers.find(function($){return $._index===A});z&&z.setLatLng(w)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(r,a){var d=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._origLatLng=r,d._index=a,d._pmTempLayer=!0,this._markerGroup.addLayer(d),d},_addMarkerEvents:function(){var r=this;this._markers[0].forEach(function(a){a.on("dragstart",r._onMarkerDragStart,r),a.on("drag",r._onMarkerDrag,r),a.on("dragend",r._onMarkerDragEnd,r),r.options.preventMarkerRemoval||a.on("contextmenu",r._removeMarker,r)})},_removeMarker:function(){return null},_onMarkerDragStart:function(r){if(this._vertexValidation("move",r)){var a=r.target,d=this._cornerMarkers;a._oppositeCornerLatLng=d.find(function(_){return _._index===(a._index+2)%4}).getLatLng(),a._snapped=!1,this._fireMarkerDragStart(r)}},_onMarkerDrag:function(r){var a=r.target;this._vertexValidationDrag(a)&&a._index!==void 0&&(this._adjustRectangleForMarkerMove(a),this._fireMarkerDrag(r),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(r){var a=r.target;this._vertexValidationDragEnd(a)&&(this._cornerMarkers.forEach(function(d){delete d._oppositeCornerLatLng}),this._fireMarkerDragEnd(r),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(r){L.extend(r._origLatLng,r._latlng);var a=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var r=this,a=this._layer.getLatLngs()[0];a&&a.length!==4&&a.length>0?(a.forEach(function(d,_){r._cornerMarkers[_].setLatLng(d)}),this._cornerMarkers.slice(a.length).forEach(function(d){d.setLatLng(a[0])})):a&&a.length?this._cornerMarkers.forEach(function(d){d.setLatLng(a[d._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this._angle||0,this._map)}}),Be.Circle=Be.extend({_shape:"Circle",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var a=this._layer.getLatLng(),d=this._layer._radius,_=this._getLatLngOnCircle(a,d);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(r,a){var d=r.getLatLng(),_=a.getLatLng();this._hintline=L.polyline([d,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var a=this._createMarker(r);return L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"),a.on("drag",this._moveCircle,this),a.on("dragstart",this._onCircleDragStart,this),a.on("drag",this._onCircleDrag,this),a.on("dragend",this._onCircleDragEnd,this),a},_createOuterMarker:function(r){var a=this._createMarker(r);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(r){if(!r.target._cancelDragEventChain){var a=r.latlng;this._layer.setLatLng(a);var d=this._layer._radius,_=this._getLatLngOnCircle(a,d);this._outerMarker._latlng=_,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),d=this._map.distance(r,a);this.options.minRadiusCircle&&d<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(d),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,a])},_disableSnapping:function(){var r=this;this._markers.forEach(function(a){a.off("move",r._syncHintLine,r),a.off("move",r._syncCircleRadius,r),a.off("drag",r._handleSnapping,r),a.off("dragend",r._cleanupSnapping,r)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var a=r.target;this._vertexValidationDrag(a)&&this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){var a=r.target;this._vertexValidationDragEnd(a)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(r))},_onCircleDragStart:function(r){this._vertexValidationDrag(r.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(r){this._vertexValidationReset||this._fireDrag(r)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(r,a){var d=this._map.project(r),_=L.point(d.x+a,d.y);return this._map.unproject(_)},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),d=this._map.distance(r,a);return this.options.minRadiusCircle&&d<this.options.minRadiusCircle?a=Nt(this._map,r,a,this.options.minRadiusCircle):this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle&&(a=Nt(this._map,r,a,this.options.maxRadiusCircle)),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),d=this._map.distance(r,a);(this.options.minRadiusCircle&&d<this.options.minRadiusCircle||this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Be.CircleMarker=Be.extend({_shape:"CircleMarker",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var a=this._layer.getLatLng(),d=this._layer._radius,_=this._getLatLngOnCircle(a,d);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(r,a){var d=this._map.project(r),_=L.point(d.x+a,d.y);return this._map.unproject(_)},_createHintLine:function(r,a){var d=r.getLatLng(),_=a.getLatLng();this._hintline=L.polyline([d,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var a=this._createMarker(r);return this.options.draggable?L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"):a.dragging.disable(),a},_createOuterMarker:function(r){var a=this._createMarker(r);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_moveCircle:function(){var r=this._centerMarker.getLatLng();this._layer.setLatLng(r);var a=this._layer._radius,d=this._getLatLngOnCircle(r,a);this._outerMarker._latlng=d,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var r=this._layer.getLatLng(),a=this._layer._radius,d=this._getLatLngOnCircle(r,a);this._outerMarker.setLatLng(d),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(d),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,a])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var a=r.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var a=r.target;this._vertexValidationDragEnd(a)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_initSnappableMarkersDrag:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var r=this._layer._map||this._map;if(r){var a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),d=L.circle(this._layer.getLatLng(),this._layer.options);d.setRadius(a);var _=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(d,200,!_).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(d,200,!_),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(a));return this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker?a=Nt(this._map,r,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,r)):this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker&&(a=Nt(this._map,r,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,r))),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(a));(this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Be.ImageOverlay=Be.extend({_shape:"ImageOverlay",initialize:function(r){this._layer=r,this._enabled=!1},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},enabled:function(){return this._enabled},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]}}),Be.Text=Be.extend({_shape:"Text",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(r,"px"),this.textArea.style.width="".concat(a,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var r=this;this._disableOnBlurActive=!0,setTimeout(function(){r.enabled()&&L.DomEvent.on(document,"click",r._documentClick,r)},100)},_documentClick:function(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=this._hasFocus;this._hasFocus=r.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(r){this.textArea.value=r,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var r,a=this.options.className.split(" ");(r=this.textArea.classList).add.apply(r,zi(a))}var d=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(d),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(r){r.preventDefault()}});var ei=function(r,a,d,_,w,A){this._matrix=[r,a,d,_,w,A]};ei.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},ei.prototype={transform:function(r){return this._transform(r.clone())},_transform:function(r){var a=this._matrix,d=r.x,_=r.y;return r.x=a[0]*d+a[1]*_+a[4],r.y=a[2]*d+a[3]*_+a[5],r},untransform:function(r){var a=this._matrix;return new L.Point((r.x/a[0]-a[4])/a[0],(r.y/a[2]-a[5])/a[2])},clone:function(){var r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate:function(r){return r===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof r=="number"?(a=r,d=r):(a=r.x,d=r.y),this._add(1,0,0,1,a,d));var a,d},scale:function(r,a){return r===void 0?new L.Point(this._matrix[0],this._matrix[3]):(a=a||L.point(0,0),typeof r=="number"?(d=r,_=r):(d=r.x,_=r.y),this._add(d,0,0,_,a.x,a.y)._add(1,0,0,1,-a.x,-a.y));var d,_},rotate:function(r,a){var d=Math.cos(r),_=Math.sin(r);return a=a||new L.Point(0,0),this._add(d,_,-_,d,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(r,a,d,_,w,A){var z,$=[[],[],[]],F=this._matrix,U=[[F[0],F[2],F[4]],[F[1],F[3],F[5]],[0,0,1]],X=[[r,d,w],[a,_,A],[0,0,1]];r&&r instanceof L.PM.Matrix&&(X=[[(F=r._matrix)[0],F[2],F[4]],[F[1],F[3],F[5]],[0,0,1]]);for(var ft=0;ft<3;ft+=1)for(var ut=0;ut<3;ut+=1){z=0;for(var Mt=0;Mt<3;Mt+=1)z+=U[ft][Mt]*X[Mt][ut];$[ft][ut]=z}return this._matrix=[$[0][0],$[1][0],$[0][1],$[1][1],$[0][2],$[1][2]],this}};const Ni=ei;var Fs={calcMiddleLatLng:function(r,a,d){var _=r.project(a),w=r.project(d);return r.unproject(_._add(w)._divideBy(2))},findLayers:function(r){var a=[];return r.eachLayer(function(d){(d instanceof L.Polyline||d instanceof L.Marker||d instanceof L.Circle||d instanceof L.CircleMarker||d instanceof L.ImageOverlay)&&a.push(d)}),a=(a=(a=a.filter(function(d){return!!d.pm})).filter(function(d){return!d._pmTempLayer})).filter(function(d){return!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1})},circleToPolygon:function(r){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=r.getLatLng(),w=r.getRadius(),A=ie(_,w,a,0,d),z=[],$=0;$<A.length;$+=1){var F=[A[$].lat,A[$].lng];z.push(F)}return L.polygon(z,r.options)},disablePopup:function(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup:function(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent:function(r,a,d){var _=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.fire(a,d,_);var w=this.getAllParentGroups(r),A=w.groups;A.forEach(function(z){z.fire(a,d,_)})},getAllParentGroups:function(r){var a=[],d=[];return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(function _(w){for(var A in w._eventParents)if(a.indexOf(A)===-1){a.push(A);var z=w._eventParents[A];d.push(z),_(z)}}(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:d,groupIds:a},{groupIds:a,groups:d}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:ie,getTranslation:At,findDeepCoordIndex:function(r,a){var d,_=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],w=function z($){return function(F,U){var X=$.concat(U);if(_){if(F.lat&&F.lat===a.lat&&F.lng===a.lng)return d=X,!0}else if(F.lat&&L.latLng(F).equals(a))return d=X,!0;return Array.isArray(F)&&F.some(z(X))}};r.some(w([]));var A={};return d&&(A={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),A},findDeepMarkerIndex:function(r,a){var d;r.some(function w(A){return function(z,$){var F=A.concat($);return z._leaflet_id===a._leaflet_id?(d=F,!0):Array.isArray(z)&&z.some(w(F))}}([]));var _={};return d&&(_={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),_},_getIndexFromSegment:function(r,a){if(a&&a.length===2){var d=this.findDeepCoordIndex(r,a[0]),_=this.findDeepCoordIndex(r,a[1]),w=Math.max(d.index,_.index);return d.index!==0&&_.index!==0||w===1||(w+=1),{indexA:d,indexB:_,newIndex:w,indexPath:d.indexPath,parentPath:d.parentPath}}return null},_getRotatedRectangle:function(r,a,d,_){var w=Pe(_,r),A=Pe(_,a),z=d*Math.PI/180,$=Math.cos(z),F=Math.sin(z),U=(A.x-w.x)*$+(A.y-w.y)*F,X=(A.y-w.y)*$-(A.x-w.x)*F,ft=U*$+w.x,ut=U*F+w.y,Mt=-X*F+w.x,Rt=X*$+w.y;return[fn(_,w),fn(_,{x:ft,y:ut}),fn(_,A),fn(_,{x:Mt,y:Rt})]},pxRadiusToMeterRadius:function(r,a,d){var _=a.project(d),w=L.point(_.x+r,_.y);return a.distance(a.unproject(w),d)}};const te=Fs;L.PM=L.PM||{version:"2.14.2",Map:ae,Toolbar:xt,Draw:D,Edit:Be,Utils:te,Matrix:Ni,activeLang:"en",optIn:!1,initialize:function(r){this.addInitHooks(r)},setOptIn:function(r){this.optIn=!!r},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(r){var a=this;r instanceof L.LayerGroup&&r.eachLayer(function(d){a.reInitLayer(d)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(r){for(var a,d,_=this._map.mouseEventToLayerPoint(r),w=this._drawFirst;w;w=w.next)(a=w.layer).options.interactive&&a._containsPoint(_)&&(r.type!=="click"&&r.type!=="preclick"||!this._map._draggableMoved(a))&&(d=a);d&&(L.DomEvent.fakeStop(r),this._fireEvent([d],r))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(o){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof o!="function")throw new TypeError("callback must be a function");for(var l=Object(this),c=l.length>>>0,h=arguments[1],f=0;f<c;f++)if(o.call(h,l[f],f,l))return f;return-1},Array.prototype.find=Array.prototype.find||function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("callback must be a function");for(var l=Object(this),c=l.length>>>0,h=arguments[1],f=0;f<c;f++){var m=l[f];if(o.call(h,m,f,l))return m}},typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");o=Object(o);for(var l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(o[h]=c[h])}return o}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(o){o.hasOwnProperty("remove")||Object.defineProperty(o,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,l){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),h=c.length>>>0;if(h===0)return!1;for(var f,m,g=0|l,y=Math.max(g>=0?g:h-Math.abs(g),0);y<h;){if((f=c[y])===(m=o)||typeof f=="number"&&typeof m=="number"&&isNaN(f)&&isNaN(m))return!0;y++}return!1}})},1787:(o,l,c)=>{var h=c(2582),f=c(4102),m=c(1540),g=c(9705).Z,y=m.featureEach,k=(m.coordEach,f.polygon,f.featureCollection);function S(j){var T=new h(j);return T.insert=function(C){if(C.type!=="Feature")throw new Error("invalid feature");return C.bbox=C.bbox?C.bbox:g(C),h.prototype.insert.call(this,C)},T.load=function(C){var G=[];return Array.isArray(C)?C.forEach(function(E){if(E.type!=="Feature")throw new Error("invalid features");E.bbox=E.bbox?E.bbox:g(E),G.push(E)}):y(C,function(E){if(E.type!=="Feature")throw new Error("invalid features");E.bbox=E.bbox?E.bbox:g(E),G.push(E)}),h.prototype.load.call(this,G)},T.remove=function(C,G){if(C.type!=="Feature")throw new Error("invalid feature");return C.bbox=C.bbox?C.bbox:g(C),h.prototype.remove.call(this,C,G)},T.clear=function(){return h.prototype.clear.call(this)},T.search=function(C){var G=h.prototype.search.call(this,this.toBBox(C));return k(G)},T.collides=function(C){return h.prototype.collides.call(this,this.toBBox(C))},T.all=function(){var C=h.prototype.all.call(this);return k(C)},T.toJSON=function(){return h.prototype.toJSON.call(this)},T.fromJSON=function(C){return h.prototype.fromJSON.call(this,C)},T.toBBox=function(C){var G;if(C.bbox)G=C.bbox;else if(Array.isArray(C)&&C.length===4)G=C;else if(Array.isArray(C)&&C.length===6)G=[C[0],C[1],C[3],C[4]];else if(C.type==="Feature")G=g(C);else{if(C.type!=="FeatureCollection")throw new Error("invalid geojson");G=g(C)}return{minX:G[0],minY:G[1],maxX:G[2],maxY:G[3]}},T}o.exports=S,o.exports.default=S},1989:(o,l,c)=>{var h=c(1789),f=c(401),m=c(7667),g=c(1327),y=c(1866);function k(S){var j=-1,T=S==null?0:S.length;for(this.clear();++j<T;){var C=S[j];this.set(C[0],C[1])}}k.prototype.clear=h,k.prototype.delete=f,k.prototype.get=m,k.prototype.has=g,k.prototype.set=y,o.exports=k},8407:(o,l,c)=>{var h=c(7040),f=c(4125),m=c(2117),g=c(7518),y=c(4705);function k(S){var j=-1,T=S==null?0:S.length;for(this.clear();++j<T;){var C=S[j];this.set(C[0],C[1])}}k.prototype.clear=h,k.prototype.delete=f,k.prototype.get=m,k.prototype.has=g,k.prototype.set=y,o.exports=k},7071:(o,l,c)=>{var h=c(852)(c(5639),"Map");o.exports=h},3369:(o,l,c)=>{var h=c(4785),f=c(1285),m=c(6e3),g=c(9916),y=c(5265);function k(S){var j=-1,T=S==null?0:S.length;for(this.clear();++j<T;){var C=S[j];this.set(C[0],C[1])}}k.prototype.clear=h,k.prototype.delete=f,k.prototype.get=m,k.prototype.has=g,k.prototype.set=y,o.exports=k},6384:(o,l,c)=>{var h=c(8407),f=c(7465),m=c(3779),g=c(7599),y=c(4758),k=c(4309);function S(j){var T=this.__data__=new h(j);this.size=T.size}S.prototype.clear=f,S.prototype.delete=m,S.prototype.get=g,S.prototype.has=y,S.prototype.set=k,o.exports=S},2705:(o,l,c)=>{var h=c(5639).Symbol;o.exports=h},1149:(o,l,c)=>{var h=c(5639).Uint8Array;o.exports=h},6874:o=>{o.exports=function(l,c,h){switch(h.length){case 0:return l.call(c);case 1:return l.call(c,h[0]);case 2:return l.call(c,h[0],h[1]);case 3:return l.call(c,h[0],h[1],h[2])}return l.apply(c,h)}},4636:(o,l,c)=>{var h=c(2545),f=c(5694),m=c(1469),g=c(4144),y=c(5776),k=c(6719),S=Object.prototype.hasOwnProperty;o.exports=function(j,T){var C=m(j),G=!C&&f(j),E=!C&&!G&&g(j),R=!C&&!G&&!E&&k(j),H=C||G||E||R,M=H?h(j.length,String):[],I=M.length;for(var K in j)!T&&!S.call(j,K)||H&&(K=="length"||E&&(K=="offset"||K=="parent")||R&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||y(K,I))||M.push(K);return M}},9932:o=>{o.exports=function(l,c){for(var h=-1,f=l==null?0:l.length,m=Array(f);++h<f;)m[h]=c(l[h],h,l);return m}},6556:(o,l,c)=>{var h=c(9465),f=c(7813);o.exports=function(m,g,y){(y!==void 0&&!f(m[g],y)||y===void 0&&!(g in m))&&h(m,g,y)}},4865:(o,l,c)=>{var h=c(9465),f=c(7813),m=Object.prototype.hasOwnProperty;o.exports=function(g,y,k){var S=g[y];m.call(g,y)&&f(S,k)&&(k!==void 0||y in g)||h(g,y,k)}},8470:(o,l,c)=>{var h=c(7813);o.exports=function(f,m){for(var g=f.length;g--;)if(h(f[g][0],m))return g;return-1}},9465:(o,l,c)=>{var h=c(8777);o.exports=function(f,m,g){m=="__proto__"&&h?h(f,m,{configurable:!0,enumerable:!0,value:g,writable:!0}):f[m]=g}},3118:(o,l,c)=>{var h=c(3218),f=Object.create,m=function(){function g(){}return function(y){if(!h(y))return{};if(f)return f(y);g.prototype=y;var k=new g;return g.prototype=void 0,k}}();o.exports=m},8483:(o,l,c)=>{var h=c(5063)();o.exports=h},7786:(o,l,c)=>{var h=c(1811),f=c(327);o.exports=function(m,g){for(var y=0,k=(g=h(g,m)).length;m!=null&&y<k;)m=m[f(g[y++])];return y&&y==k?m:void 0}},4239:(o,l,c)=>{var h=c(2705),f=c(9607),m=c(2333),g=h?h.toStringTag:void 0;o.exports=function(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":g&&g in Object(y)?f(y):m(y)}},8565:o=>{var l=Object.prototype.hasOwnProperty;o.exports=function(c,h){return c!=null&&l.call(c,h)}},9454:(o,l,c)=>{var h=c(4239),f=c(7005);o.exports=function(m){return f(m)&&h(m)=="[object Arguments]"}},8458:(o,l,c)=>{var h=c(3560),f=c(5346),m=c(3218),g=c(346),y=/^\[object .+?Constructor\]$/,k=Function.prototype,S=Object.prototype,j=k.toString,T=S.hasOwnProperty,C=RegExp("^"+j.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");o.exports=function(G){return!(!m(G)||f(G))&&(h(G)?C:y).test(g(G))}},8749:(o,l,c)=>{var h=c(4239),f=c(1780),m=c(7005),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,o.exports=function(y){return m(y)&&f(y.length)&&!!g[h(y)]}},313:(o,l,c)=>{var h=c(3218),f=c(5726),m=c(3498),g=Object.prototype.hasOwnProperty;o.exports=function(y){if(!h(y))return m(y);var k=f(y),S=[];for(var j in y)(j!="constructor"||!k&&g.call(y,j))&&S.push(j);return S}},2980:(o,l,c)=>{var h=c(6384),f=c(6556),m=c(8483),g=c(9783),y=c(3218),k=c(1704),S=c(6390);o.exports=function j(T,C,G,E,R){T!==C&&m(C,function(H,M){if(R||(R=new h),y(H))g(T,C,M,G,j,E,R);else{var I=E?E(S(T,M),H,M+"",T,C,R):void 0;I===void 0&&(I=H),f(T,M,I)}},k)}},9783:(o,l,c)=>{var h=c(6556),f=c(4626),m=c(7133),g=c(278),y=c(8517),k=c(5694),S=c(1469),j=c(9246),T=c(4144),C=c(3560),G=c(3218),E=c(8630),R=c(6719),H=c(6390),M=c(9881);o.exports=function(I,K,nt,J,et,ct,pt){var ot=H(I,nt),bt=H(K,nt),Lt=pt.get(bt);if(Lt)h(I,nt,Lt);else{var Et=ct?ct(ot,bt,nt+"",I,K,pt):void 0,Ct=Et===void 0;if(Ct){var Ft=S(bt),wt=!Ft&&T(bt),de=!Ft&&!wt&&R(bt);Et=bt,Ft||wt||de?S(ot)?Et=ot:j(ot)?Et=g(ot):wt?(Ct=!1,Et=f(bt,!0)):de?(Ct=!1,Et=m(bt,!0)):Et=[]:E(bt)||k(bt)?(Et=ot,k(ot)?Et=M(ot):G(ot)&&!C(ot)||(Et=y(bt))):Ct=!1}Ct&&(pt.set(bt,Et),et(Et,bt,J,ct,pt),pt.delete(bt)),h(I,nt,Et)}}},5976:(o,l,c)=>{var h=c(6557),f=c(5357),m=c(61);o.exports=function(g,y){return m(f(g,y,h),g+"")}},6560:(o,l,c)=>{var h=c(5703),f=c(8777),m=c(6557),g=f?function(y,k){return f(y,"toString",{configurable:!0,enumerable:!1,value:h(k),writable:!0})}:m;o.exports=g},2545:o=>{o.exports=function(l,c){for(var h=-1,f=Array(l);++h<l;)f[h]=c(h);return f}},531:(o,l,c)=>{var h=c(2705),f=c(9932),m=c(1469),g=c(3448),y=h?h.prototype:void 0,k=y?y.toString:void 0;o.exports=function S(j){if(typeof j=="string")return j;if(m(j))return f(j,S)+"";if(g(j))return k?k.call(j):"";var T=j+"";return T=="0"&&1/j==-1/0?"-0":T}},1717:o=>{o.exports=function(l){return function(c){return l(c)}}},1811:(o,l,c)=>{var h=c(1469),f=c(5403),m=c(5514),g=c(9833);o.exports=function(y,k){return h(y)?y:f(y,k)?[y]:m(g(y))}},4318:(o,l,c)=>{var h=c(1149);o.exports=function(f){var m=new f.constructor(f.byteLength);return new h(m).set(new h(f)),m}},4626:(o,l,c)=>{o=c.nmd(o);var h=c(5639),f=l&&!l.nodeType&&l,m=f&&o&&!o.nodeType&&o,g=m&&m.exports===f?h.Buffer:void 0,y=g?g.allocUnsafe:void 0;o.exports=function(k,S){if(S)return k.slice();var j=k.length,T=y?y(j):new k.constructor(j);return k.copy(T),T}},7133:(o,l,c)=>{var h=c(4318);o.exports=function(f,m){var g=m?h(f.buffer):f.buffer;return new f.constructor(g,f.byteOffset,f.length)}},278:o=>{o.exports=function(l,c){var h=-1,f=l.length;for(c||(c=Array(f));++h<f;)c[h]=l[h];return c}},8363:(o,l,c)=>{var h=c(4865),f=c(9465);o.exports=function(m,g,y,k){var S=!y;y||(y={});for(var j=-1,T=g.length;++j<T;){var C=g[j],G=k?k(y[C],m[C],C,y,m):void 0;G===void 0&&(G=m[C]),S?f(y,C,G):h(y,C,G)}return y}},4429:(o,l,c)=>{var h=c(5639)["__core-js_shared__"];o.exports=h},1463:(o,l,c)=>{var h=c(5976),f=c(6612);o.exports=function(m){return h(function(g,y){var k=-1,S=y.length,j=S>1?y[S-1]:void 0,T=S>2?y[2]:void 0;for(j=m.length>3&&typeof j=="function"?(S--,j):void 0,T&&f(y[0],y[1],T)&&(j=S<3?void 0:j,S=1),g=Object(g);++k<S;){var C=y[k];C&&m(g,C,k,j)}return g})}},5063:o=>{o.exports=function(l){return function(c,h,f){for(var m=-1,g=Object(c),y=f(c),k=y.length;k--;){var S=y[l?k:++m];if(h(g[S],S,g)===!1)break}return c}}},8777:(o,l,c)=>{var h=c(852),f=function(){try{var m=h(Object,"defineProperty");return m({},"",{}),m}catch{}}();o.exports=f},1957:(o,l,c)=>{var h=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;o.exports=h},5050:(o,l,c)=>{var h=c(7019);o.exports=function(f,m){var g=f.__data__;return h(m)?g[typeof m=="string"?"string":"hash"]:g.map}},852:(o,l,c)=>{var h=c(8458),f=c(7801);o.exports=function(m,g){var y=f(m,g);return h(y)?y:void 0}},5924:(o,l,c)=>{var h=c(5569)(Object.getPrototypeOf,Object);o.exports=h},9607:(o,l,c)=>{var h=c(2705),f=Object.prototype,m=f.hasOwnProperty,g=f.toString,y=h?h.toStringTag:void 0;o.exports=function(k){var S=m.call(k,y),j=k[y];try{k[y]=void 0;var T=!0}catch{}var C=g.call(k);return T&&(S?k[y]=j:delete k[y]),C}},7801:o=>{o.exports=function(l,c){return l==null?void 0:l[c]}},222:(o,l,c)=>{var h=c(1811),f=c(5694),m=c(1469),g=c(5776),y=c(1780),k=c(327);o.exports=function(S,j,T){for(var C=-1,G=(j=h(j,S)).length,E=!1;++C<G;){var R=k(j[C]);if(!(E=S!=null&&T(S,R)))break;S=S[R]}return E||++C!=G?E:!!(G=S==null?0:S.length)&&y(G)&&g(R,G)&&(m(S)||f(S))}},1789:(o,l,c)=>{var h=c(4536);o.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:o=>{o.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(o,l,c)=>{var h=c(4536),f=Object.prototype.hasOwnProperty;o.exports=function(m){var g=this.__data__;if(h){var y=g[m];return y==="__lodash_hash_undefined__"?void 0:y}return f.call(g,m)?g[m]:void 0}},1327:(o,l,c)=>{var h=c(4536),f=Object.prototype.hasOwnProperty;o.exports=function(m){var g=this.__data__;return h?g[m]!==void 0:f.call(g,m)}},1866:(o,l,c)=>{var h=c(4536);o.exports=function(f,m){var g=this.__data__;return this.size+=this.has(f)?0:1,g[f]=h&&m===void 0?"__lodash_hash_undefined__":m,this}},8517:(o,l,c)=>{var h=c(3118),f=c(5924),m=c(5726);o.exports=function(g){return typeof g.constructor!="function"||m(g)?{}:h(f(g))}},5776:o=>{var l=/^(?:0|[1-9]\d*)$/;o.exports=function(c,h){var f=typeof c;return!!(h=h??9007199254740991)&&(f=="number"||f!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<h}},6612:(o,l,c)=>{var h=c(7813),f=c(8612),m=c(5776),g=c(3218);o.exports=function(y,k,S){if(!g(S))return!1;var j=typeof k;return!!(j=="number"?f(S)&&m(k,S.length):j=="string"&&k in S)&&h(S[k],y)}},5403:(o,l,c)=>{var h=c(1469),f=c(3448),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;o.exports=function(y,k){if(h(y))return!1;var S=typeof y;return!(S!="number"&&S!="symbol"&&S!="boolean"&&y!=null&&!f(y))||g.test(y)||!m.test(y)||k!=null&&y in Object(k)}},7019:o=>{o.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(o,l,c)=>{var h,f=c(4429),m=(h=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";o.exports=function(g){return!!m&&m in g}},5726:o=>{var l=Object.prototype;o.exports=function(c){var h=c&&c.constructor;return c===(typeof h=="function"&&h.prototype||l)}},7040:o=>{o.exports=function(){this.__data__=[],this.size=0}},4125:(o,l,c)=>{var h=c(8470),f=Array.prototype.splice;o.exports=function(m){var g=this.__data__,y=h(g,m);return!(y<0)&&(y==g.length-1?g.pop():f.call(g,y,1),--this.size,!0)}},2117:(o,l,c)=>{var h=c(8470);o.exports=function(f){var m=this.__data__,g=h(m,f);return g<0?void 0:m[g][1]}},7518:(o,l,c)=>{var h=c(8470);o.exports=function(f){return h(this.__data__,f)>-1}},4705:(o,l,c)=>{var h=c(8470);o.exports=function(f,m){var g=this.__data__,y=h(g,f);return y<0?(++this.size,g.push([f,m])):g[y][1]=m,this}},4785:(o,l,c)=>{var h=c(1989),f=c(8407),m=c(7071);o.exports=function(){this.size=0,this.__data__={hash:new h,map:new(m||f),string:new h}}},1285:(o,l,c)=>{var h=c(5050);o.exports=function(f){var m=h(this,f).delete(f);return this.size-=m?1:0,m}},6e3:(o,l,c)=>{var h=c(5050);o.exports=function(f){return h(this,f).get(f)}},9916:(o,l,c)=>{var h=c(5050);o.exports=function(f){return h(this,f).has(f)}},5265:(o,l,c)=>{var h=c(5050);o.exports=function(f,m){var g=h(this,f),y=g.size;return g.set(f,m),this.size+=g.size==y?0:1,this}},4523:(o,l,c)=>{var h=c(8306);o.exports=function(f){var m=h(f,function(y){return g.size===500&&g.clear(),y}),g=m.cache;return m}},4536:(o,l,c)=>{var h=c(852)(Object,"create");o.exports=h},3498:o=>{o.exports=function(l){var c=[];if(l!=null)for(var h in Object(l))c.push(h);return c}},1167:(o,l,c)=>{o=c.nmd(o);var h=c(1957),f=l&&!l.nodeType&&l,m=f&&o&&!o.nodeType&&o,g=m&&m.exports===f&&h.process,y=function(){try{var k=m&&m.require&&m.require("util").types;return k||g&&g.binding&&g.binding("util")}catch{}}();o.exports=y},2333:o=>{var l=Object.prototype.toString;o.exports=function(c){return l.call(c)}},5569:o=>{o.exports=function(l,c){return function(h){return l(c(h))}}},5357:(o,l,c)=>{var h=c(6874),f=Math.max;o.exports=function(m,g,y){return g=f(g===void 0?m.length-1:g,0),function(){for(var k=arguments,S=-1,j=f(k.length-g,0),T=Array(j);++S<j;)T[S]=k[g+S];S=-1;for(var C=Array(g+1);++S<g;)C[S]=k[S];return C[g]=y(T),h(m,this,C)}}},5639:(o,l,c)=>{var h=c(1957),f=typeof self=="object"&&self&&self.Object===Object&&self,m=h||f||Function("return this")();o.exports=m},6390:o=>{o.exports=function(l,c){if((c!=="constructor"||typeof l[c]!="function")&&c!="__proto__")return l[c]}},61:(o,l,c)=>{var h=c(6560),f=c(1275)(h);o.exports=f},1275:o=>{var l=Date.now;o.exports=function(c){var h=0,f=0;return function(){var m=l(),g=16-(m-f);if(f=m,g>0){if(++h>=800)return arguments[0]}else h=0;return c.apply(void 0,arguments)}}},7465:(o,l,c)=>{var h=c(8407);o.exports=function(){this.__data__=new h,this.size=0}},3779:o=>{o.exports=function(l){var c=this.__data__,h=c.delete(l);return this.size=c.size,h}},7599:o=>{o.exports=function(l){return this.__data__.get(l)}},4758:o=>{o.exports=function(l){return this.__data__.has(l)}},4309:(o,l,c)=>{var h=c(8407),f=c(7071),m=c(3369);o.exports=function(g,y){var k=this.__data__;if(k instanceof h){var S=k.__data__;if(!f||S.length<199)return S.push([g,y]),this.size=++k.size,this;k=this.__data__=new m(S)}return k.set(g,y),this.size=k.size,this}},5514:(o,l,c)=>{var h=c(4523),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=h(function(y){var k=[];return y.charCodeAt(0)===46&&k.push(""),y.replace(f,function(S,j,T,C){k.push(T?C.replace(m,"$1"):j||S)}),k});o.exports=g},327:(o,l,c)=>{var h=c(3448);o.exports=function(f){if(typeof f=="string"||h(f))return f;var m=f+"";return m=="0"&&1/f==-1/0?"-0":m}},346:o=>{var l=Function.prototype.toString;o.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},5703:o=>{o.exports=function(l){return function(){return l}}},7813:o=>{o.exports=function(l,c){return l===c||l!=l&&c!=c}},7361:(o,l,c)=>{var h=c(7786);o.exports=function(f,m,g){var y=f==null?void 0:h(f,m);return y===void 0?g:y}},8721:(o,l,c)=>{var h=c(8565),f=c(222);o.exports=function(m,g){return m!=null&&f(m,g,h)}},6557:o=>{o.exports=function(l){return l}},5694:(o,l,c)=>{var h=c(9454),f=c(7005),m=Object.prototype,g=m.hasOwnProperty,y=m.propertyIsEnumerable,k=h(function(){return arguments}())?h:function(S){return f(S)&&g.call(S,"callee")&&!y.call(S,"callee")};o.exports=k},1469:o=>{var l=Array.isArray;o.exports=l},8612:(o,l,c)=>{var h=c(3560),f=c(1780);o.exports=function(m){return m!=null&&f(m.length)&&!h(m)}},9246:(o,l,c)=>{var h=c(8612),f=c(7005);o.exports=function(m){return f(m)&&h(m)}},4144:(o,l,c)=>{o=c.nmd(o);var h=c(5639),f=c(5062),m=l&&!l.nodeType&&l,g=m&&o&&!o.nodeType&&o,y=g&&g.exports===m?h.Buffer:void 0,k=(y?y.isBuffer:void 0)||f;o.exports=k},3560:(o,l,c)=>{var h=c(4239),f=c(3218);o.exports=function(m){if(!f(m))return!1;var g=h(m);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}},1780:o=>{o.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:o=>{o.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:o=>{o.exports=function(l){return l!=null&&typeof l=="object"}},8630:(o,l,c)=>{var h=c(4239),f=c(5924),m=c(7005),g=Function.prototype,y=Object.prototype,k=g.toString,S=y.hasOwnProperty,j=k.call(Object);o.exports=function(T){if(!m(T)||h(T)!="[object Object]")return!1;var C=f(T);if(C===null)return!0;var G=S.call(C,"constructor")&&C.constructor;return typeof G=="function"&&G instanceof G&&k.call(G)==j}},3448:(o,l,c)=>{var h=c(4239),f=c(7005);o.exports=function(m){return typeof m=="symbol"||f(m)&&h(m)=="[object Symbol]"}},6719:(o,l,c)=>{var h=c(8749),f=c(1717),m=c(1167),g=m&&m.isTypedArray,y=g?f(g):h;o.exports=y},1704:(o,l,c)=>{var h=c(4636),f=c(313),m=c(8612);o.exports=function(g){return m(g)?h(g,!0):f(g)}},8306:(o,l,c)=>{var h=c(3369);function f(m,g){if(typeof m!="function"||g!=null&&typeof g!="function")throw new TypeError("Expected a function");var y=function(){var k=arguments,S=g?g.apply(this,k):k[0],j=y.cache;if(j.has(S))return j.get(S);var T=m.apply(this,k);return y.cache=j.set(S,T)||j,T};return y.cache=new(f.Cache||h),y}f.Cache=h,o.exports=f},2492:(o,l,c)=>{var h=c(2980),f=c(1463)(function(m,g,y){h(m,g,y)});o.exports=f},5062:o=>{o.exports=function(){return!1}},9881:(o,l,c)=>{var h=c(8363),f=c(1704);o.exports=function(m){return h(m,f(m))}},9833:(o,l,c)=>{var h=c(531);o.exports=function(f){return f==null?"":h(f)}},2676:function(o){o.exports=function(){function l(B,b){if(!(B instanceof b))throw new TypeError("Cannot call a class as a function")}function c(B,b){for(var x=0;x<b.length;x++){var O=b[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(B,O.key,O)}}function h(B,b,x){return b&&c(B.prototype,b),x&&c(B,x),B}var f=function(){function B(b,x){this.next=null,this.key=b,this.data=x,this.left=null,this.right=null}return B}();function m(B,b){return B>b?1:B<b?-1:0}function g(B,b,x){for(var O=new f(null,null),D=O,N=O;;){var Q=x(B,b.key);if(Q<0){if(b.left===null)break;if(x(B,b.left.key)<0){var rt=b.left;if(b.left=rt.right,rt.right=b,(b=rt).left===null)break}N.left=b,N=b,b=b.left}else{if(!(Q>0)||b.right===null||x(B,b.right.key)>0&&(rt=b.right,b.right=rt.left,rt.left=b,(b=rt).right===null))break;D.right=b,D=b,b=b.right}}return D.right=b.left,N.left=b.right,b.left=O.right,b.right=O.left,b}function y(B,b,x,O){var D=new f(B,b);if(x===null)return D.left=D.right=null,D;var N=O(B,(x=g(B,x,O)).key);return N<0?(D.left=x.left,D.right=x,x.left=null):N>=0&&(D.right=x.right,D.left=x,x.right=null),D}function k(B,b,x){var O=null,D=null;if(b){var N=x((b=g(B,b,x)).key,B);N===0?(O=b.left,D=b.right):N<0?(D=b.right,b.right=null,O=b):(O=b.left,b.left=null,D=b)}return{left:O,right:D}}function S(B,b,x){return b===null?B:(B===null||((b=g(B.key,b,x)).left=B),b)}function j(B,b,x,O,D){if(B){O(b+(x?" ":" ")+D(B)+`
`);var N=b+(x?"    ":"   ");B.left&&j(B.left,N,!1,O,D),B.right&&j(B.right,N,!0,O,D)}}var T=function(){function B(b){b===void 0&&(b=m),this._root=null,this._size=0,this._comparator=b}return B.prototype.insert=function(b,x){return this._size++,this._root=y(b,x,this._root,this._comparator)},B.prototype.add=function(b,x){var O=new f(b,x);this._root===null&&(O.left=O.right=null,this._size++,this._root=O);var D=this._comparator,N=g(b,this._root,D),Q=D(b,N.key);return Q===0?this._root=N:(Q<0?(O.left=N.left,O.right=N,N.left=null):Q>0&&(O.right=N.right,O.left=N,N.right=null),this._size++,this._root=O),this._root},B.prototype.remove=function(b){this._root=this._remove(b,this._root,this._comparator)},B.prototype._remove=function(b,x,O){var D;return x===null?null:O(b,(x=g(b,x,O)).key)===0?(x.left===null?D=x.right:(D=g(b,x.left,O)).right=x.right,this._size--,D):x},B.prototype.pop=function(){var b=this._root;if(b){for(;b.left;)b=b.left;return this._root=g(b.key,this._root,this._comparator),this._root=this._remove(b.key,this._root,this._comparator),{key:b.key,data:b.data}}return null},B.prototype.findStatic=function(b){for(var x=this._root,O=this._comparator;x;){var D=O(b,x.key);if(D===0)return x;x=D<0?x.left:x.right}return null},B.prototype.find=function(b){return this._root&&(this._root=g(b,this._root,this._comparator),this._comparator(b,this._root.key)!==0)?null:this._root},B.prototype.contains=function(b){for(var x=this._root,O=this._comparator;x;){var D=O(b,x.key);if(D===0)return!0;x=D<0?x.left:x.right}return!1},B.prototype.forEach=function(b,x){for(var O=this._root,D=[],N=!1;!N;)O!==null?(D.push(O),O=O.left):D.length!==0?(O=D.pop(),b.call(x,O),O=O.right):N=!0;return this},B.prototype.range=function(b,x,O,D){for(var N=[],Q=this._comparator,rt=this._root;N.length!==0||rt;)if(rt)N.push(rt),rt=rt.left;else{if(Q((rt=N.pop()).key,x)>0)break;if(Q(rt.key,b)>=0&&O.call(D,rt))return this;rt=rt.right}return this},B.prototype.keys=function(){var b=[];return this.forEach(function(x){var O=x.key;return b.push(O)}),b},B.prototype.values=function(){var b=[];return this.forEach(function(x){var O=x.data;return b.push(O)}),b},B.prototype.min=function(){return this._root?this.minNode(this._root).key:null},B.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},B.prototype.minNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.left;)b=b.left;return b},B.prototype.maxNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.right;)b=b.right;return b},B.prototype.at=function(b){for(var x=this._root,O=!1,D=0,N=[];!O;)if(x)N.push(x),x=x.left;else if(N.length>0){if(x=N.pop(),D===b)return x;D++,x=x.right}else O=!0;return null},B.prototype.next=function(b){var x=this._root,O=null;if(b.right){for(O=b.right;O.left;)O=O.left;return O}for(var D=this._comparator;x;){var N=D(b.key,x.key);if(N===0)break;N<0?(O=x,x=x.left):x=x.right}return O},B.prototype.prev=function(b){var x=this._root,O=null;if(b.left!==null){for(O=b.left;O.right;)O=O.right;return O}for(var D=this._comparator;x;){var N=D(b.key,x.key);if(N===0)break;N<0?x=x.left:(O=x,x=x.right)}return O},B.prototype.clear=function(){return this._root=null,this._size=0,this},B.prototype.toList=function(){return E(this._root)},B.prototype.load=function(b,x,O){x===void 0&&(x=[]),O===void 0&&(O=!1);var D=b.length,N=this._comparator;if(O&&M(b,x,0,D-1,N),this._root===null)this._root=C(b,x,0,D),this._size=D;else{var Q=H(this.toList(),G(b,x),N);D=this._size+D,this._root=R({head:Q},0,D)}return this},B.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(B.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),B.prototype.toString=function(b){b===void 0&&(b=function(O){return String(O.key)});var x=[];return j(this._root,"",!0,function(O){return x.push(O)},b),x.join("")},B.prototype.update=function(b,x,O){var D=this._comparator,N=k(b,this._root,D),Q=N.left,rt=N.right;D(b,x)<0?rt=y(x,O,rt,D):Q=y(x,O,Q,D),this._root=S(Q,rt,D)},B.prototype.split=function(b){return k(b,this._root,this._comparator)},B}();function C(B,b,x,O){var D=O-x;if(D>0){var N=x+Math.floor(D/2),Q=B[N],rt=b[N],yt=new f(Q,rt);return yt.left=C(B,b,x,N),yt.right=C(B,b,N+1,O),yt}return null}function G(B,b){for(var x=new f(null,null),O=x,D=0;D<B.length;D++)O=O.next=new f(B[D],b[D]);return O.next=null,x.next}function E(B){for(var b=B,x=[],O=!1,D=new f(null,null),N=D;!O;)b?(x.push(b),b=b.left):x.length>0?b=(b=N=N.next=x.pop()).right:O=!0;return N.next=null,D.next}function R(B,b,x){var O=x-b;if(O>0){var D=b+Math.floor(O/2),N=R(B,b,D),Q=B.head;return Q.left=N,B.head=B.head.next,Q.right=R(B,D+1,x),Q}return null}function H(B,b,x){for(var O=new f(null,null),D=O,N=B,Q=b;N!==null&&Q!==null;)x(N.key,Q.key)<0?(D.next=N,N=N.next):(D.next=Q,Q=Q.next),D=D.next;return N!==null?D.next=N:Q!==null&&(D.next=Q),O.next}function M(B,b,x,O,D){if(!(x>=O)){for(var N=B[x+O>>1],Q=x-1,rt=O+1;;){do Q++;while(D(B[Q],N)<0);do rt--;while(D(B[rt],N)>0);if(Q>=rt)break;var yt=B[Q];B[Q]=B[rt],B[rt]=yt,yt=b[Q],b[Q]=b[rt],b[rt]=yt}M(B,b,x,rt,D),M(B,b,rt+1,O,D)}}var I=function(B,b){return B.ll.x<=b.x&&b.x<=B.ur.x&&B.ll.y<=b.y&&b.y<=B.ur.y},K=function(B,b){if(b.ur.x<B.ll.x||B.ur.x<b.ll.x||b.ur.y<B.ll.y||B.ur.y<b.ll.y)return null;var x=B.ll.x<b.ll.x?b.ll.x:B.ll.x,O=B.ur.x<b.ur.x?B.ur.x:b.ur.x;return{ll:{x,y:B.ll.y<b.ll.y?b.ll.y:B.ll.y},ur:{x:O,y:B.ur.y<b.ur.y?B.ur.y:b.ur.y}}},nt=Number.EPSILON;nt===void 0&&(nt=Math.pow(2,-52));var J=nt*nt,et=function(B,b){if(-nt<B&&B<nt&&-nt<b&&b<nt)return 0;var x=B-b;return x*x<J*B*b?0:B<b?-1:1},ct=function(){function B(){l(this,B),this.reset()}return h(B,[{key:"reset",value:function(){this.xRounder=new pt,this.yRounder=new pt}},{key:"round",value:function(b,x){return{x:this.xRounder.round(b),y:this.yRounder.round(x)}}}]),B}(),pt=function(){function B(){l(this,B),this.tree=new T,this.round(0)}return h(B,[{key:"round",value:function(b){var x=this.tree.add(b),O=this.tree.prev(x);if(O!==null&&et(x.key,O.key)===0)return this.tree.remove(b),O.key;var D=this.tree.next(x);return D!==null&&et(x.key,D.key)===0?(this.tree.remove(b),D.key):b}}]),B}(),ot=new ct,bt=function(B,b){return B.x*b.y-B.y*b.x},Lt=function(B,b){return B.x*b.x+B.y*b.y},Et=function(B,b,x){var O={x:b.x-B.x,y:b.y-B.y},D={x:x.x-B.x,y:x.y-B.y},N=bt(O,D);return et(N,0)},Ct=function(B){return Math.sqrt(Lt(B,B))},Ft=function(B,b,x){var O={x:b.x-B.x,y:b.y-B.y},D={x:x.x-B.x,y:x.y-B.y};return bt(D,O)/Ct(D)/Ct(O)},wt=function(B,b,x){var O={x:b.x-B.x,y:b.y-B.y},D={x:x.x-B.x,y:x.y-B.y};return Lt(D,O)/Ct(D)/Ct(O)},de=function(B,b,x){return b.y===0?null:{x:B.x+b.x/b.y*(x-B.y),y:x}},Dt=function(B,b,x){return b.x===0?null:{x,y:B.y+b.y/b.x*(x-B.x)}},At=function(B,b,x,O){if(b.x===0)return Dt(x,O,B.x);if(O.x===0)return Dt(B,b,x.x);if(b.y===0)return de(x,O,B.y);if(O.y===0)return de(B,b,x.y);var D=bt(b,O);if(D==0)return null;var N={x:x.x-B.x,y:x.y-B.y},Q=bt(N,b)/D,rt=bt(N,O)/D;return{x:(B.x+rt*b.x+(x.x+Q*O.x))/2,y:(B.y+rt*b.y+(x.y+Q*O.y))/2}},Vt=function(){function B(b,x){l(this,B),b.events===void 0?b.events=[this]:b.events.push(this),this.point=b,this.isLeft=x}return h(B,null,[{key:"compare",value:function(b,x){var O=B.comparePoints(b.point,x.point);return O!==0?O:(b.point!==x.point&&b.link(x),b.isLeft!==x.isLeft?b.isLeft?1:-1:fe.compare(b.segment,x.segment))}},{key:"comparePoints",value:function(b,x){return b.x<x.x?-1:b.x>x.x?1:b.y<x.y?-1:b.y>x.y?1:0}}]),h(B,[{key:"link",value:function(b){if(b.point===this.point)throw new Error("Tried to link already linked events");for(var x=b.point.events,O=0,D=x.length;O<D;O++){var N=x[O];this.point.events.push(N),N.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var b=this.point.events.length,x=0;x<b;x++){var O=this.point.events[x];if(O.segment.consumedBy===void 0)for(var D=x+1;D<b;D++){var N=this.point.events[D];N.consumedBy===void 0&&O.otherSE.point.events===N.otherSE.point.events&&O.segment.consume(N.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var b=[],x=0,O=this.point.events.length;x<O;x++){var D=this.point.events[x];D!==this&&!D.segment.ringOut&&D.segment.isInResult()&&b.push(D)}return b}},{key:"getLeftmostComparator",value:function(b){var x=this,O=new Map,D=function(N){var Q=N.otherSE;O.set(N,{sine:Ft(x.point,b.point,Q.point),cosine:wt(x.point,b.point,Q.point)})};return function(N,Q){O.has(N)||D(N),O.has(Q)||D(Q);var rt=O.get(N),yt=rt.sine,Tt=rt.cosine,zt=O.get(Q),Zt=zt.sine,Yt=zt.cosine;return yt>=0&&Zt>=0?Tt<Yt?1:Tt>Yt?-1:0:yt<0&&Zt<0?Tt<Yt?-1:Tt>Yt?1:0:Zt<yt?-1:Zt>yt?1:0}}}]),B}(),Le=0,fe=function(){function B(b,x,O,D){l(this,B),this.id=++Le,this.leftSE=b,b.segment=this,b.otherSE=x,this.rightSE=x,x.segment=this,x.otherSE=b,this.rings=O,this.windings=D}return h(B,null,[{key:"compare",value:function(b,x){var O=b.leftSE.point.x,D=x.leftSE.point.x,N=b.rightSE.point.x,Q=x.rightSE.point.x;if(Q<O)return 1;if(N<D)return-1;var rt=b.leftSE.point.y,yt=x.leftSE.point.y,Tt=b.rightSE.point.y,zt=x.rightSE.point.y;if(O<D){if(yt<rt&&yt<Tt)return 1;if(yt>rt&&yt>Tt)return-1;var Zt=b.comparePoint(x.leftSE.point);if(Zt<0)return 1;if(Zt>0)return-1;var Yt=x.comparePoint(b.rightSE.point);return Yt!==0?Yt:-1}if(O>D){if(rt<yt&&rt<zt)return-1;if(rt>yt&&rt>zt)return 1;var ve=x.comparePoint(b.leftSE.point);if(ve!==0)return ve;var Jt=b.comparePoint(x.rightSE.point);return Jt<0?1:Jt>0?-1:1}if(rt<yt)return-1;if(rt>yt)return 1;if(N<Q){var ye=x.comparePoint(b.rightSE.point);if(ye!==0)return ye}if(N>Q){var ce=b.comparePoint(x.rightSE.point);if(ce<0)return 1;if(ce>0)return-1}if(N!==Q){var be=Tt-rt,Re=N-O,Ze=zt-yt,qe=Q-D;if(be>Re&&Ze<qe)return 1;if(be<Re&&Ze>qe)return-1}return N>Q?1:N<Q||Tt<zt?-1:Tt>zt?1:b.id<x.id?-1:b.id>x.id?1:0}}]),h(B,[{key:"replaceRightSE",value:function(b){this.rightSE=b,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var b=this.leftSE.point.y,x=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:b<x?b:x},ur:{x:this.rightSE.point.x,y:b>x?b:x}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(b){return b.x===this.leftSE.point.x&&b.y===this.leftSE.point.y||b.x===this.rightSE.point.x&&b.y===this.rightSE.point.y}},{key:"comparePoint",value:function(b){if(this.isAnEndpoint(b))return 0;var x=this.leftSE.point,O=this.rightSE.point,D=this.vector();if(x.x===O.x)return b.x===x.x?0:b.x<x.x?1:-1;var N=(b.y-x.y)/D.y,Q=x.x+N*D.x;if(b.x===Q)return 0;var rt=(b.x-x.x)/D.x,yt=x.y+rt*D.y;return b.y===yt?0:b.y<yt?-1:1}},{key:"getIntersection",value:function(b){var x=this.bbox(),O=b.bbox(),D=K(x,O);if(D===null)return null;var N=this.leftSE.point,Q=this.rightSE.point,rt=b.leftSE.point,yt=b.rightSE.point,Tt=I(x,rt)&&this.comparePoint(rt)===0,zt=I(O,N)&&b.comparePoint(N)===0,Zt=I(x,yt)&&this.comparePoint(yt)===0,Yt=I(O,Q)&&b.comparePoint(Q)===0;if(zt&&Tt)return Yt&&!Zt?Q:!Yt&&Zt?yt:null;if(zt)return Zt&&N.x===yt.x&&N.y===yt.y?null:N;if(Tt)return Yt&&Q.x===rt.x&&Q.y===rt.y?null:rt;if(Yt&&Zt)return null;if(Yt)return Q;if(Zt)return yt;var ve=At(N,this.vector(),rt,b.vector());return ve===null?null:I(D,ve)?ot.round(ve.x,ve.y):null}},{key:"split",value:function(b){var x=[],O=b.events!==void 0,D=new Vt(b,!0),N=new Vt(b,!1),Q=this.rightSE;this.replaceRightSE(N),x.push(N),x.push(D);var rt=new B(D,Q,this.rings.slice(),this.windings.slice());return Vt.comparePoints(rt.leftSE.point,rt.rightSE.point)>0&&rt.swapEvents(),Vt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),O&&(D.checkForConsuming(),N.checkForConsuming()),x}},{key:"swapEvents",value:function(){var b=this.rightSE;this.rightSE=this.leftSE,this.leftSE=b,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var x=0,O=this.windings.length;x<O;x++)this.windings[x]*=-1}},{key:"consume",value:function(b){for(var x=this,O=b;x.consumedBy;)x=x.consumedBy;for(;O.consumedBy;)O=O.consumedBy;var D=B.compare(x,O);if(D!==0){if(D>0){var N=x;x=O,O=N}if(x.prev===O){var Q=x;x=O,O=Q}for(var rt=0,yt=O.rings.length;rt<yt;rt++){var Tt=O.rings[rt],zt=O.windings[rt],Zt=x.rings.indexOf(Tt);Zt===-1?(x.rings.push(Tt),x.windings.push(zt)):x.windings[Zt]+=zt}O.rings=null,O.windings=null,O.consumedBy=x,O.leftSE.consumedBy=x.leftSE,O.rightSE.consumedBy=x.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var b=this.prev.consumedBy||this.prev;this._beforeState=b.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var b=this.beforeState();this._afterState={rings:b.rings.slice(0),windings:b.windings.slice(0),multiPolys:[]};for(var x=this._afterState.rings,O=this._afterState.windings,D=this._afterState.multiPolys,N=0,Q=this.rings.length;N<Q;N++){var rt=this.rings[N],yt=this.windings[N],Tt=x.indexOf(rt);Tt===-1?(x.push(rt),O.push(yt)):O[Tt]+=yt}for(var zt=[],Zt=[],Yt=0,ve=x.length;Yt<ve;Yt++)if(O[Yt]!==0){var Jt=x[Yt],ye=Jt.poly;if(Zt.indexOf(ye)===-1)if(Jt.isExterior)zt.push(ye);else{Zt.indexOf(ye)===-1&&Zt.push(ye);var ce=zt.indexOf(Jt.poly);ce!==-1&&zt.splice(ce,1)}}for(var be=0,Re=zt.length;be<Re;be++){var Ze=zt[be].multiPoly;D.indexOf(Ze)===-1&&D.push(Ze)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var b=this.beforeState().multiPolys,x=this.afterState().multiPolys;switch(Y.type){case"union":var O=b.length===0,D=x.length===0;this._isInResult=O!==D;break;case"intersection":var N,Q;b.length<x.length?(N=b.length,Q=x.length):(N=x.length,Q=b.length),this._isInResult=Q===Y.numMultiPolys&&N<Q;break;case"xor":var rt=Math.abs(b.length-x.length);this._isInResult=rt%2==1;break;case"difference":var yt=function(Tt){return Tt.length===1&&Tt[0].isSubject};this._isInResult=yt(b)!==yt(x);break;default:throw new Error("Unrecognized operation type found ".concat(Y.type))}return this._isInResult}}],[{key:"fromRing",value:function(b,x,O){var D,N,Q,rt=Vt.comparePoints(b,x);if(rt<0)D=b,N=x,Q=1;else{if(!(rt>0))throw new Error("Tried to create degenerate segment at [".concat(b.x,", ").concat(b.y,"]"));D=x,N=b,Q=-1}return new B(new Vt(D,!0),new Vt(N,!1),[O],[Q])}}]),B}(),ie=function(){function B(b,x,O){if(l(this,B),!Array.isArray(b)||b.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=x,this.isExterior=O,this.segments=[],typeof b[0][0]!="number"||typeof b[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var D=ot.round(b[0][0],b[0][1]);this.bbox={ll:{x:D.x,y:D.y},ur:{x:D.x,y:D.y}};for(var N=D,Q=1,rt=b.length;Q<rt;Q++){if(typeof b[Q][0]!="number"||typeof b[Q][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var yt=ot.round(b[Q][0],b[Q][1]);yt.x===N.x&&yt.y===N.y||(this.segments.push(fe.fromRing(N,yt,this)),yt.x<this.bbox.ll.x&&(this.bbox.ll.x=yt.x),yt.y<this.bbox.ll.y&&(this.bbox.ll.y=yt.y),yt.x>this.bbox.ur.x&&(this.bbox.ur.x=yt.x),yt.y>this.bbox.ur.y&&(this.bbox.ur.y=yt.y),N=yt)}D.x===N.x&&D.y===N.y||this.segments.push(fe.fromRing(N,D,this))}return h(B,[{key:"getSweepEvents",value:function(){for(var b=[],x=0,O=this.segments.length;x<O;x++){var D=this.segments[x];b.push(D.leftSE),b.push(D.rightSE)}return b}}]),B}(),Nt=function(){function B(b,x){if(l(this,B),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ie(b[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var O=1,D=b.length;O<D;O++){var N=new ie(b[O],this,!1);N.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=N.bbox.ll.x),N.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=N.bbox.ll.y),N.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=N.bbox.ur.x),N.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=N.bbox.ur.y),this.interiorRings.push(N)}this.multiPoly=x}return h(B,[{key:"getSweepEvents",value:function(){for(var b=this.exteriorRing.getSweepEvents(),x=0,O=this.interiorRings.length;x<O;x++)for(var D=this.interiorRings[x].getSweepEvents(),N=0,Q=D.length;N<Q;N++)b.push(D[N]);return b}}]),B}(),ht=function(){function B(b,x){if(l(this,B),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof b[0][0][0]=="number"&&(b=[b])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var O=0,D=b.length;O<D;O++){var N=new Nt(b[O],this);N.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=N.bbox.ll.x),N.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=N.bbox.ll.y),N.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=N.bbox.ur.x),N.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=N.bbox.ur.y),this.polys.push(N)}this.isSubject=x}return h(B,[{key:"getSweepEvents",value:function(){for(var b=[],x=0,O=this.polys.length;x<O;x++)for(var D=this.polys[x].getSweepEvents(),N=0,Q=D.length;N<Q;N++)b.push(D[N]);return b}}]),B}(),Pt=function(){function B(b){l(this,B),this.events=b;for(var x=0,O=b.length;x<O;x++)b[x].segment.ringOut=this;this.poly=null}return h(B,null,[{key:"factory",value:function(b){for(var x=[],O=0,D=b.length;O<D;O++){var N=b[O];if(N.isInResult()&&!N.ringOut){for(var Q=null,rt=N.leftSE,yt=N.rightSE,Tt=[rt],zt=rt.point,Zt=[];Q=rt,rt=yt,Tt.push(rt),rt.point!==zt;)for(;;){var Yt=rt.getAvailableLinkedEvents();if(Yt.length===0){var ve=Tt[0].point,Jt=Tt[Tt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(ve.x,",")+" ".concat(ve.y,"]. Last matching segment found ends at")+" [".concat(Jt.x,", ").concat(Jt.y,"]."))}if(Yt.length===1){yt=Yt[0].otherSE;break}for(var ye=null,ce=0,be=Zt.length;ce<be;ce++)if(Zt[ce].point===rt.point){ye=ce;break}if(ye===null){Zt.push({index:Tt.length,point:rt.point});var Re=rt.getLeftmostComparator(Q);yt=Yt.sort(Re)[0].otherSE;break}var Ze=Zt.splice(ye)[0],qe=Tt.splice(Ze.index);qe.unshift(qe[0].otherSE),x.push(new B(qe.reverse()))}x.push(new B(Tt))}}return x}}]),h(B,[{key:"getGeom",value:function(){for(var b=this.events[0].point,x=[b],O=1,D=this.events.length-1;O<D;O++){var N=this.events[O].point,Q=this.events[O+1].point;Et(N,b,Q)!==0&&(x.push(N),b=N)}if(x.length===1)return null;var rt=x[0],yt=x[1];Et(rt,b,yt)===0&&x.shift(),x.push(x[0]);for(var Tt=this.isExteriorRing()?1:-1,zt=this.isExteriorRing()?0:x.length-1,Zt=this.isExteriorRing()?x.length:-1,Yt=[],ve=zt;ve!=Zt;ve+=Tt)Yt.push([x[ve].x,x[ve].y]);return Yt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var b=this.enclosingRing();this._isExteriorRing=!b||!b.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var b=this.events[0],x=1,O=this.events.length;x<O;x++){var D=this.events[x];Vt.compare(b,D)>0&&(b=D)}for(var N=b.segment.prevInResult(),Q=N?N.prevInResult():null;;){if(!N)return null;if(!Q)return N.ringOut;if(Q.ringOut!==N.ringOut)return Q.ringOut.enclosingRing()!==N.ringOut?N.ringOut:N.ringOut.enclosingRing();N=Q.prevInResult(),Q=N?N.prevInResult():null}}}]),B}(),St=function(){function B(b){l(this,B),this.exteriorRing=b,b.poly=this,this.interiorRings=[]}return h(B,[{key:"addInterior",value:function(b){this.interiorRings.push(b),b.poly=this}},{key:"getGeom",value:function(){var b=[this.exteriorRing.getGeom()];if(b[0]===null)return null;for(var x=0,O=this.interiorRings.length;x<O;x++){var D=this.interiorRings[x].getGeom();D!==null&&b.push(D)}return b}}]),B}(),jt=function(){function B(b){l(this,B),this.rings=b,this.polys=this._composePolys(b)}return h(B,[{key:"getGeom",value:function(){for(var b=[],x=0,O=this.polys.length;x<O;x++){var D=this.polys[x].getGeom();D!==null&&b.push(D)}return b}},{key:"_composePolys",value:function(b){for(var x=[],O=0,D=b.length;O<D;O++){var N=b[O];if(!N.poly)if(N.isExteriorRing())x.push(new St(N));else{var Q=N.enclosingRing();Q.poly||x.push(new St(Q)),Q.poly.addInterior(N)}}return x}}]),B}(),ae=function(){function B(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe.compare;l(this,B),this.queue=b,this.tree=new T(x),this.segments=[]}return h(B,[{key:"process",value:function(b){var x=b.segment,O=[];if(b.consumedBy)return b.isLeft?this.queue.remove(b.otherSE):this.tree.remove(x),O;var D=b.isLeft?this.tree.insert(x):this.tree.find(x);if(!D)throw new Error("Unable to find segment #".concat(x.id," ")+"[".concat(x.leftSE.point.x,", ").concat(x.leftSE.point.y,"] -> ")+"[".concat(x.rightSE.point.x,", ").concat(x.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var N=D,Q=D,rt=void 0,yt=void 0;rt===void 0;)(N=this.tree.prev(N))===null?rt=null:N.key.consumedBy===void 0&&(rt=N.key);for(;yt===void 0;)(Q=this.tree.next(Q))===null?yt=null:Q.key.consumedBy===void 0&&(yt=Q.key);if(b.isLeft){var Tt=null;if(rt){var zt=rt.getIntersection(x);if(zt!==null&&(x.isAnEndpoint(zt)||(Tt=zt),!rt.isAnEndpoint(zt)))for(var Zt=this._splitSafely(rt,zt),Yt=0,ve=Zt.length;Yt<ve;Yt++)O.push(Zt[Yt])}var Jt=null;if(yt){var ye=yt.getIntersection(x);if(ye!==null&&(x.isAnEndpoint(ye)||(Jt=ye),!yt.isAnEndpoint(ye)))for(var ce=this._splitSafely(yt,ye),be=0,Re=ce.length;be<Re;be++)O.push(ce[be])}if(Tt!==null||Jt!==null){var Ze=null;Ze=Tt===null?Jt:Jt===null||Vt.comparePoints(Tt,Jt)<=0?Tt:Jt,this.queue.remove(x.rightSE),O.push(x.rightSE);for(var qe=x.split(Ze),dn=0,an=qe.length;dn<an;dn++)O.push(qe[dn])}O.length>0?(this.tree.remove(x),O.push(b)):(this.segments.push(x),x.prev=rt)}else{if(rt&&yt){var We=rt.getIntersection(yt);if(We!==null){if(!rt.isAnEndpoint(We))for(var ln=this._splitSafely(rt,We),xn=0,$n=ln.length;xn<$n;xn++)O.push(ln[xn]);if(!yt.isAnEndpoint(We))for(var Ke=this._splitSafely(yt,We),Ne=0,On=Ke.length;Ne<On;Ne++)O.push(Ke[Ne])}}this.tree.remove(x)}return O}},{key:"_splitSafely",value:function(b,x){this.tree.remove(b);var O=b.rightSE;this.queue.remove(O);var D=b.split(x);return D.push(O),b.consumedBy===void 0&&this.tree.insert(b),D}}]),B}(),V=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,q=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Y=new(function(){function B(){l(this,B)}return h(B,[{key:"run",value:function(b,x,O){Y.type=b,ot.reset();for(var D=[new ht(x,!0)],N=0,Q=O.length;N<Q;N++)D.push(new ht(O[N],!1));if(Y.numMultiPolys=D.length,Y.type==="difference")for(var rt=D[0],yt=1;yt<D.length;)K(D[yt].bbox,rt.bbox)!==null?yt++:D.splice(yt,1);if(Y.type==="intersection"){for(var Tt=0,zt=D.length;Tt<zt;Tt++)for(var Zt=D[Tt],Yt=Tt+1,ve=D.length;Yt<ve;Yt++)if(K(Zt.bbox,D[Yt].bbox)===null)return[]}for(var Jt=new T(Vt.compare),ye=0,ce=D.length;ye<ce;ye++)for(var be=D[ye].getSweepEvents(),Re=0,Ze=be.length;Re<Ze;Re++)if(Jt.insert(be[Re]),Jt.size>V)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var qe=new ae(Jt),dn=Jt.size,an=Jt.pop();an;){var We=an.key;if(Jt.size===dn){var ln=We.segment;throw new Error("Unable to pop() ".concat(We.isLeft?"left":"right"," SweepEvent ")+"[".concat(We.point.x,", ").concat(We.point.y,"] from segment #").concat(ln.id," ")+"[".concat(ln.leftSE.point.x,", ").concat(ln.leftSE.point.y,"] -> ")+"[".concat(ln.rightSE.point.x,", ").concat(ln.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Jt.size>V)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(qe.segments.length>q)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var xn=qe.process(We),$n=0,Ke=xn.length;$n<Ke;$n++){var Ne=xn[$n];Ne.consumedBy===void 0&&Jt.insert(Ne)}dn=Jt.size,an=Jt.pop()}ot.reset();var On=Pt.factory(qe.segments);return new jt(On).getGeom()}}]),B}()),dt=function(B){for(var b=arguments.length,x=new Array(b>1?b-1:0),O=1;O<b;O++)x[O-1]=arguments[O];return Y.run("union",B,x)},gt=function(B){for(var b=arguments.length,x=new Array(b>1?b-1:0),O=1;O<b;O++)x[O-1]=arguments[O];return Y.run("intersection",B,x)},xt=function(B){for(var b=arguments.length,x=new Array(b>1?b-1:0),O=1;O<b;O++)x[O-1]=arguments[O];return Y.run("xor",B,x)},Ot=function(B){for(var b=arguments.length,x=new Array(b>1?b-1:0),O=1;O<b;O++)x[O-1]=arguments[O];return Y.run("difference",B,x)};return{union:dt,intersection:gt,xor:xt,difference:Ot}}()},2582:function(o){o.exports=function(){function l(M,I,K,nt,J){(function et(ct,pt,ot,bt,Lt){for(;bt>ot;){if(bt-ot>600){var Et=bt-ot+1,Ct=pt-ot+1,Ft=Math.log(Et),wt=.5*Math.exp(2*Ft/3),de=.5*Math.sqrt(Ft*wt*(Et-wt)/Et)*(Ct-Et/2<0?-1:1);et(ct,pt,Math.max(ot,Math.floor(pt-Ct*wt/Et+de)),Math.min(bt,Math.floor(pt+(Et-Ct)*wt/Et+de)),Lt)}var Dt=ct[pt],At=ot,Vt=bt;for(c(ct,ot,pt),Lt(ct[bt],Dt)>0&&c(ct,ot,bt);At<Vt;){for(c(ct,At,Vt),At++,Vt--;Lt(ct[At],Dt)<0;)At++;for(;Lt(ct[Vt],Dt)>0;)Vt--}Lt(ct[ot],Dt)===0?c(ct,ot,Vt):c(ct,++Vt,bt),Vt<=pt&&(ot=Vt+1),pt<=Vt&&(bt=Vt-1)}})(M,I,K||0,nt||M.length-1,J||h)}function c(M,I,K){var nt=M[I];M[I]=M[K],M[K]=nt}function h(M,I){return M<I?-1:M>I?1:0}var f=function(M){M===void 0&&(M=9),this._maxEntries=Math.max(4,M),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function m(M,I,K){if(!K)return I.indexOf(M);for(var nt=0;nt<I.length;nt++)if(K(M,I[nt]))return nt;return-1}function g(M,I){y(M,0,M.children.length,I,M)}function y(M,I,K,nt,J){J||(J=R(null)),J.minX=1/0,J.minY=1/0,J.maxX=-1/0,J.maxY=-1/0;for(var et=I;et<K;et++){var ct=M.children[et];k(J,M.leaf?nt(ct):ct)}return J}function k(M,I){return M.minX=Math.min(M.minX,I.minX),M.minY=Math.min(M.minY,I.minY),M.maxX=Math.max(M.maxX,I.maxX),M.maxY=Math.max(M.maxY,I.maxY),M}function S(M,I){return M.minX-I.minX}function j(M,I){return M.minY-I.minY}function T(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function C(M){return M.maxX-M.minX+(M.maxY-M.minY)}function G(M,I){return M.minX<=I.minX&&M.minY<=I.minY&&I.maxX<=M.maxX&&I.maxY<=M.maxY}function E(M,I){return I.minX<=M.maxX&&I.minY<=M.maxY&&I.maxX>=M.minX&&I.maxY>=M.minY}function R(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function H(M,I,K,nt,J){for(var et=[I,K];et.length;)if(!((K=et.pop())-(I=et.pop())<=nt)){var ct=I+Math.ceil((K-I)/nt/2)*nt;l(M,ct,I,K,J),et.push(I,ct,ct,K)}}return f.prototype.all=function(){return this._all(this.data,[])},f.prototype.search=function(M){var I=this.data,K=[];if(!E(M,I))return K;for(var nt=this.toBBox,J=[];I;){for(var et=0;et<I.children.length;et++){var ct=I.children[et],pt=I.leaf?nt(ct):ct;E(M,pt)&&(I.leaf?K.push(ct):G(M,pt)?this._all(ct,K):J.push(ct))}I=J.pop()}return K},f.prototype.collides=function(M){var I=this.data;if(!E(M,I))return!1;for(var K=[];I;){for(var nt=0;nt<I.children.length;nt++){var J=I.children[nt],et=I.leaf?this.toBBox(J):J;if(E(M,et)){if(I.leaf||G(M,et))return!0;K.push(J)}}I=K.pop()}return!1},f.prototype.load=function(M){if(!M||!M.length)return this;if(M.length<this._minEntries){for(var I=0;I<M.length;I++)this.insert(M[I]);return this}var K=this._build(M.slice(),0,M.length-1,0);if(this.data.children.length)if(this.data.height===K.height)this._splitRoot(this.data,K);else{if(this.data.height<K.height){var nt=this.data;this.data=K,K=nt}this._insert(K,this.data.height-K.height-1,!0)}else this.data=K;return this},f.prototype.insert=function(M){return M&&this._insert(M,this.data.height-1),this},f.prototype.clear=function(){return this.data=R([]),this},f.prototype.remove=function(M,I){if(!M)return this;for(var K,nt,J,et=this.data,ct=this.toBBox(M),pt=[],ot=[];et||pt.length;){if(et||(et=pt.pop(),nt=pt[pt.length-1],K=ot.pop(),J=!0),et.leaf){var bt=m(M,et.children,I);if(bt!==-1)return et.children.splice(bt,1),pt.push(et),this._condense(pt),this}J||et.leaf||!G(et,ct)?nt?(K++,et=nt.children[K],J=!1):et=null:(pt.push(et),ot.push(K),K=0,nt=et,et=et.children[0])}return this},f.prototype.toBBox=function(M){return M},f.prototype.compareMinX=function(M,I){return M.minX-I.minX},f.prototype.compareMinY=function(M,I){return M.minY-I.minY},f.prototype.toJSON=function(){return this.data},f.prototype.fromJSON=function(M){return this.data=M,this},f.prototype._all=function(M,I){for(var K=[];M;)M.leaf?I.push.apply(I,M.children):K.push.apply(K,M.children),M=K.pop();return I},f.prototype._build=function(M,I,K,nt){var J,et=K-I+1,ct=this._maxEntries;if(et<=ct)return g(J=R(M.slice(I,K+1)),this.toBBox),J;nt||(nt=Math.ceil(Math.log(et)/Math.log(ct)),ct=Math.ceil(et/Math.pow(ct,nt-1))),(J=R([])).leaf=!1,J.height=nt;var pt=Math.ceil(et/ct),ot=pt*Math.ceil(Math.sqrt(ct));H(M,I,K,ot,this.compareMinX);for(var bt=I;bt<=K;bt+=ot){var Lt=Math.min(bt+ot-1,K);H(M,bt,Lt,pt,this.compareMinY);for(var Et=bt;Et<=Lt;Et+=pt){var Ct=Math.min(Et+pt-1,Lt);J.children.push(this._build(M,Et,Ct,nt-1))}}return g(J,this.toBBox),J},f.prototype._chooseSubtree=function(M,I,K,nt){for(;nt.push(I),!I.leaf&&nt.length-1!==K;){for(var J=1/0,et=1/0,ct=void 0,pt=0;pt<I.children.length;pt++){var ot=I.children[pt],bt=T(ot),Lt=(Et=M,Ct=ot,(Math.max(Ct.maxX,Et.maxX)-Math.min(Ct.minX,Et.minX))*(Math.max(Ct.maxY,Et.maxY)-Math.min(Ct.minY,Et.minY))-bt);Lt<et?(et=Lt,J=bt<J?bt:J,ct=ot):Lt===et&&bt<J&&(J=bt,ct=ot)}I=ct||I.children[0]}var Et,Ct;return I},f.prototype._insert=function(M,I,K){var nt=K?M:this.toBBox(M),J=[],et=this._chooseSubtree(nt,this.data,I,J);for(et.children.push(M),k(et,nt);I>=0&&J[I].children.length>this._maxEntries;)this._split(J,I),I--;this._adjustParentBBoxes(nt,J,I)},f.prototype._split=function(M,I){var K=M[I],nt=K.children.length,J=this._minEntries;this._chooseSplitAxis(K,J,nt);var et=this._chooseSplitIndex(K,J,nt),ct=R(K.children.splice(et,K.children.length-et));ct.height=K.height,ct.leaf=K.leaf,g(K,this.toBBox),g(ct,this.toBBox),I?M[I-1].children.push(ct):this._splitRoot(K,ct)},f.prototype._splitRoot=function(M,I){this.data=R([M,I]),this.data.height=M.height+1,this.data.leaf=!1,g(this.data,this.toBBox)},f.prototype._chooseSplitIndex=function(M,I,K){for(var nt,J,et,ct,pt,ot,bt,Lt=1/0,Et=1/0,Ct=I;Ct<=K-I;Ct++){var Ft=y(M,0,Ct,this.toBBox),wt=y(M,Ct,K,this.toBBox),de=(J=Ft,et=wt,ct=void 0,pt=void 0,ot=void 0,bt=void 0,ct=Math.max(J.minX,et.minX),pt=Math.max(J.minY,et.minY),ot=Math.min(J.maxX,et.maxX),bt=Math.min(J.maxY,et.maxY),Math.max(0,ot-ct)*Math.max(0,bt-pt)),Dt=T(Ft)+T(wt);de<Lt?(Lt=de,nt=Ct,Et=Dt<Et?Dt:Et):de===Lt&&Dt<Et&&(Et=Dt,nt=Ct)}return nt||K-I},f.prototype._chooseSplitAxis=function(M,I,K){var nt=M.leaf?this.compareMinX:S,J=M.leaf?this.compareMinY:j;this._allDistMargin(M,I,K,nt)<this._allDistMargin(M,I,K,J)&&M.children.sort(nt)},f.prototype._allDistMargin=function(M,I,K,nt){M.children.sort(nt);for(var J=this.toBBox,et=y(M,0,I,J),ct=y(M,K-I,K,J),pt=C(et)+C(ct),ot=I;ot<K-I;ot++){var bt=M.children[ot];k(et,M.leaf?J(bt):bt),pt+=C(et)}for(var Lt=K-I-1;Lt>=I;Lt--){var Et=M.children[Lt];k(ct,M.leaf?J(Et):Et),pt+=C(ct)}return pt},f.prototype._adjustParentBBoxes=function(M,I,K){for(var nt=K;nt>=0;nt--)k(I[nt],M)},f.prototype._condense=function(M){for(var I=M.length-1,K=void 0;I>=0;I--)M[I].children.length===0?I>0?(K=M[I-1].children).splice(K.indexOf(M[I]),1):this.clear():g(M[I],this.toBBox)},f}()}},n={};function i(o){var l=n[o];if(l!==void 0)return l.exports;var c=n[o]={id:o,loaded:!1,exports:{}};return t[o].call(c.exports,c,c.exports,i),c.loaded=!0,c.exports}i.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return i.d(l,{a:l}),l},i.d=(o,l)=>{for(var c in l)i.o(l,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:l[c]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),i.nmd=o=>(o.paths=[],o.children||(o.children=[]),o),i(5975)})();const Dw={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Object,default:()=>({})}},emits:["geojson:ready","geojson","add:layer","draw:start","edit:layer","drag:layer","zoom:change","zoom:start"],setup(t,{expose:n,emit:i}){const o=t;delete Mn.Icon.Default.prototype._getIconUrl,Mn.Icon.Default.mergeOptions({iconRetinaUrl:Lw,iconUrl:Mw,shadowUrl:Cw});const{map_tile_server:l,map_tile_attribution:c}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:null,project_token:null,copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"My project",project_citation:null,project_url:null,project_authors:null};let h,f,m,g;const y=Qt(null),k={osm:Mn.tileLayer(l,{maxZoom:18,className:"map-tiles",attribution:c})},S=_e(()=>({maxZoom:o.zoomBounds,zoom:{animate:o.zoomAnimate}}));Fe(()=>o.geojson,M=>{g.clearLayers(),R(M)},{deep:!0}),Fe(()=>o.dragging,M=>{M?h.dragging.enable():h.dragging.disable()}),hn(()=>{const M={center:o.center,zoom:o.zoom,worldCopyJump:!0,dragging:o.dragging};o.disableZoom&&Object.assign(M,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),m=new Mn.FeatureGroup,g=new Mn.FeatureGroup,h=Mn.map(y.value,M),h.pm.setGlobalOptions({layerGroup:m}),g.addTo(h),h.addLayer(m),h.addLayer(g),o.geojson&&R(o.geojson),o.controls&&(h.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),h.on("pm:create",I=>{i("geojson",j()),i("add:layer",C(I.layer))}),m.on("pm:edit",I=>{i("geojson",j()),i("edit:layer",C(I.layer))}),h.on("pm:drawstart",I=>{T(),i("draw:start",I)}),h.on("zoom",I=>i("zoom:change",I)),h.on("zoomstart",I=>i("zoom:start",I))),k.osm.addTo(h),E()});function j(){const M=Mn.featureGroup();return m.eachLayer(I=>{(I instanceof Mn.Path||I instanceof Mn.Marker)&&I.pm&&M.addLayer(I)}),M.toGeoJSON()}function T(){m.clearLayers()}function C(M){const I=M.toGeoJSON();return typeof M.getRadius=="function"&&(I.properties.radius=M.getRadius()),I}const G=()=>{if(!g)return;const M=g.getBounds();h.invalidateSize(),vs(()=>{Object.keys(M).length&&h.fitBounds(M,S.value)})},E=()=>{f=new ResizeObserver(M=>{M[0].contentRect,G()}),f.observe(y.value)};Zr(()=>{g.clearLayers(),f==null||f.disconnect()});function R(M){if(M){Mn.geoJSON(M,{...Iw(Mn),...o.geojsonOptions}).addTo(g);const I=g.getBounds();I.isValid()&&h.fitBounds(I,S.value)}i("geojson:ready",g)}function H(){return h}return n({clearDrawLayers:T,getMapObject:H,resizeMap:G}),(M,I)=>(W(),at("div",{ref_key:"leafletMap",ref:y,style:$r({width:o.width,height:o.height})},null,4))}},jw=Object.freeze(Object.defineProperty({__proto__:null,default:Dw},Symbol.toStringTag,{value:"Module"}));function zw(t){Nw(t,Object.assign({"/src/components/Map/VMap.client.vue":jw}))}function Nw(t,n){Object.entries(n).forEach(([o,l])=>{const c=o.split("/").pop().replace(/\.client.\w+$/,"");t.component(c,l.default)})}const Hw={};function Fw(t,n){return W(),It(dl,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:_t(()=>[Te(t.$slots,"default")]),_:3})}const Vw=se(Hw,[["render",Fw]]),$w=Object.freeze(Object.defineProperty({__proto__:null,default:Vw},Symbol.toStringTag,{value:"Module"})),Uw={},Gw={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"},Zw=kh('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1),qw=[Zw];function Kw(t,n){return W(),at("svg",Gw,qw)}const Ww=se(Uw,[["render",Kw]]);const Jw={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},Yw={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},Xw=["placeholder"],Qw={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},tx=["onClick"],ex=["innerHTML"],nx=500,rx={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(t,{emit:n}){const i=t,o=Qt(""),l=Qt([]),c=Qt(!1),h=Qt(null);let f;Fe(o,g=>{clearTimeout(f),g.length?f=setTimeout(()=>{c.value=!0,Qe.get(i.url,{params:{...i.params,[i.queryParam]:o.value}}).then(({data:y})=>{c.value=!1,l.value=y})},nx):l.value=[]});const m=g=>{n("select",g),o.value=""};return hn(()=>{i.autofocus&&h.value.focus()}),(g,y)=>{const k=vt("IconSearch");return W(),at("div",Jw,[lt("div",Yw,[it(k,{class:"w-4 h-4 text-gray-500"})]),il(lt("input",{"onUpdate:modelValue":y[0]||(y[0]=S=>o.value=S),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:t.placeholder,ref_key:"inputElement",ref:h},null,8,Xw),[[Nm,o.value]]),c.value?(W(),It(Ww,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Wt("",!0),l.value.length?(W(),at("ul",Qw,[(W(!0),at(Kt,null,Se(l.value,S=>(W(),at("li",{key:S.id,class:"autocomplete__item px-3 py-2 border-b text-xs cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:j=>m(S)},[lt("span",{innerHTML:S[t.label]},null,8,ex)],8,tx))),128))])):Wt("",!0)])}}},Cd=se(rx,[["__scopeId","data-v-c5caf34f"]]),ix=Object.freeze(Object.defineProperty({__proto__:null,default:Cd},Symbol.toStringTag,{value:"Module"})),ox={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(t){const n=ed(),i=({id:o,otu_valid_id:l})=>{n.push({name:"otus-id-overview",params:{id:l||o}})};return(o,l)=>(W(),It(Cd,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:t.autofocus,params:{having_taxon_name_only:!0},onSelect:i},null,8,["autofocus"]))}},sx=Object.freeze(Object.defineProperty({__proto__:null,default:ox},Symbol.toStringTag,{value:"Module"})),ax=["title"],lx={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:n}){const i=t,o=_e({get(){return i.modelValue},set(l){n("update:modelValue",l)}});return(l,c)=>{const h=vt("IconMinusCircle"),f=vt("IconPlusCircle");return W(),at("button",{type:"button",title:o.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:c[0]||(c[0]=m=>o.value=!o.value)},[o.value?(W(),It(h,{key:0,class:"w-5 h-5"})):(W(),It(f,{key:1,class:"w-5 h-5"}))],8,ax)}}},cx=Object.freeze(Object.defineProperty({__proto__:null,default:lx},Symbol.toStringTag,{value:"Module"})),ux={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(t){return(n,i)=>(W(),at("button",{type:"button",class:Fn(["px-3 py-1 hover:bg-opacity-80",{"bg-primary-color":t.primary,"bg-secondary-color":t.secondary,"text-primary-content":t.primary,"text-secondary-content":t.secondary}])},[Te(n.$slots,"default")],2))}},hx=Object.freeze(Object.defineProperty({__proto__:null,default:ux},Symbol.toStringTag,{value:"Module"}));const dx={},fx={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function px(t,n){return W(),at("div",fx,[Te(t.$slots,"default")])}const mx=se(dx,[["render",px]]),gx=Object.freeze(Object.defineProperty({__proto__:null,default:mx},Symbol.toStringTag,{value:"Module"})),_x={},yx={class:"p-4 pl-5 pr-5"};function vx(t,n){return W(),at("div",yx,[Te(t.$slots,"default")])}const bx=se(_x,[["render",vx]]),wx=Object.freeze(Object.defineProperty({__proto__:null,default:bx},Symbol.toStringTag,{value:"Module"})),xx={},kx={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function Lx(t,n){return W(),at("div",kx,[Te(t.$slots,"default")])}const Mx=se(xx,[["render",Lx]]),Cx=Object.freeze(Object.defineProperty({__proto__:null,default:Mx},Symbol.toStringTag,{value:"Module"})),Px={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(t){const n=t,i=Qt(!1);let o;function l(){navigator.clipboard.writeText(n.text).then(()=>{i.value=!0,o=setTimeout(()=>{i.value=!1},n.delay)})}return Ls(()=>{clearTimeout(o)}),(c,h)=>{const f=vt("IconCheck"),m=vt("IconClipboard"),g=vt("VButton");return W(),It(g,{class:"px-2 py-2 rounded-full",primary:"",onClick:l},{default:_t(()=>[i.value?(W(),It(f,{key:0,class:"w-4 h-4"})):(W(),It(m,{key:1,class:"w-4 h-4"}))]),_:1})}}},Sx=Object.freeze(Object.defineProperty({__proto__:null,default:Px},Symbol.toStringTag,{value:"Module"})),Ex={class:"relative inline"},Tx=["onClick"],Ox={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(t){const n=Qt(null),i=Qt(!1),o=()=>{i.value=!i.value},l=h=>{i.value=!1,h.action()};function c(h){var f;(!h.target||!((f=n.value)!=null&&f.contains(h.target)))&&(i.value=!1)}return hn(()=>{document.addEventListener("pointerdown",c,{passive:!0,capture:!0})}),Ls(()=>{document.removeEventListener("pointerdown",c,{capture:!0})}),(h,f)=>(W(),at("div",Ex,[lt("button",{title:"Menu",onClick:o},[Te(h.$slots,"button")]),i.value?(W(),at("ul",{key:0,ref_key:"element",ref:n,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(W(!0),at(Kt,null,Se(t.items,m=>(W(),at("li",{key:m.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:g=>l(m)},he(m.label),9,Tx))),128))],512)):Wt("",!0)]))}},Rx=Object.freeze(Object.defineProperty({__proto__:null,default:Ox},Symbol.toStringTag,{value:"Module"})),Ax=["title"],Bx=["alt","src"],Ix={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(t){return(n,i)=>(W(),at("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:t.title},[lt("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:t.title,src:t.image.thumb},null,8,Bx)],8,Ax))}},Dx={class:"flex flex-row overflow-x-auto print:flex-wrap"},Pd={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(t,{emit:n}){return(i,o)=>(W(),at("div",Dx,[(W(!0),at(Kt,null,Se(t.images,(l,c)=>(W(),at("div",{key:l.id,class:"pr-1.5 last:pr-0"},[it(Ix,{image:l,class:Fn({"border border-secondary-color":t.current===c}),title:l.depictions.map(h=>h.label).join(";"),onClick:h=>n("selectIndex",c)},null,8,["image","class","title","onClick"])]))),128))]))}},jx={class:"h-80 max-h-80 flex items-center justify-center"},zx=["src","alt"],Nx={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(t,{emit:n}){const i=t,o=Qt(!1),l=Qt(null);return Fe(()=>i.image,c=>{c.id&&(o.value=!0)}),hn(()=>{l.value.addEventListener("load",()=>o.value=!1)}),(c,h)=>{const f=vt("VSpinner"),m=vt("ClientOnly");return W(),at("div",jx,[it(m,null,{default:_t(()=>[o.value?(W(),It(f,{key:0})):Wt("",!0)]),_:1}),lt("img",{ref_key:"imageElement",ref:l,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto",src:t.image.original,alt:t.image.depictions.map(g=>g.label).join(";"),onClick:h[0]||(h[0]=g=>n("open:viewer"))},null,8,zx)])}}},Hx={class:"flex flex-col"},Fx={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},Vx={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(t){const n=t,i=Qt(!1),o=Qt(0),l=_e(()=>n.images[o.value]||{}),c=()=>{o.value--},h=()=>{o.value++};return Fe(()=>n.images,()=>{o.value=0},{immediate:!0}),(f,m)=>{const g=vt("ImageViewer");return W(),at(Kt,null,[lt("div",Hx,[lt("div",Fx,[it(Nx,{image:l.value,"onOpen:viewer":m[0]||(m[0]=()=>i.value=!0)},null,8,["image"])]),it(Pd,{class:"pt-2 pb-2",images:t.images,onSelectIndex:m[1]||(m[1]=y=>{o.value=y})},null,8,["images"])]),i.value?(W(),It(g,{key:0,index:o.value,images:t.images,next:o.value<n.images.length-1,previous:o.value>0,onSelectIndex:m[2]||(m[2]=y=>o.value=y),onNext:m[3]||(m[3]=y=>h()),onPrevious:m[4]||(m[4]=y=>c()),onClose:m[5]||(m[5]=y=>i.value=!1)},null,8,["index","images","next","previous"])):Wt("",!0)],64)}}},$x=Object.freeze(Object.defineProperty({__proto__:null,default:Vx},Symbol.toStringTag,{value:"Module"})),Ux={},Gx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Zx=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1),qx=[Zx];function Kx(t,n){return W(),at("svg",Gx,qx)}const Wx=se(Ux,[["render",Kx]]),Jx=Object.freeze(Object.defineProperty({__proto__:null,default:Wx},Symbol.toStringTag,{value:"Module"})),Yx={},Xx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Qx=lt("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1),t1=[Qx];function e1(t,n){return W(),at("svg",Xx,t1)}const n1=se(Yx,[["render",e1]]),r1=Object.freeze(Object.defineProperty({__proto__:null,default:n1},Symbol.toStringTag,{value:"Module"})),i1={},o1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},s1=lt("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1),a1=[s1];function l1(t,n){return W(),at("svg",o1,a1)}const c1=se(i1,[["render",l1]]),u1=Object.freeze(Object.defineProperty({__proto__:null,default:c1},Symbol.toStringTag,{value:"Module"})),h1={},d1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},f1=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),p1=[f1];function m1(t,n){return W(),at("svg",d1,p1)}const g1=se(h1,[["render",m1]]),_1=Object.freeze(Object.defineProperty({__proto__:null,default:g1},Symbol.toStringTag,{value:"Module"})),y1={},v1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},b1=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1),w1=[b1];function x1(t,n){return W(),at("svg",v1,w1)}const k1=se(y1,[["render",x1]]),L1=Object.freeze(Object.defineProperty({__proto__:null,default:k1},Symbol.toStringTag,{value:"Module"})),M1={},C1={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},P1=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),S1=[P1];function E1(t,n){return W(),at("svg",C1,S1)}const T1=se(M1,[["render",E1]]),O1=Object.freeze(Object.defineProperty({__proto__:null,default:T1},Symbol.toStringTag,{value:"Module"})),R1={},A1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},B1=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1),I1=[B1];function D1(t,n){return W(),at("svg",A1,I1)}const j1=se(R1,[["render",D1]]),z1=Object.freeze(Object.defineProperty({__proto__:null,default:j1},Symbol.toStringTag,{value:"Module"})),N1={},H1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},F1=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),V1=[F1];function $1(t,n){return W(),at("svg",H1,V1)}const U1=se(N1,[["render",$1]]),G1=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"})),Z1={},q1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},K1=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1),W1=[K1];function J1(t,n){return W(),at("svg",q1,W1)}const Y1=se(Z1,[["render",J1]]),X1=Object.freeze(Object.defineProperty({__proto__:null,default:Y1},Symbol.toStringTag,{value:"Module"})),Q1={},tk={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},ek=lt("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1),nk=[ek];function rk(t,n){return W(),at("svg",tk,nk)}const ik=se(Q1,[["render",rk]]),ok=Object.freeze(Object.defineProperty({__proto__:null,default:ik},Symbol.toStringTag,{value:"Module"})),sk={},ak={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},lk=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),ck=[lk];function uk(t,n){return W(),at("svg",ak,ck)}const hk=se(sk,[["render",uk]]),dk=Object.freeze(Object.defineProperty({__proto__:null,default:hk},Symbol.toStringTag,{value:"Module"})),fk={},pk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},mk=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),gk=[mk];function _k(t,n){return W(),at("svg",pk,gk)}const yk=se(fk,[["render",_k]]),vk=Object.freeze(Object.defineProperty({__proto__:null,default:yk},Symbol.toStringTag,{value:"Module"})),bk={},wk={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},xk=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1),kk=[xk];function Lk(t,n){return W(),at("svg",wk,kk)}const Mk=se(bk,[["render",Lk]]),Ck=Object.freeze(Object.defineProperty({__proto__:null,default:Mk},Symbol.toStringTag,{value:"Module"})),Pk={},Sk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ek=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),Tk=[Ek];function Ok(t,n){return W(),at("svg",Sk,Tk)}const Rk=se(Pk,[["render",Ok]]),Ak=Object.freeze(Object.defineProperty({__proto__:null,default:Rk},Symbol.toStringTag,{value:"Module"})),Bk={},Ik={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Dk=lt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1),jk=[Dk];function zk(t,n){return W(),at("svg",Ik,jk)}const Nk=se(Bk,[["render",zk]]),Hk=Object.freeze(Object.defineProperty({__proto__:null,default:Nk},Symbol.toStringTag,{value:"Module"})),Fk={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(t){return(n,i)=>(W(),at("div",null,[lt("p",null,he(t.attribution.label),1)]))}},Vk={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(t){return(n,i)=>(W(),at("div",null,[(W(!0),at(Kt,null,Se(t.depictions,o=>(W(),at("div",{key:o.id},[lt("p",null,he(o.label),1)]))),128))]))}},$k=["innerHTML"],Uk={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(t){return(n,i)=>(W(),at("div",null,[lt("p",{innerHTML:t.source.label},null,8,$k)]))}},Gk={class:"p-2 text-black dark:text-white opacity-50"},Zk={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(t){return(n,i)=>(W(),at("span",Gk,he(t.currentImage+1)+"/"+he(t.totalImages),1))}},qk={},Kk={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background"};function Wk(t,n){const i=vt("IconArrowRight");return W(),at("button",Kk,[it(i,{class:"h-8 w-8"})])}const Jk=se(qk,[["render",Wk]]),Yk={},Xk={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background"};function Qk(t,n){const i=vt("IconArrowLeft");return W(),at("button",Xk,[it(i,{class:"h-8 w-8"})])}const tL=se(Yk,[["render",Qk]]),eL={},nL={class:"p-2 box-border flex justify-between"};function rL(t,n){return W(),at("div",nL,[lt("div",null,[Te(t.$slots,"default")]),lt("div",null,[Te(t.$slots,"right")])])}const iL=se(eL,[["render",rL]]),oL={},sL={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function aL(t,n){const i=vt("IconClose");return W(),at("button",sL,[it(i)])}const lL=se(oL,[["render",aL]]),cL={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},uL={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},hL=["src"],dL={class:"bottom-0 fixed max-w-full w-full"},fL={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},pL={class:"flex justify-center"},mL={__name:"ImageViewer.global",props:{index:{type:Object,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(t,{emit:n}){const i=t,o=({key:f})=>{switch(f){case"ArrowLeft":i.previous&&n("previous");break;case"ArrowRight":i.next&&n("next");break;case"Escape":n("close");break}},l=Qt(null),c=Qt(!1),h=_e(()=>i.images[i.index]);return document.addEventListener("keyup",o),hn(()=>{l.value.addEventListener("load",()=>c.value=!1),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keyup",o),document.body.classList.remove("overflow-hidden")}),Fe(()=>i.index,()=>c.value=!0),(f,m)=>{const g=vt("VSpinner");return W(),at("div",cL,[lt("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:m[3]||(m[3]=us(()=>{},["stop"]))},[lt("div",uL,[c.value?(W(),It(g,{key:0})):Wt("",!0),lt("img",{ref_key:"imageElement",ref:l,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",src:h.value.original,onClick:m[0]||(m[0]=y=>n("close"))},null,8,hL),t.next?(W(),It(Jk,{key:1,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:m[1]||(m[1]=y=>n("next"))})):Wt("",!0),t.previous?(W(),It(tL,{key:2,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:m[2]||(m[2]=y=>n("previous"))})):Wt("",!0)])]),lt("div",dL,[lt("div",fL,[it(Vk,{class:"my-auto",depictions:h.value.depictions},null,8,["depictions"]),it(Fk,{class:"my-auto",attribution:h.value.attribution},null,8,["attribution"]),it(Uk,{class:"my-auto",source:h.value.source},null,8,["source"])]),lt("div",pL,[it(Pd,{class:"pb-2",current:t.index,images:t.images,onSelectIndex:m[4]||(m[4]=y=>n("selectIndex",y)),onClick:m[5]||(m[5]=us(()=>{},["stop"]))},null,8,["current","images"])])]),it(iL,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:_t(()=>[it(lL,{onClick:m[6]||(m[6]=y=>n("close"))})]),default:_t(()=>[it(Zk,{"current-image":t.index,"total-images":t.images.length},null,8,["current-image","total-images"])]),_:1})])}}},gL=Object.freeze(Object.defineProperty({__proto__:null,default:mL},Symbol.toStringTag,{value:"Module"})),_L={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},yL=lt("span",null,null,-1),vL={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},bL={__name:"VModal.global",emits:["close"],setup(t,{emit:n}){const i=o=>{o.key==="Escape"&&(o.stopPropagation(),n("close"))};return hn(()=>{document.addEventListener("keydown",i),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keydown",i),document.body.classList.remove("overflow-hidden")}),(o,l)=>{const c=vt("IconClose");return W(),at("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:l[2]||(l[2]=h=>n("close")),onKey:l[3]||(l[3]=us(h=>n("close"),["stop"]))},[lt("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:l[1]||(l[1]=us(()=>{},["stop"]))},[lt("div",_L,[Te(o.$slots,"header",{},()=>[yL]),it(c,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:l[0]||(l[0]=()=>n("close"))})]),lt("div",vL,[Te(o.$slots,"default")]),lt("div",null,[Te(o.$slots,"footer")])])],32)}}},wL=Object.freeze(Object.defineProperty({__proto__:null,default:bL},Symbol.toStringTag,{value:"Module"})),xL={key:1},kL={__name:"ClientOnly.global",setup(t){const n=Qt(!1);return hn(()=>{n.value=!0}),(i,o)=>n.value?Te(i.$slots,"default",{key:0}):(W(),at("div",xL))}},LL=Object.freeze(Object.defineProperty({__proto__:null,default:kL},Symbol.toStringTag,{value:"Module"})),ML={class:"inline-flex items-center text-sm"},CL={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(t){return(n,i)=>{const o=vt("router-link");return W(),at("li",ML,[it(o,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-gray-700 border-b-2 border-transparent","active-class":"border-b-2 border-blue-500 text-primary-500",to:t.to},{default:_t(()=>[Te(n.$slots,"default")]),_:3},8,["to"])])}}},PL=Object.freeze(Object.defineProperty({__proto__:null,default:CL},Symbol.toStringTag,{value:"Module"})),SL={},EL={class:"inline-flex items-center space-x-1 md:space-x-3"};function TL(t,n){return W(),at("ul",EL,[Te(t.$slots,"default")])}const OL=se(SL,[["render",TL]]),RL=Object.freeze(Object.defineProperty({__proto__:null,default:OL},Symbol.toStringTag,{value:"Module"})),AL={},BL={class:"relative sm:rounded-lg"},IL={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function DL(t,n){return W(),at("div",BL,[lt("table",IL,[Te(t.$slots,"default")])])}const jL=se(AL,[["render",DL]]),zL=Object.freeze(Object.defineProperty({__proto__:null,default:jL},Symbol.toStringTag,{value:"Module"})),NL={},HL={class:"normal-case text-xs"};function FL(t,n){return W(),at("tbody",HL,[Te(t.$slots,"default")])}const VL=se(NL,[["render",FL]]),$L=Object.freeze(Object.defineProperty({__proto__:null,default:VL},Symbol.toStringTag,{value:"Module"})),UL={},GL={class:"px-4 py-4"};function ZL(t,n){return W(),at("td",GL,[Te(t.$slots,"default")])}const qL=se(UL,[["render",ZL]]),KL=Object.freeze(Object.defineProperty({__proto__:null,default:qL},Symbol.toStringTag,{value:"Module"})),WL={},JL={class:"bg-base-foreground border-b border-base-border"};function YL(t,n){return W(),at("tr",JL,[Te(t.$slots,"default")])}const XL=se(WL,[["render",YL]]),QL=Object.freeze(Object.defineProperty({__proto__:null,default:XL},Symbol.toStringTag,{value:"Module"})),tM={},eM={class:"text-xs text-base-content uppercase bg-base-background"};function nM(t,n){return W(),at("thead",eM,[Te(t.$slots,"default")])}const rM=se(tM,[["render",nM]]),iM=Object.freeze(Object.defineProperty({__proto__:null,default:rM},Symbol.toStringTag,{value:"Module"})),oM={},sM={class:"px-4 py-3"};function aM(t,n){return W(),at("th",sM,[Te(t.$slots,"default")])}const lM=se(oM,[["render",aM]]),cM=Object.freeze(Object.defineProperty({__proto__:null,default:lM},Symbol.toStringTag,{value:"Module"})),uM={};function hM(t,n){return W(),at("tr",null,[Te(t.$slots,"default")])}const dM=se(uM,[["render",hM]]),fM=Object.freeze(Object.defineProperty({__proto__:null,default:dM},Symbol.toStringTag,{value:"Module"})),pM={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(t){const n=Dp(),i=_e(()=>{var c;const l=(c=n.default)==null?void 0:c.call(n);return o(l)});function o(l){if(!l)return!0;const[c]=l;let h=c.children;return c.el!==null||h!==null}return(l,c)=>(W(),at(Kt,null,[Te(l.$slots,"default"),i.value?(W(),at("span",{key:0,class:Fn(t.class)},[(W(!0),at(Kt,null,Se(t.lines,h=>(W(),at("span",{key:h,class:"inline-block w-full rounded-sm bg-base-muted leading-5"},"  "))),128))],2)):Wt("",!0)],64))}},mM=Object.freeze(Object.defineProperty({__proto__:null,default:pM},Symbol.toStringTag,{value:"Module"}));const wl=t=>(th("data-v-8838d446"),t=t(),eh(),t),gM=wl(()=>lt("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1)),_M=wl(()=>lt("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)),yM=[gM,_M],vM=wl(()=>lt("span",{class:"sr-only"},"Loading...",-1)),bM=["innerHTML"],wM={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({marginTop:"30px",textAlign:"center"})},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({width:"50px",height:"50px"})}},setup(t){const n=t,i={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},o=Qt(null),l=Qt({}),c=Qt(void 0);hn(()=>{h(),n.resize&&!n.fullScreen&&m()}),Zr(()=>clearInterval(c.value));const h=()=>{const g=n.target?document.querySelector(n.target):o.value.parentNode;Object.assign(l.value,n.fullScreen?i:f(g))},f=g=>{const y=g.getBoundingClientRect(),k=window.getComputedStyle(g,null),S=parseInt(k.getPropertyValue("padding-left"),10),j=parseInt(k.getPropertyValue("padding-right"),10),T=parseInt(k.getPropertyValue("padding-top"),10),C=parseInt(k.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:y.width-S-j+"px",height:y.height-T-C+"px"}},m=()=>{c.value=setInterval(h(),500)};return(g,y)=>(W(),at("div",{ref_key:"spinnerElement",ref:o,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:$r(l.value)},[lt("div",{class:Fn(["tw-spinner",[`tw-spinner-${t.spinnerPosition}`]])},[t.showSpinner?(W(),at("svg",{key:0,style:$r(t.logoSize),"aria-hidden":"true",class:"text-base-lighter animate-spin fill-primary-color",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yM,4)):Wt("",!0),vM,lt("div",{class:"text-base-content",style:$r(t.legendStyle)},[t.showLegend?(W(),at("span",{key:0,innerHTML:t.legend},null,8,bM)):Wt("",!0),Te(g.$slots,"default",{},void 0,!0)],4)],2)],4))}},xM=se(wM,[["__scopeId","data-v-8838d446"]]),kM=Object.freeze(Object.defineProperty({__proto__:null,default:xM},Symbol.toStringTag,{value:"Module"}));function LM(t){MM(t,Object.assign({"/src/components/Animation/AnimationOpacity.global.vue":$w,"/src/components/Autocomplete/Autocomplete.global.vue":ix,"/src/components/Autocomplete/AutocompleteOtu.global.vue":sx,"/src/components/Button/ButtonExpand.global.vue":cx,"/src/components/Button/VButton.global.vue":hx,"/src/components/Card/VCard.global.vue":gx,"/src/components/Card/VCardContent.global.vue":wx,"/src/components/Card/VCardHeader.global.vue":Cx,"/src/components/Clipboard/VClipboard.global.vue":Sx,"/src/components/Dropdown/Dropdown.global.vue":Rx,"/src/components/Gallery/GalleryImage.global.vue":$x,"/src/components/Icon/IconArrowDown.global.vue":Jx,"/src/components/Icon/IconArrowLeft.global.vue":r1,"/src/components/Icon/IconArrowRight.global.vue":u1,"/src/components/Icon/IconCheck.global.vue":_1,"/src/components/Icon/IconClipboard.global.vue":L1,"/src/components/Icon/IconClose.global.vue":O1,"/src/components/Icon/IconDocument.global.vue":z1,"/src/components/Icon/IconDownload.global.vue":G1,"/src/components/Icon/IconHamburger.global.vue":X1,"/src/components/Icon/IconJson.global.vue":ok,"/src/components/Icon/IconMinusCircle.global.vue":dk,"/src/components/Icon/IconPlusCircle.global.vue":vk,"/src/components/Icon/IconSearch.global.vue":Ck,"/src/components/Icon/IconTrash.global.vue":Ak,"/src/components/Icon/IconWarning.global.vue":Hk,"/src/components/ImageViewer/ImageViewer.global.vue":gL,"/src/components/Modal/VModal.global.vue":wL,"/src/components/Ssr/ClientOnly.global.vue":LL,"/src/components/Tab/TabItem.global.vue":PL,"/src/components/Tab/TabMenu.global.vue":RL,"/src/components/Table/VTable.global.vue":zL,"/src/components/Table/VTableBody.global.vue":$L,"/src/components/Table/VTableBodyCell.global.vue":KL,"/src/components/Table/VTableBodyRow.global.vue":QL,"/src/components/Table/VTableHeader.global.vue":iM,"/src/components/Table/VTableHeaderCell.global.vue":cM,"/src/components/Table/VTableHeaderRow.global.vue":fM,"/src/components/VSkeleton.global.vue":mM,"/src/components/VSpinner.global.vue":kM}))}function MM(t,n){Object.entries(n).forEach(([o,l])=>{const c=o.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");t.component(c,l.default)})}const CM=window.location.origin,Lu=window.initialState,{app:xl,router:PM,store:SM}=bw({originUrl:CM});Lu&&(SM.state.value=Lu);zw(xl);LM(xl);PM.isReady().then(()=>{xl.mount("#app")});export{lt as a,oe as b,at as c,lh as d,it as e,kh as f,W as o,vt as r,he as t};
